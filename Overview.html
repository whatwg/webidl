<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!--
  Overview.html
  Web IDL

  Note: This file is generated from Overview.xml.  Run "make" to regenerate it.
  -->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Web IDL (Second Edition)</title>
    <meta name="revision" content="$Id: Overview.html,v 1.556 2012-07-10 07:24:32 cmccorma Exp $" />
    <link rel="stylesheet" href="WebIDL.css" type="text/css" />
    <script src="section-links.js" type="application/ecmascript"></script>
    <script src="dfn.js" type="application/ecmascript"></script>

    
  <link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-ED" type="text/css" /></head>

  <body>
    <div class="head"><div><a href="http://www.w3.org/"><img src="http://www.w3.org/Icons/w3c_home" width="72" height="48" alt="W3C" /></a></div><h1>Web IDL (Second Edition)</h1><h2>W3C Editor’s Draft <em>10 July 2012</em></h2><dl><dt>This Version:</dt><dd><a href="http://dev.w3.org/2006/webapi/WebIDL/">http://dev.w3.org/2006/webapi/WebIDL/</a></dd><dt>Latest Version:</dt><dd><a href="http://www.w3.org/TR/WebIDL/">http://www.w3.org/TR/WebIDL/</a></dd><dt>Previous Versions:</dt><dd><a href="http://www.w3.org/TR/2012/CR-WebIDL-20120419/">http://www.w3.org/TR/2012/CR-WebIDL-20120419/</a></dd><dd><a href="http://www.w3.org/TR/2012/WD-WebIDL-20120207/">http://www.w3.org/TR/2012/WD-WebIDL-20120207/</a></dd><dd><a href="http://www.w3.org/TR/2011/WD-WebIDL-20110927/">http://www.w3.org/TR/2011/WD-WebIDL-20110927/</a></dd><dd><a href="http://www.w3.org/TR/2011/WD-WebIDL-20110712/">http://www.w3.org/TR/2011/WD-WebIDL-20110712/</a></dd><dd><a href="http://www.w3.org/TR/2010/WD-WebIDL-20101021/">http://www.w3.org/TR/2010/WD-WebIDL-20101021/</a></dd><dd><a href="http://www.w3.org/TR/2008/WD-WebIDL-20081219/">http://www.w3.org/TR/2008/WD-WebIDL-20081219/</a></dd><dd><a href="http://www.w3.org/TR/2008/WD-WebIDL-20080829/">http://www.w3.org/TR/2008/WD-WebIDL-20080829/</a></dd><dd><a href="http://www.w3.org/TR/2008/WD-DOM-Bindings-20080410/">http://www.w3.org/TR/2008/WD-DOM-Bindings-20080410/</a></dd><dd><a href="http://www.w3.org/TR/2007/WD-DOM-Bindings-20071017/">http://www.w3.org/TR/2007/WD-DOM-Bindings-20071017/</a></dd><dt>Editor:</dt><dd><a href="http://mcc.id.au/">Cameron McCormack</a>, Mozilla Corporation &lt;cam@mcc.id.au&gt;</dd></dl><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> &copy; 2012 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>&reg;</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div><hr />

    <!--
    <div id='publication-warning'>
      <strong>This document is in the process of being prepared to be published as a Candidate Recommendation.
      Please note that it as yet has not been published as a CR and that this document
      at dev.w3.org is still to be considered an unofficial draft.</strong> <br/> <button onclick="document.body.removeChild(this.parentNode)">Dismiss</button>
    </div>
    -->

    <div class="section">
      <h2>Abstract</h2>
      <p>
        This document defines an interface definition language, Web IDL,
        that can be used to describe interfaces that are intended to be
        implemented in web browsers.  Web IDL is an IDL variant with a
        number of features that allow the behavior of common script objects in
        the web platform to be specified more readily.  How interfaces
        described with Web IDL correspond to constructs within ECMAScript
        execution environments is also detailed in this document.
        It is expected that this document acts
        as a guide to implementors of already-published specifications,
        and that newly published specifications reference this
        document to ensure conforming implementations of interfaces
        are interoperable.
      </p>

      <!-- XXX
        Things to consider that aren't in ednotes:
          * Consistent linking to term definitions.
          * Consistent capitalisation and naming of algorithm variables.

        Potential V2 features:
          * Parameterized interface types, for BlahLists
            http://www.w3.org/mid/op.vr2r6waf64w2qv@anne-van-kesterens-macbook-pro.local
        -->
<!--          
      <?revision-note http://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;short_desc_type=allwordssubstr&amp;short_desc=&amp;product=WebAppsWG&amp;component=WebIDL&amp;longdesc_type=allwordssubstr&amp;longdesc=&amp;bug_file_loc_type=allwordssubstr&amp;bug_file_loc=&amp;status_whiteboard_type=allwordssubstr&amp;status_whiteboard=&amp;keywords_type=allwords&amp;keywords=&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;emailtype1=substring&amp;email1=&amp;emailtype2=substring&amp;email2=&amp;bug_id_type=anyexact&amp;bug_id=&amp;votes=&amp;chfieldfrom=&amp;chfieldto=Now&amp;chfieldvalue=&amp;cmdtype=doit&amp;order=Importance&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;value0-0-0=?>
-->

    </div>

    <div class="section">
      <h2 id="sotd">Status of This Document</h2>
      <p><em>
        This section describes the status of this document at the time of
        its publication.  Other documents may supersede this document. A list
        of current W3C publications and the latest revision of this technical
        report can be found in the <a href="http://www.w3.org/TR/">W3C technical
          reports index</a> at http://www.w3.org/TR/.
      </em></p><p>
        This document is the 10 July 2012 <b>Editor’s Draft</b> of the
        <cite>Web IDL (Second Edition)</cite> specification.
      
      Please send comments about this document to
      <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
      (<a href="http://lists.w3.org/Archives/Public/public-script-coord/">archived</a>).
    </p>
      <p>
        This is the Second Edition of Web IDL, branched off from the
        Candidate Recommendation of the First Edition.  This Second
        Edition includes new features that could not have been added
        to the First Edition without delaying its progress along the
        Recommendation track.
      </p>
      <p>
        This document is produced by the
        <a href="http://www.w3.org/2008/webapps/">Web Applications Working Group</a>, part of the
        <a href="http://www.w3.org/2006/rwc/Activity">Rich Web Clients Activity</a>
        in the W3C <a href="http://www.w3.org/Interaction/">Interaction Domain</a>.
        Changes made to this document can be found in the
        <a href="http://dev.w3.org/cvsweb/2006/webapi/WebIDL/Overview.xml">W3C
          public CVS server</a>.
      </p>
      <p>
        <!--In addition to the issues marked by editorial notes in this document,-->
        There is a <a href="https://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;short_desc_type=allwordssubstr&amp;short_desc=&amp;product=WebAppsWG&amp;component=WebIDL&amp;longdesc_type=allwordssubstr&amp;longdesc=&amp;bug_file_loc_type=allwordssubstr&amp;bug_file_loc=&amp;status_whiteboard_type=allwordssubstr&amp;status_whiteboard=&amp;keywords_type=allwords&amp;keywords=&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;emailtype1=substring&amp;email1=&amp;emailtype2=substring&amp;email2=&amp;bug_id_type=anyexact&amp;bug_id=&amp;votes=&amp;chfieldfrom=&amp;chfieldto=Now&amp;chfieldvalue=&amp;cmdtype=doit&amp;order=Reuse%20same%20sort%20as%20last%20time&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;value0-0-0=">bug tracker</a>
        for the specification.
      </p>
      <p>
          Publication as an Editor’s Draft does not imply endorsement by the
          W3C Membership.  This is a draft document and may be updated, replaced
          or obsoleted by other documents at any time. It is inappropriate to cite
          this document as other than work in progress.
        </p><p>
      This document was produced by a group operating under the
      <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
        2004 W3C Patent Policy</a>. W3C maintains a
      <a href="http://www.w3.org/2004/01/pp-impl/42538/status">public list of
        any patent disclosures</a> made in connection with the deliverables of
      the group; that page also includes instructions for disclosing a patent.
      An individual who has actual knowledge of a patent which the individual
      believes contains
      <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
        Claim(s)</a> must disclose the information in accordance with
      <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
        6 of the W3C Patent Policy</a>.
    </p>
    </div>

    <div id="toc">
      <h2>Table of Contents</h2>
      <div class="toc"><ul><li><a href="#introduction">1. Introduction</a><ul><li><a href="#conventions">1.1. Typographic conventions</a></li></ul></li><li><a href="#conformance">2. Conformance</a></li><li><a href="#idl">3. Interface definition language</a><ul><li><a href="#idl-names">3.1. Names</a></li><li><a href="#idl-interfaces">3.2. Interfaces</a><ul><li><a href="#idl-constants">3.2.1. Constants</a></li><li><a href="#idl-attributes">3.2.2. Attributes</a></li><li><a href="#idl-operations">3.2.3. Operations</a></li><li><a href="#idl-special-operations">3.2.4. Special operations</a><ul><li><a href="#idl-legacy-callers">3.2.4.1. Legacy callers</a></li><li><a href="#idl-stringifiers">3.2.4.2. Stringifiers</a></li><li><a href="#idl-serializers">3.2.4.3. Serializers</a></li><li><a href="#idl-indexed-properties">3.2.4.4. Indexed properties</a></li><li><a href="#idl-named-properties">3.2.4.5. Named properties</a></li></ul></li><li><a href="#idl-static-attributes-and-operations">3.2.5. Static attributes and operations</a></li><li><a href="#idl-overloading">3.2.6. Overloading</a></li><li><a href="#idl-iterators">3.2.7. Iterators</a></li></ul></li><li><a href="#idl-dictionaries">3.3. Dictionaries</a></li><li><a href="#idl-exceptions">3.4. Exceptions</a></li><li><a href="#idl-enums">3.5. Enumerations</a></li><li><a href="#idl-callback-functions">3.6. Callback functions</a></li><li><a href="#idl-typedefs">3.7. Typedefs</a></li><li><a href="#idl-implements-statements">3.8. Implements statements</a></li><li><a href="#idl-objects">3.9. Objects implementing interfaces</a></li><li><a href="#idl-types">3.10. Types</a><ul><li><a href="#idl-any">3.10.1. any</a></li><li><a href="#idl-boolean">3.10.2. boolean</a></li><li><a href="#idl-byte">3.10.3. byte</a></li><li><a href="#idl-octet">3.10.4. octet</a></li><li><a href="#idl-short">3.10.5. short</a></li><li><a href="#idl-unsigned-short">3.10.6. unsigned short</a></li><li><a href="#idl-long">3.10.7. long</a></li><li><a href="#idl-unsigned-long">3.10.8. unsigned long</a></li><li><a href="#idl-long-long">3.10.9. long long</a></li><li><a href="#idl-unsigned-long-long">3.10.10. unsigned long long</a></li><li><a href="#idl-float">3.10.11. float</a></li><li><a href="#idl-unrestricted-float">3.10.12. unrestricted float</a></li><li><a href="#idl-double">3.10.13. double</a></li><li><a href="#idl-unrestricted-double">3.10.14. unrestricted double</a></li><li><a href="#idl-DOMString">3.10.15. DOMString</a></li><li><a href="#idl-ByteString">3.10.16. ByteString</a></li><li><a href="#idl-object">3.10.17. object</a></li><li><a href="#idl-interface">3.10.18. Interface types</a></li><li><a href="#idl-dictionary">3.10.19. Dictionary types</a></li><li><a href="#idl-enumeration">3.10.20. Enumeration types</a></li><li><a href="#idl-callback-function">3.10.21. Callback function types</a></li><li><a href="#idl-nullable-type">3.10.22. Nullable types — <var>T</var>?</a></li><li><a href="#idl-sequence">3.10.23. Sequences — sequence&lt;<var>T</var>&gt;</a></li><li><a href="#idl-array">3.10.24. Arrays — <var>T</var>[]</a></li><li><a href="#idl-union">3.10.25. Union types</a></li><li><a href="#idl-Date">3.10.26. Date</a></li></ul></li><li><a href="#idl-extended-attributes">3.11. Extended attributes</a></li></ul></li><li><a href="#ecmascript-binding">4. ECMAScript binding</a><ul><li><a href="#es-environment">4.1. ECMAScript environment</a></li><li><a href="#es-type-mapping">4.2. ECMAScript type mapping</a><ul><li><a href="#es-any">4.2.1. any</a></li><li><a href="#es-void">4.2.2. void</a></li><li><a href="#es-boolean">4.2.3. boolean</a></li><li><a href="#es-byte">4.2.4. byte</a></li><li><a href="#es-octet">4.2.5. octet</a></li><li><a href="#es-short">4.2.6. short</a></li><li><a href="#es-unsigned-short">4.2.7. unsigned short</a></li><li><a href="#es-long">4.2.8. long</a></li><li><a href="#es-unsigned-long">4.2.9. unsigned long</a></li><li><a href="#es-long-long">4.2.10. long long</a></li><li><a href="#es-unsigned-long-long">4.2.11. unsigned long long</a></li><li><a href="#es-float">4.2.12. float</a></li><li><a href="#es-unrestricted-float">4.2.13. unrestricted float</a></li><li><a href="#es-double">4.2.14. double</a></li><li><a href="#es-unrestricted-double">4.2.15. unrestricted double</a></li><li><a href="#es-DOMString">4.2.16. DOMString</a></li><li><a href="#es-ByteString">4.2.17. ByteString</a></li><li><a href="#es-object">4.2.18. object</a></li><li><a href="#es-interface">4.2.19. Interface types</a></li><li><a href="#es-dictionary">4.2.20. Dictionary types</a></li><li><a href="#es-enumeration">4.2.21. Enumeration types</a></li><li><a href="#es-callback-function">4.2.22. Callback function types</a></li><li><a href="#es-nullable-type">4.2.23. Nullable types — <var>T</var>?</a></li><li><a href="#es-sequence">4.2.24. Sequences — sequence&lt;<var>T</var>&gt;</a></li><li><a href="#es-array">4.2.25. Arrays — <var>T</var>[]</a><ul><li><a href="#platform-array-object-getownproperty">4.2.25.1. Platform array object [[GetOwnProperty]] method</a></li><li><a href="#platform-array-object-defineownproperty">4.2.25.2. Platform array object [[DefineOwnProperty]] method</a></li><li><a href="#platform-array-object-delete">4.2.25.3. Platform array object [[Delete]] method</a></li></ul></li><li><a href="#es-union">4.2.26. Union types</a></li><li><a href="#es-Date">4.2.27. Date</a></li></ul></li><li><a href="#es-extended-attributes">4.3. ECMAScript-specific extended attributes</a><ul><li><a href="#ArrayClass">4.3.1. [ArrayClass]</a></li><li><a href="#Clamp">4.3.2. [Clamp]</a></li><li><a href="#Constructor">4.3.3. [Constructor]</a></li><li><a href="#EnforceRange">4.3.4. [EnforceRange]</a></li><li><a href="#ImplicitThis">4.3.5. [ImplicitThis]</a></li><li><a href="#LenientThis">4.3.6. [LenientThis]</a></li><li><a href="#NamedConstructor">4.3.7. [NamedConstructor]</a></li><li><a href="#NoInterfaceObject">4.3.8. [NoInterfaceObject]</a></li><li><a href="#OverrideBuiltins">4.3.9. [OverrideBuiltins]</a></li><li><a href="#PutForwards">4.3.10. [PutForwards]</a></li><li><a href="#Replaceable">4.3.11. [Replaceable]</a></li><li><a href="#NamedPropertiesObject">4.3.12. [NamedPropertiesObject]</a></li><li><a href="#TreatNonCallableAsNull">4.3.13. [TreatNonCallableAsNull]</a></li><li><a href="#TreatNullAs">4.3.14. [TreatNullAs]</a></li><li><a href="#TreatUndefinedAs">4.3.15. [TreatUndefinedAs]</a></li><li><a href="#Unforgeable">4.3.16. [Unforgeable]</a></li></ul></li><li><a href="#es-interfaces">4.4. Interfaces</a><ul><li><a href="#interface-object">4.4.1. Interface object</a><ul><li><a href="#es-interface-call">4.4.1.1. Interface object [[Call]] method</a></li></ul></li><li><a href="#named-constructors">4.4.2. Named constructors</a></li><li><a href="#interface-prototype-object">4.4.3. Interface prototype object</a></li><li><a href="#named-properties-object">4.4.4. Named properties object</a><ul><li><a href="#named-properties-object-getownproperty">4.4.4.1. Named properties object [[GetOwnProperty]] method</a></li></ul></li><li><a href="#es-constants">4.4.5. Constants</a></li><li><a href="#es-attributes">4.4.6. Attributes</a></li><li><a href="#es-operations">4.4.7. Operations</a><ul><li><a href="#es-stringifier">4.4.7.1. Stringifiers</a></li><li><a href="#es-serializer">4.4.7.2. Serializers</a></li></ul></li><li><a href="#es-iterators">4.4.8. Iterators</a><ul><li><a href="#es-default-iterator-object">4.4.8.1. Default iterator objects</a></li><li><a href="#es-iterator-prototype-object">4.4.8.2. Iterator prototype object</a></li><li><a href="#es-iterator-object-interfaces">4.4.8.3. Iterator object interfaces</a></li></ul></li></ul></li><li><a href="#es-implements-statements">4.5. Implements statements</a></li><li><a href="#es-platform-objects">4.6. Platform objects implementing interfaces</a><ul><li><a href="#indexed-and-named-properties">4.6.1. Indexed and named properties</a></li><li><a href="#getownproperty">4.6.2. Platform object [[GetOwnProperty]] method</a></li><li><a href="#defineownproperty">4.6.3. Platform object [[DefineOwnProperty]] method</a></li><li><a href="#delete">4.6.4. Platform object [[Delete]] method</a></li><li><a href="#call">4.6.5. Platform object [[Call]] method</a></li><li><a href="#property-enumeration">4.6.6. Property enumeration</a></li></ul></li><li><a href="#es-user-objects">4.7. User objects implementing callback interfaces</a></li><li><a href="#es-invoking-callback-functions">4.8. Invoking callback functions</a></li><li><a href="#es-exceptions">4.9. Exceptions</a><ul><li><a href="#es-exception-interface-object">4.9.1. Exception interface object</a><ul><li><a href="#es-exception-call">4.9.1.1. Exception interface object [[Call]] method</a></li></ul></li><li><a href="#es-exception-interface-prototype-object">4.9.2. Exception interface prototype object</a></li><li><a href="#es-exception-constants">4.9.3. Constants</a></li><li><a href="#es-exception-fields">4.9.4. Exception fields</a></li></ul></li><li><a href="#es-exception-objects">4.10. Exception objects</a></li><li><a href="#es-throwing-exceptions">4.11. Throwing exceptions</a></li><li><a href="#es-handling-exceptions">4.12. Handling exceptions</a></li></ul></li><li><a href="#common">5. Common definitions</a><ul><li><a href="#common-DOMTimeStamp">5.1. DOMTimeStamp</a></li><li><a href="#common-Function">5.2. Function</a></li><li><a href="#common-VoidFunction">5.3. VoidFunction</a></li></ul></li><li><a href="#extensibility">6. Extensibility</a></li><li><a href="#referencing">7. Referencing this specification</a></li><li><a href="#acknowledgements">8. Acknowledgements</a></li></ul><ul><li><a href="#idl-grammar">A. IDL grammar</a></li><li><a href="#references">B. References</a><ul><li><a href="#normative-references">B.1. Normative references</a></li><li><a href="#informative-references">B.2. Informative references</a></li></ul></li><li><a href="#changes">C. Changes</a></li></ul></div>
    </div>

    <div id="sections">
      <div id="introduction" class="section">
        <h2>1. Introduction</h2>

        <p class="norm">This section is informative.</p>

        <p>
          Technical reports published by the W3C that include programming
          language interfaces have typically been described using the
          Object Management Group’s Interface Definition Language (IDL)
          <a href="#ref-OMGIDL">[OMGIDL]</a>.  The IDL provides a means to
          describe these interfaces in a language independent manner.  Usually,
          additional language binding appendices are included in such
          documents which detail how the interfaces described with the IDL
          correspond to constructs in the given language.
        </p>
        <p>
          However, the bindings in these specifications for the language most
          commonly used on the web, ECMAScript, are consistently specified with
          low enough precision as to result in interoperability issues.  In
          addition, each specification must describe the same basic information,
          such as DOM interfaces described in IDL corresponding to properties
          on the ECMAScript global object, or the <a class="idltype" href="#idl-unsigned-long">unsigned
            long</a> IDL type mapping to the <span class="estype">Number</span>
          type in ECMAScript.
        </p>
        <p>
          This specification defines an IDL language similar to OMG IDL
          for use by specifications that define interfaces for Web APIs.  A number of extensions are
          given to the IDL to support common functionality that previously must
          have been written in prose.  In addition, precise language bindings
          for ECMAScript Edition 6 are given.
        </p>

        <div id="conventions" class="section">
          <h3>1.1. Typographic conventions</h3>

          <p>
            The following typographic conventions are used in this document:
          </p>
          <ul>
            <li>Defining instances of terms: <dfn id="dfn-example-term">example term</dfn></li>
            <li>Links to terms defined in this document: <a class="dfnref" href="#dfn-example-term">example term</a></li>
            <li>Links to terms defined in other documents: <a class="dfnref external" href="#dfn-example-term">example term</a></li>
            <li>Grammar symbols: <span class="sym">ExampleGrammarSymbol</span></li>
            <li>IDL and ECMAScript types: <span class="idltype">ExampleType</span></li>
            <li>Code snippets: <code>a = b + obj.f()</code></li>
            <li>Unicode characters: <span class="char">U+0030 DIGIT ZERO ("0")</span></li>
            <li>Extended attributes: <span class="xattr">[ExampleExtendedAttribute]</span></li>
            <li>Variable names in prose and algorithms: <var>exampleVariableName</var>.</li>
            <li>IDL informal syntax examples:
              <pre class="syntax">interface <i>identifier</i> {
  <em>interface-members…</em>
};</pre>
              (Red text is used to highlight specific parts of the syntax discussed in surrounding prose.)</li>
            <li>IDL grammar snippets:
              <table class="grammar">
                <tr><td><span class="prod-number">[5]</span></td><td><span class="sym">ExampleGrammarSymbol</span></td><td class="prod-mid">→</td><td><span class="prod-lines">OtherSymbol "sometoken"<br /> | AnotherSymbol<br /> | ε  <span class="comment">// nothing</span></span></td></tr>
              </table>
              (Each grammar rule is assigned a number for reference, shown on the left.)</li>
            <li>Non-normative notes: <div class="note"><div class="noteHeader">Note</div><p>This is a note.</p></div></li>
            <li>Non-normative examples: <div class="example"><div class="exampleHeader">Example</div><p>This is an example.</p></div></li>
            <li>Normative warnings: <div class="warning"><div class="warningHeader">Warning</div><p>This is a warning.</p></div></li>
            <li>Code blocks: <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code"><span class="comment">// This is an IDL code block.</span>
interface Example {
  attribute long something;
};</code></pre></div></div>
<div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// This is an ECMAScript code block.</span>
window.onload = function() { window.alert("loaded"); };</code></pre></div></div></li>
          </ul>
        </div>
      </div>

      <div id="conformance" class="section">
        <h2>2. Conformance</h2>

        <p>
          Everything in this specification is normative except for diagrams,
          examples, notes and sections marked as being informative.
        </p>
        <p>
          The keywords “<span class="rfc2119">MUST</span>”,
          “<span class="rfc2119">MUST NOT</span>”,
          “<span class="rfc2119">REQUIRED</span>”,
          “<span class="rfc2119">SHALL</span>”,
          “<span class="rfc2119">SHALL NOT</span>”,
          “<span class="rfc2119">SHOULD</span>”,
          “<span class="rfc2119">SHOULD NOT</span>”,
          “<span class="rfc2119">RECOMMENDED</span>”,
          “<span class="rfc2119">MAY</span>” and
          “<span class="rfc2119">OPTIONAL</span>” in this document are to be
          interpreted as described in
          <cite><a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to
              Indicate Requirement Levels</a></cite>
          <a href="#ref-RFC2119">[RFC2119]</a>.
        </p>
        <p>
          The following conformance classes are defined by this specification:
        </p>
        <dl>
          <dt><dfn id="dfn-conforming-idl-fragment">conforming IDL fragment</dfn></dt>
          <dd>
            <p>
              An <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is considered
              to be a <a class="dfnref" href="#dfn-conforming-idl-fragment">conforming
                IDL fragment</a> if it satisfies all of the
              <span class="rfc2119">MUST</span>-,
              <span class="rfc2119">REQUIRED</span>- and <span class="rfc2119">SHALL</span>-level
              criteria in this specification that apply to IDL fragments.
            </p>
          </dd>
          <dt><dfn id="dfn-conforming-implementation">conforming implementation</dfn></dt>
          <dd>
            <p>
              A user agent is considered to be a
              <a class="dfnref" href="#dfn-conforming-implementation">conforming implementation</a>
              relative to a <a class="dfnref" href="#dfn-conforming-idl-fragment">conforming
                IDL fragment</a>  if it satisfies all of the <span class="rfc2119">MUST</span>-,
              <span class="rfc2119">REQUIRED</span>- and <span class="rfc2119">SHALL</span>-level
              criteria in this specification that apply to implementations for all language
              bindings that the user agent supports.
            </p>
          </dd>
          <dt><dfn id="dfn-conforming-ecmascript-implementation">conforming ECMAScript implementation</dfn></dt>
          <dd>
            <p>
              A user agent is considered to be a
              <a class="dfnref" href="#dfn-conforming-ecmascript-implementation">conforming ECMAScript implementation</a>
              relative to a <a class="dfnref" href="#dfn-conforming-idl-fragment">conforming
                IDL fragment</a>  if it satisfies all of the <span class="rfc2119">MUST</span>-,
              <span class="rfc2119">REQUIRED</span>- and <span class="rfc2119">SHALL</span>-level
              criteria in this specification that apply to implementations for the ECMAScript
              language binding.
            </p>
          </dd>
        </dl>
      </div>

      <div id="idl" class="section">
        <h2>3. Interface definition language</h2>

        <p>
          This section describes a language, <em>Web IDL</em>, which can be used to define
          interfaces for APIs in the Web platform.  A specification that defines Web APIs
          can include one or more <dfn id="dfn-idl-fragment">IDL fragments</dfn> that
          describe the interfaces (the state and behavior that objects can exhibit)
          for the APIs defined by that specification.
          An <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is
          a sequence of definitions that matches the <a class="sym" href="#prod-Definitions">Definitions</a> grammar symbol.
          The set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> that
          an implementation supports is not ordered.
          See <a href="#idl-grammar">Appendix A</a> for the complete grammar and an explanation of the notation used.
        </p>

        <p>
          The different kinds of <dfn id="dfn-definition">definitions</dfn> that can appear in an
          <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> are:
          <a class="dfnref" href="#dfn-interface">interfaces</a>,
          <a class="dfnref" href="#dfn-partial-interface">partial interface definitions</a>,
          <a class="dfnref" href="#dfn-dictionary">dictionaries</a>,
          <a class="dfnref" href="#dfn-partial-dictionary">partial dictionary definitions</a>,
          <a class="dfnref" href="#dfn-exception">exceptions</a>,
          <a class="dfnref" href="#dfn-typedef">typedefs</a> and
          <a class="dfnref" href="#dfn-implements-statement">implements statements</a>.
          These are all defined in the following sections.
        </p>

        <p>
          Each <a class="dfnref" href="#dfn-definition">definition</a>
          (matching <a class="sym" href="#prod-Definition">Definition</a>)
          can be preceded by a list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
          <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>),
          which can control how the definition will be handled in language bindings.
          The extended attributes defined by this specification that are language binding
          agnostic are discussed in <a href="#idl-extended-attributes">section 3.11</a>,
          while those specific to the ECMAScript language binding are discussed
          in <a href="#es-extended-attributes">section 4.3</a>.
        </p>

        <pre class="syntax">[<em>extended-attributes</em>]
interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>

        <table class="grammar"><tr id="proddef-Definitions"><td><span class="prod-number">[1]</span></td><td><a class="sym" href="#prod-Definitions">Definitions</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Definition">Definition</a> <a class="sym" href="#prod-Definitions">Definitions</a> <br /> |
             ε</span></td></tr><tr id="proddef-Definition"><td><span class="prod-number">[2]</span></td><td><a class="sym" href="#prod-Definition">Definition</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a> <br /> |
             <a class="sym" href="#prod-Partial">Partial</a> <br /> |
             <a class="sym" href="#prod-Dictionary">Dictionary</a> <br /> |
             <a class="sym" href="#prod-Exception">Exception</a> <br /> |
             <a class="sym" href="#prod-Enum">Enum</a> <br /> |
             <a class="sym" href="#prod-Typedef">Typedef</a> <br /> |
             <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></span></td></tr><tr id="proddef-CallbackOrInterface"><td><span class="prod-number">[3]</span></td><td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr></table>

        <div class="example"><div class="exampleHeader">Example</div>
          <p>
            The following is an example of an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>.
          </p>
          <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">exception GraphicsException {
  DOMString reason;
};

interface Paint { };

interface SolidColor : Paint {
  attribute float red;
  attribute float green;
  attribute float blue;
};

interface Pattern : Paint {
  attribute DOMString imageURL;
};

[Constructor]
interface GraphicalWindow {
  readonly attribute unsigned long width;
  readonly attribute unsigned long height;

  attribute Paint currentPaint;

  void drawRectangle(float x, float y, float width, float height)<!--
    raises(GraphicsException)-->;

  void drawText(float x, float y, DOMString text)<!--
    raises(GraphicsException)-->;
};</code></pre></div></div>
          <p>
            Here, four <a class="dfnref" href="#dfn-interface">interfaces</a> and one
            <a class="dfnref" href="#dfn-exception">exception</a> are being defined.
            The <span class="idltype">GraphicalWindow</span> interface has two
            <a class="dfnref" href="#dfn-read-only">read only</a> <a class="dfnref" href="#dfn-attribute">attributes</a>,
            one writable attribute, and two <a class="dfnref" href="#dfn-operation">operations</a>
            defined on it.  Objects that implement the <span class="idltype">GraphicalWindow</span> interface
            will expose these attributes and operations in a manner appropriate to the
            particular language being used.
          </p>
          <p>
            In ECMAScript, the attributes on the IDL interfaces will be exposed as accessor
            properties and the operations as <span class="estype">Function</span>-valued
            data properties on a prototype object for all <span class="idltype">GraphicalWindow</span>
            objects; each ECMAScript object that implements <span class="idltype">GraphicalWindow</span>
            will have that prototype object in its prototype chain.
          </p>
          <!--JAVA
          <p>
            In Java, there will exist a Java interface that corresponds to the IDL
            <span class='idltype'>GraphicalWindow</span> interface.  This Java interface
            will have methods that correspond to the operations, and getter and setter
            methods that correspond to the attributes.  Java objects that are considered
            to implement the IDL <span class='idltype'>GraphicalWindow</span> interface
            will implement the corresponding Java interface.
          </p>
          -->
          <p>
            The <a class="xattr" href="#Constructor">[Constructor]</a> that appears on <span class="idltype">GraphicalWindow</span>
            is an <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.
            This extended attribute causes a constructor to exist in ECMAScript implementations,
            so that calling <code>new GraphicalWindow()</code> would return a new object
            that implemented the interface.  <!--JAVA The <a class='xattr' href='#Constructor'>[Constructor]</a>
            extended attribute has no effect in the Java language binding, however.-->
          </p>
        </div>

        <div id="idl-names" class="section">
          <h3>3.1. Names</h3>

          <p>
            Every <a class="dfnref" href="#dfn-interface">interface</a>,
            <a class="dfnref" href="#dfn-partial-interface">partial interface definition</a>,
            <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
            <a class="dfnref" href="#dfn-partial-dictionary">partial dictionary definition</a>,
            <a class="dfnref" href="#dfn-exception">exception</a>,
            <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
            <a class="dfnref" href="#dfn-callback-function">callback function</a> and
            <a class="dfnref" href="#dfn-typedef">typedef</a> (together called <dfn id="dfn-named-definition">named definitions</dfn>)
            and every <a class="dfnref" href="#dfn-constant">constant</a>,
            <a class="dfnref" href="#dfn-attribute">attribute</a>,
            <a class="dfnref" href="#dfn-exception-field">exception field</a>
            and <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> has an
            <dfn id="dfn-identifier">identifier</dfn>, as do some
            <a class="dfnref" href="#dfn-operation">operations</a>.
            The identifier is determined by an
            <a class="sym" href="#prod-identifier">identifier</a> token somewhere
            in the declaration:
          </p>
          <ul>
            <li>
              For <a class="dfnref" href="#dfn-named-definition">named definitions</a>,
              the <a class="sym" href="#prod-identifier">identifier</a> token that appears
              directly after the <code>interface</code>,
              <code>dictionary</code>, <code>exception</code>, <code>enum</code>
              or <code>callback</code> keyword
              determines the identifier of that definition.
              <pre class="syntax">interface <em>interface-identifier</em> { <i>interface-members…</i> };
partial interface <em>interface-identifier</em> { <i>interface-members…</i> };
exception <em>exception-identifier</em> { <i>exception-members…</i> };
dictionary <em>dictionary-identifier</em> { <i>dictionary-members…</i> };
partial dictionary <em>dictionary-identifier</em> { <i>dictionary-members…</i> };
enum <em>enumeration-identifier</em> { <i>enumeration-values…</i> };
callback <em>callback-identifier</em> = <i>callback-signature</i>;</pre>
            </li>
            <li>
              For <a class="dfnref" href="#dfn-attribute">attributes</a>,
              <a class="dfnref" href="#dfn-typedef">typedefs</a>, <a class="dfnref" href="#dfn-exception-field">exception fields</a>
              and <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>,
              the final <a class="sym" href="#prod-identifier">identifier</a> token before the
              semicolon at the end of the declaration determines the identifier.
              <pre class="syntax">interface <i>identifier</i> {
  attribute <i>type</i> <em>attribute-identifier</em>;
};

typedef <i>type</i> <em>typedef-identifier</em>;

exception <i>identifier</i> {
  <i>type</i> <em>exception-member-identifier</em>;
};

dictionary <i>identifier</i> {
  <i>type</i> <em>dictionary-member-identifier</em>;
};</pre>
            </li>
            <li>
              For <a class="dfnref" href="#dfn-constant">constants</a>,
              the <a class="sym" href="#prod-identifier">identifier</a> token before the
              equals sign determines the identifier.
              <pre class="syntax">const <i>type</i> <em>constant-identifier</em> = <i>value</i>;</pre>
            </li>
            <li>
              For <a class="dfnref" href="#dfn-operation">operations</a>, the
              <a class="sym" href="#prod-identifier">identifier</a> token that appears
              after the return type but before the opening parenthesis (that is,
              one that is matched as part of the <a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a>
              grammar symbol in an <a class="sym" href="#prod-OperationRest">OperationRest</a>) determines the identifier of the operation.  If
              there is no such <a class="sym" href="#prod-identifier">identifier</a> token,
              then the operation does not have an identifier.
              <pre class="syntax"><i>return-type</i> <em>operation-identifier</em>(<i>arguments…</i>);</pre>
            </li>
          </ul>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              Operations can have no identifier when they are being used to declare a
              <a href="#idl-special-operations">special kind of operation</a>, such as a getter or setter.
            </p>
          </div>
          <p>
            For all of these constructs, the <a class="dfnref" href="#dfn-identifier">identifier</a>
            is the value of the <a class="sym" href="#prod-identifier">identifier</a> token with any single leading
            <span class="char">U+005F LOW LINE ("_")</span> character (underscore) removed.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              A leading <span class="char">"_"</span> is used to escape an identifier from looking
              like a reserved word so that, for example, an interface named “interface” can be
              defined.  The leading <span class="char">"_"</span> is dropped to unescape the
              identifier.
            </p>
          </div>
          <p>
            Operation arguments can take a slightly wider set of identifiers.  In an operation
            declaration, the identifier of an argument is specified immediately after its
            type and is given by either an <a class="sym" href="#prod-identifier">identifier</a>
            token or by one of the keywords that match the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
            symbol.  If one of these keywords is used, it need not be escaped with a leading
            underscore.
          </p>
          <pre class="syntax"><i>return-type</i> <i>operation-identifier</i>(<i>argument-type</i> <em>argument-identifier</em>, …);</pre>
          <table class="grammar"><tr id="proddef-ArgumentNameKeyword"><td><span class="prod-number">[67]</span></td><td><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "attribute" <br /> |
             "callback" <br /> |
             "const" <br /> |
             "creator" <br /> |
             "deleter" <br /> |
             "dictionary"
            <br /> |
             "enum" <br /> |
             "exception" <br /> |
             "getter" <br /> |
             "implements" <br /> |
             "inherit" <br /> |
             "interface"
            <br /> |
             "legacycaller" <br /> |
             "partial" <br /> |
             "serializer" <br /> |
             "setter" <br /> |
             "static" <br /> |
             "stringifier" <br /> |
             "typedef"
            <br /> |
             "unrestricted"
          </span></td></tr></table>
          <p>
            If an <a class="sym" href="#prod-identifier">identifier</a> token is used, then the
            <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation argument 
            is the value of that token with any single leading 
            <span class="char">U+005F LOW LINE ("_")</span> character (underscore) removed.
            If instead one of the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
            keyword token is used, then the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation argument 
            is simply that token.
          </p>
          <p>
            The <a class="dfnref" href="#dfn-identifier">identifier</a> of any of the abovementioned
            IDL constructs <a class="rfc2119">MUST NOT</a> be “prototype”, “constructor”, “iterator”,
            “toString”, “toJSON”,
            or begin with a <span class="char">U+005F LOW LINE ("_")</span> character.  These
            are known as <dfn id="dfn-reserved-identifier">reserved identifiers</dfn>.
          </p>
          <p>
            Within the set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>
            that a given implementation supports,
            the <a class="dfnref" href="#dfn-identifier">identifier</a> of every
            <a class="dfnref" href="#dfn-interface">interface</a>,
            <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
            <a class="dfnref" href="#dfn-exception">exception</a>,
            <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
            <a class="dfnref" href="#dfn-callback-function">callback function</a> and
            <a class="dfnref" href="#dfn-typedef">typedef</a>
            <span class="rfc2119">MUST NOT</span>
            be the same as the identifier of any other
            <a class="dfnref" href="#dfn-interface">interface</a>,
            <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
            <a class="dfnref" href="#dfn-exception">exception</a>,
            <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
            <a class="dfnref" href="#dfn-callback-function">callback function</a> or
            <a class="dfnref" href="#dfn-typedef">typedef</a>
          </p>
          <p>
            Within an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>, a reference
            to a <a class="dfnref" href="#dfn-definition">definition</a> need not appear after
            the declaration of the referenced definition.  References can also be made
            across <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>.
          </p>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>Therefore, the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is valid:</p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface B : A {
  void f(ArrayOfLongs x);
};

interface A {
};

typedef long[] ArrayOfLongs;</code></pre></div></div>
          </div>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              demonstrates how <a class="dfnref" href="#dfn-identifier">identifiers</a>
              are given to definitions, <a class="dfnref" href="#dfn-interface-member">interface members</a>
              and <a class="dfnref" href="#dfn-exception-member">exception members</a>.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code"><span class="comment">// Typedef identifier: "number"</span>
typedef float number;

<span class="comment">// Exception identifier: "FrameworkException"</span>
exception FrameworkException {

  <span class="comment">// Constant identifier: "ERR_NOT_FOUND"</span>
  const long ERR_NOT_FOUND = 1;

  <span class="comment">// Exception field identifier: "code"</span>
  long code;
};

<span class="comment">// Interface identifier: "System"</span>
interface System {

  <span class="comment">// Operation identifier:          "createObject"</span>
  <span class="comment">// Operation argument identifier: "interface"</span>
  object createObject(DOMString _interface);

  <span class="comment">// Operation argument identifier: "interface"</span>
  object[] createObjectArray(DOMString interface);

  <span class="comment">// Operation has no identifier; it declares a getter.</span>
  getter DOMString (DOMString keyName);
};

<span class="comment">// Interface identifier: "TextField"</span>
interface TextField {

  <span class="comment">// Attribute identifier: "const"</span>
  attribute boolean _const;

  <span class="comment">// Attribute identifier: "value"</span>
  attribute DOMString? _value;
};</code></pre></div></div>
            <p>
              Note that while the second <a class="dfnref" href="#dfn-attribute">attribute</a>
              on the <span class="idltype">TextField</span> <a class="dfnref" href="#dfn-interface">interface</a>
              need not have been escaped with an underscore (because “value” is
              not a keyword in the IDL grammar), it is still unescaped
              to obtain the attribute’s <a class="dfnref" href="#dfn-identifier">identifier</a>.
            </p>
          </div>
        </div>

        <div id="idl-interfaces" class="section">
          <h3>3.2. Interfaces</h3>

          <p>
            <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> are used to
            describe object oriented systems.  In such systems, objects are entities
            that have identity and which are encapsulations of state and behavior.
            An <dfn id="dfn-interface">interface</dfn> is a definition (matching
            <a class="sym" href="#prod-Interface">Interface</a> or
            <span class="sym">"callback"</span> <a class="sym" href="#prod-Interface">Interface</a>) that declares some
            state and behavior that an object implementing that interface will expose.
          </p>
          <pre class="syntax">interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>
          <p>
            An interface is a specification of a set of
            <dfn id="dfn-interface-member">interface members</dfn>
            (matching <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a>),
            which are the <a class="dfnref" href="#dfn-constant">constants</a>,
            <a class="dfnref" href="#dfn-attribute">attributes</a> and
            <a class="dfnref" href="#dfn-operation">operations</a>
            that appear between the braces in the interface declaration.
            Attributes describe the state that an object
            implementing the interface will expose, and operations describe the
            behaviors that can be invoked on the object.  Constants declare
            named constant values that are exposed as a convenience to users
            of objects in the system.
          </p>
          <p>
            Interfaces in Web IDL describe how objects that implement the
            interface behave.  In bindings for object oriented languages, it is
            expected that an object that implements a particular IDL interface
            provides ways to inspect and modify the object's state and to
            invoke the behavior described by the interface.
          </p>
          <!--JAVA
          <div class='note'>
            <p>
              In the Java language binding, for example, this is achieved by having the
              object implement a Java interface that has methods for reading and
              writing attribute values and to invoke an operation.
            </p>
          </div>
          -->
          <p>
            An interface can be defined to <dfn id="dfn-inherit">inherit</dfn> from another interface.
            If the identifier of the interface is followed by a
            <span class="char">U+003A COLON (":")</span> character
            and an <a class="dfnref" href="#dfn-identifier">identifier</a>,
            then that identifier identifies the inherited interface.
            An object that implements an interface that inherits from another
            also implements that inherited interface.  The object therefore will also
            have members that correspond to the interface members from the inherited interface.
          </p>
          <pre class="syntax">interface <i>identifier</i> : <em>identifier-of-inherited-interface</em> {
  <i>interface-members…</i>
};</pre>
          <p>
            The order that members appear in has no significance except in the
            case of <a href="#idl-overloading">overloading</a>.
          </p>
          <p>
            Interfaces may specify an interface member that has the same name as
            one from an inherited interface.  Objects that implement the derived
            interface will expose the member on the derived interface.  It is
            language binding specific whether the overridden member can be
            accessed on the object.
          </p>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              Consider the following two interfaces.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  void f();
  void g();
};

interface B : A {
  void f();
  void g(DOMString x);
};</code></pre></div></div>
            <p>
              In the ECMAScript language binding, an instance of <span class="idltype">B</span>
              will have a prototype chain that looks like the following:
            </p>
            <pre>  [Object.prototype: the Object prototype object]
       ↑
  [A.prototype: interface prototype object for A]
       ↑
  [B.prototype: interface prototype object for B]
       ↑
  [instanceOfB]</pre>
            <p>
              Calling <code>instanceOfB.f()</code> in ECMAScript will invoke the f defined
              on <span class="idltype">B</span>.  However, the f from <span class="idltype">A</span>
              can still be invoked on an object that implements <span class="idltype">B</span> by
              calling <code>A.prototype.f.call(instanceOfB)</code>.
            </p>
            <!--JAVA
            <p>
              In the Java language binding, the two IDL interfaces will correspond to
              the following Java interfaces:
            </p>
            <x:codeblock language='java'>public interface A {
  void f();
  void g();
}

public interface B extends A {
  void f();
  void g(String x);
}</x:codeblock>
            <p>
              Calling <code>instanceOfB.f()</code> in Java will invoke
              the f defined on <span class='idltype'>B</span>.  Due to
              the way method overriding is defined in Java, there is no
              way to call the f defined on <span class='idltype'>A</span>
              on an object that implements <span class='idltype'>B</span>.
              Since the signature of g is different in <span class='idltype'>A</span>
              and <span class='idltype'>B</span>, however, both can be called
              with, for example, <code>instanceOfB.g()</code> and
              <code>instanceOfB.g("")</code>.
            </p>
            <p>
              In both languages, the f and g from the derived interface
              <span class='idltype'>B</span> are always accessible.
            </p>
            -->
          </div>
          <p>
            The <dfn id="dfn-inherited-interfaces">inherited interfaces</dfn> of
            a given interface <var>A</var> is the set of all interfaces that <var>A</var>
            inherits from, directly or indirectly.  If <var>A</var> does not <a class="dfnref" href="#dfn-inherit">inherit</a>
            from another interface, then the set is empty.  Otherwise, the set
            includes the interface <var>B</var> that <var>A</var> <a class="dfnref" href="#dfn-inherit-dictionary">inherits</a>
            from and all of <var>B</var>’s <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a>.
          </p>
          <p>
            An interface <span class="rfc2119">MUST NOT</span> be declared such that
            its inheritance hierarchy has a cycle.  That is, an interface
            <var>A</var> cannot inherit from itself, nor can it inherit from another
            interface <var>B</var> that inherits from <var>A</var>, and so on.
          </p>
          <p>
            Note that general multiple inheritance of interfaces is not supported, and
            objects also cannot implement arbitrary sets of interfaces.
            Objects can be defined to implement a single given interface <var>A</var>,
            which means that it also implements all of <var>A</var>’s
            <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a>.  In addition,
            an <a href="#idl-implements-statements">implements statement</a> can be
            used to define that objects implementing an interface will always
            also implement another interface.
          </p>
          <p>
            Each interface member can be preceded by a list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
            <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>),
            which can control how the interface member will be handled in language bindings.
          </p>
        <pre class="syntax">interface <i>identifier</i> {

  [<em>extended-attributes</em>]
  const <i>type</i> <i>identifier</i> = <i>value</i>;

  [<em>extended-attributes</em>]
  attribute <i>type</i> <i>identifier</i>;

  [<em>extended-attributes</em>]
  <i>return-type</i> <i>identifier</i>(<i>arguments…</i>);
};</pre>

          <p>
            A <dfn id="dfn-callback-interface">callback interface</dfn> is
            an <a class="dfnref" href="#dfn-interface">interface</a>
            that uses the <code>callback</code> keyword at the start of
            its definition.  Callback interfaces are ones that can be
            implemented by <a class="dfnref" href="#dfn-user-object">user objects</a>
            and not by <a class="dfnref" href="#dfn-platform-object">platform objects</a>,
            as described in <a href="#idl-objects">section 3.9</a>
            below.
          </p>
          <pre class="syntax">callback interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>
          <div class="note"><div class="noteHeader">Note</div>
            <p>See also the similarly named <a class="dfnref" href="#dfn-callback-function">callback function</a> definition.</p>
          </div>
          <p>
            <a class="dfnref" href="#dfn-callback-interface">Callback interfaces</a>
            <span class="rfc2119">MUST NOT</span> <a class="dfnref" href="#dfn-inherit">inherit</a>
            from any non-callback interfaces, and non-callback interfaces <span class="rfc2119">MUST NOT</span>
            inherit from any callback interfaces.
            Callback interfaces <span class="rfc2119">MUST NOT</span> have any
            have any <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>.
          </p>
          <div class="warning"><div class="warningHeader">Warning</div>
            <p>
              Specification authors <span class="rfc2119">SHOULD NOT</span> define
              <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>
              that have only a single <a class="dfnref" href="#dfn-operation">operation</a>,
              unless required to describe the requirements of existing APIs.
              Instead, a <a class="dfnref" href="#dfn-callback-function">callback function</a> <span class="rfc2119">SHOULD</span> used.
            </p>
            <p>
              The definition of <span class="idltype">EventListener</span> as a
              <a class="dfnref" href="#dfn-callback-interface">callback interface</a>
              is an example of an existing API that needs to allow
              <a class="dfnref" href="#dfn-user-object">user objects</a> with a
              given property (in this case “handleEvent”) to be considered to implement the interface.
              For new APIs, and those for which there are no compatibility concerns,
              using a <a class="dfnref" href="#dfn-callback-function">callback function</a> will allow
              only a <span class="estype">Function</span> object (in the ECMAScript
              language binding).
            </p>
          </div>

          <div class="note"><div class="noteHeader">Note</div>
            <p>
              Specification authors wanting to define APIs that take ECMAScript objects
              as “property bag” like function arguments are suggested to use
              <a href="#idl-dictionaries">dictionary types</a> rather than
              <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
            </p>
            <p>
              For example, instead of this:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">callback interface Options {
  attribute DOMString? option1;
  attribute DOMString? option2;
  attribute long? option3;
};

interface A {
  void doTask(DOMString type, Options options);
};</code></pre></div></div>
            <p>
              to be used like this:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var a = getA();  <span class="comment">// Get an instance of A.</span>

a.doTask("something", { option1: "banana", option3: 100 });</code></pre></div></div>
            <p>
              instead write the following:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">dictionary Options {
  DOMString? option1;
  DOMString? option2;
  long? option3;
};

interface A {
  void doTask(DOMString type, Options options);
};</code></pre></div></div>
          </div>

          <p>
            The IDL for interfaces can be split into multiple parts by using
            <dfn id="dfn-partial-interface">partial interface</dfn> definitions
            (matching <span class="sym">"partial"</span> <a class="sym" href="#prod-PartialInterface">PartialInterface</a>).
            The <a class="dfnref" href="#dfn-identifier">identifier</a> of a partial
            interface definition <span class="rfc2119">MUST</span> be the same
            as the identifier of an interface definition.  All of
            the members that appear on each of the partial interfaces are considered to be
            members of the interface itself.
          </p>
          <pre class="syntax">interface <em>SomeInterface</em> {
  <i>interface-members…</i>
};

partial interface <em>SomeInterface</em> {
  <i>interface-members…</i>
};</pre>
          <div class="note"><div class="noteHeader">Note</div>
            <p>Partial interface definitions are intended for use as a specification
              editorial aide, allowing the definition of an interface to be separated
              over more than one section of the document, and sometimes multiple documents.</p>
          </div>
          <p>
            The order of appearance of an <a class="dfnref" href="#dfn-interface">interface</a>
            definition and any of its <a class="dfnref" href="#dfn-partial-interface">partial interface</a>
            definitions does not matter.
          </p>
          <p>
            <a class="dfnref" href="#dfn-extended-attribute">Extended attributes</a> can be specified on
            <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions, with some
            limitations.  The following extended attributes <span class="rfc2119">MUST NOT</span>
            be specified on partial interface definitions:
            <a class="xattr" href="#ArrayClass">[ArrayClass]</a>,
            <a class="xattr" href="#Constructor">[Constructor]</a>,
            <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>,
            <!--JAVA
            <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>,
            -->
            <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>,
            <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>The above list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              is all of those defined in this document that are applicable to
              <a class="dfnref" href="#dfn-interface">interfaces</a> except for
              <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> and
              <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>.</p>
          </div>
          <p>
            Any <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> specified
            on a <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definition
            is considered to appear on the <a class="dfnref" href="#dfn-interface">interface</a>
            itself.
          </p>
          <p>
            The relevant language binding determines how interfaces correspond to constructs
            in the language.
          </p>
          <!--
          <p>
            An <dfn id='dfn-interface-forward-declaration'>interface forward declaration</dfn>
            is a definition that matches the <a class='sym' href='#prod-Interface'>Interface</a> non-terminal
            whose <a class='sym' href='#prod-InterfaceBody'>InterfaceBody</a> is empty
            (that is, <a class='sym' href='#prod-InterfaceBody'>InterfaceBody</a> ⇒ ε).  A forward declaration
            is used to introduce an interface name to allow for the definition of mutually
            recursive interfaces, since scoped names
            need to resolve to types that have been
            <a class='dfnref' href='#dfn-declared-previously'>declared previously</a>.
          </p>
          -->

          <p>
            The following extended attributes are applicable to interfaces:
            <a class="xattr" href="#ArrayClass">[ArrayClass]</a>,
            <a class="xattr" href="#Constructor">[Constructor]</a>,
            <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>,
            <!--JAVA
            <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>,
            -->
            <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>,
            <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>,
            <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>,
            <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>.
          </p>

          <table class="grammar"><tr><td><span class="prod-number">[3]</span></td><td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr id="proddef-CallbackRestOrInterface"><td><span class="prod-number">[4]</span></td><td><a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr id="proddef-Interface"><td><span class="prod-number">[5]</span></td><td><a class="sym" href="#prod-Interface">Interface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td></tr><tr id="proddef-Partial"><td><span class="prod-number">[6]</span></td><td><a class="sym" href="#prod-Partial">Partial</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td></tr><tr id="proddef-PartialDefinition"><td><span class="prod-number">[7]</span></td><td><a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br /> |
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td></tr><tr id="proddef-PartialInterface"><td><span class="prod-number">[8]</span></td><td><a class="sym" href="#prod-PartialInterface">PartialInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td></tr><tr id="proddef-InterfaceMembers"><td><span class="prod-number">[9]</span></td><td><a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-InterfaceMember">InterfaceMember</a> <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> <br /> |
             ε</span></td></tr><tr id="proddef-InterfaceMember"><td><span class="prod-number">[10]</span></td><td><a class="sym" href="#prod-InterfaceMember">InterfaceMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br /> |
             <a class="sym" href="#prod-AttributeOrOperationOrIterator">AttributeOrOperationOrIterator</a></span></td></tr><tr id="proddef-Inheritance"><td><span class="prod-number">[19]</span></td><td><a class="sym" href="#prod-Inheritance">Inheritance</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr></table>

          <div class="example"><div class="exampleHeader">Example</div>
            <!--
            <p>
              The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
              demonstrates the use of an
              <a class='dfnref' href='#dfn-interface-forward-declaration'>interface forward declaration</a>
              to allow the definition of mutually referential <a class='dfnref' href='#dfn-interface'>interfaces</a>.
              Both <span class='idltype'>Human</span> and <span class='idltype'>Dog</span>
              inherit from <span class='idltype'>Animal</span>.  Objects that implement
              either of those two interfaces will thus have a <code>name</code> attribute.
            </p>
            -->
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              demonstrates the definition of two mutually referential <a class="dfnref" href="#dfn-interface">interfaces</a>.
              Both <span class="idltype">Human</span> and <span class="idltype">Dog</span>
              inherit from <span class="idltype">Animal</span>.  Objects that implement
              either of those two interfaces will thus have a <code>name</code> attribute.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Animal {
  attribute DOMString name;
};

interface Human : Animal {
  attribute Dog? pet;
};

interface Dog : Animal {
  attribute Human? owner;
};</code></pre></div></div>
          </div>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines
              simplified versions of a few DOM <a class="dfnref" href="#dfn-interface">interfaces</a>, one of which
              is a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Node {
  readonly attribute DOMString nodeName;
  readonly attribute Node? parentNode;
  Node appendChild(Node newChild);
  void addEventListener(DOMString type, EventListener listener);
};

callback interface EventListener {
  void handleEvent(Event event);
};</code></pre></div></div>
            <p>
              Since the <span class="idltype">EventListener</span> interface is annotated
              callback interface, <a class="dfnref" href="#dfn-user-object">user objects</a>
              can implement it:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var node = getNode();                                <span class="comment">// Obtain an instance of Node.</span>

var listener = {
  handleEvent: function(event) {
    ...
  }
};
node.addEventListener("click", listener);            <span class="comment">// This works.</span>

node.addEventListener("click", function() { ... });  <span class="comment">// As does this.</span></code></pre></div></div>
            <p>
              It is not possible for a user object to implement <span class="idltype">Node</span>, however:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var node = getNode();  <span class="comment">// Obtain an instance of Node.</span>

var newNode = {
  nodeName: "span",
  parentNode: null,
  appendChild: function(newchild) {
    ...
  },
  addEventListener: function(type, listener) {
    ...
  }
};
node.appendChild(newNode);  <span class="comment">// This will throw a TypeError exception.</span></code></pre></div></div>
          </div>

          <div id="idl-constants" class="section">
            <h4>3.2.1. Constants</h4>

            <p>
              A <dfn id="dfn-constant">constant</dfn> is a declaration (matching
              <a class="sym" href="#prod-Const">Const</a>) used to bind a constant value to a name.
              Constants can appear on <a class="dfnref" href="#dfn-interface">interfaces</a> and
              <a class="dfnref" href="#dfn-exception">exceptions</a>.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Constants have in the past primarily been used to define
                named integer codes in the style of an enumeration.  The Web platform
                is moving away from this design pattern in favor of the use of strings.
                Specification authors who wish to define constants are strongly advised to discuss
                this on the <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.
              </p>
            </div>
            <pre class="syntax">const <i>type</i> <i>identifier</i> = <i>value</i>;</pre>
            <p>
              The <a class="dfnref" href="#dfn-identifier">identifier</a> of a
              <a class="dfnref" href="#dfn-constant">constant</a>
              <span class="rfc2119">MUST NOT</span> be the same as the identifier
              of another <a class="dfnref" href="#dfn-interface-member">interface member</a>
              defined on the same interface
              or another <a class="dfnref" href="#dfn-exception-member">exception member</a>
              defined on the same exception.
            </p>
            <p>
              The type of a constant (matching <a class="sym" href="#prod-ConstType">ConstType</a>)
              <span class="rfc2119">MUST NOT</span> be any type other than
              a <a class="dfnref" href="#dfn-primitive-type">primitive type</a>
              or a <a class="dfnref" href="#dfn-nullable-type">nullable</a> primitive type.
              If an <a class="dfnref" href="#dfn-identifier">identifier</a> is used,
              it <span class="rfc2119">MUST</span> reference a <a class="dfnref" href="#dfn-typedef">typedef</a>
              whose type is a primitive type or a nullable primitive type.
            </p>
            <p>
              The <a class="sym" href="#prod-ConstValue">ConstValue</a> part of a
              constant declaration gives the value of the constant, which can be
              one of the two boolean literal tokens (<code>true</code>
              and <code>false</code>),
              the <code>null</code> token, an
              <a class="sym" href="#prod-integer">integer</a> token,
              a <a class="sym" href="#prod-float">float</a> token,
              or one of the three special floating point constant values
              (<code>-Infinity</code>, <code>Infinity</code> and <code>NaN</code>).
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                These values – in addition to strings – can also be used to specify the
                <a class="dfnref" href="#dfn-dictionary-member-default-value">default value
                  of a dictionary member</a> or <a class="dfnref" href="#dfn-optional-argument-default-value">of
                  an optional argument</a>.  Note that strings cannot be used as the value of a
                <a class="dfnref" href="#dfn-constant">constant</a>.
              </p>
            </div>
            <p>
              The value of the boolean literal tokens <code>true</code> and
              <code>false</code> are the IDL <a class="idltype" href="#idl-boolean">boolean</a> values
              <span class="idlvalue">true</span> and <span class="idlvalue">false</span>.
            </p>
            <p>
              The value of an <a class="sym" href="#prod-integer">integer</a> token is an integer
              whose value is determined as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>S</var> be the sequence of characters matched by the <a class="sym" href="#prod-integer">integer</a> token.</li>
              <li>Let <var>sign</var> be −1 if <var>S</var> begins with <span class="char">U+002D HYPHEN-MINUS ("-")</span>, and 1 otherwise.</li>
              <li>Let <var>base</var> be the base of the number based on the characters that follow the optional leading <span class="char">U+002D HYPHEN-MINUS ("-")</span> character:
                <dl class="switch">
                  <dt><span class="char">U+0030 DIGIT ZERO ("0")</span>, <span class="char">U+0058 LATIN CAPITAL LETTER X ("X")</span></dt>
                  <dt><span class="char">U+0030 DIGIT ZERO ("0")</span>, <span class="char">U+0078 LATIN SMALL LETTER X ("x")</span></dt>
                  <dd>The base is 16.</dd>
                  <dt><span class="char">U+0030 DIGIT ZERO ("0")</span></dt>
                  <dd>The base is 8.</dd>
                  <dt><span class="char">Otherwise</span></dt>
                  <dd>The base is 10.</dd>
                </dl>
              </li>
              <li>Let <var>number</var> be the result of interpreting all remaining characters following the optional leading <span class="char">U+002D HYPHEN-MINUS ("-")</span>
                character and any characters indicating the base as an integer specified in base <var>base</var>.</li>
              <li>Return <var>sign</var> × <var>number</var>.</li>
            </ol>
            <p>
              The type of an <a class="sym" href="#prod-integer">integer</a> token is the same
              as the type of the constant, dictionary member or optional argument it is being used as the value of.
              The value of the <a class="sym" href="#prod-integer">integer</a> token <span class="rfc2119">MUST NOT</span>
              lie outside the valid range of values for its type, as given in
              <a href="#idl-types">section 3.10</a> below.
            </p>
            <p id="float-token-value">
              The value of a <a class="sym" href="#prod-float">float</a> token is
              either an IEEE 754 single-precision floating point number or an IEEE 754
              double-precision floating point number, depending on the type of the
              constant, dictionary member or optional argument it is being used as the value for, determined as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>S</var> be the sequence of characters matched by the <a class="sym" href="#prod-float">float</a> token.</li>
              <li>Let <var>value</var> be the Mathematical Value that would be obtained if <var>S</var> were
                parsed as an ECMAScript <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-7.8.3"><em>NumericLiteral</em></a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 7.8.3).</li>
              <li>
                If the <a class="sym" href="#prod-float">float</a> token is being
                used as the value for a <a class="idltype" href="#idl-float">float</a> or
                <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, then
                the value of the <a class="sym" href="#prod-float">float</a> token
                is the IEEE 754 single-precision floating point number closest to
                <var>result</var>.  Otherwise, the <a class="sym" href="#prod-float">float</a> token is being
                used as the value for a <a class="idltype" href="#idl-double">double</a> or
                <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, and
                the value of the <a class="sym" href="#prod-float">float</a> token
                is the IEEE 754 double-precision floating point number closest to
                <var>result</var>.
                <a href="#ref-IEEE-754">[IEEE-754]</a>
              </li>
            </ol>
            <p>
              The value of a constant value specified as
              <code>Infinity</code>, <code>-Infinity</code> or <code>NaN</code> is either
              an IEEE 754 single-precision floating point number or an IEEE 754
              double-precision floating point number, depending on the type of the
              constant, dictionary member or optional argument is is being used as the
              value for:
            </p>
            <dl class="switch">
              <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>Infinity</code></dt>
              <dd>The value is the IEEE 754 single-precision positive infinity value.</dd>
              <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>Infinity</code></dt>
              <dd>The value is the IEEE 754 double-precision positive infinity value.</dd>
              <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>-Infinity</code></dt>
              <dd>The value is the IEEE 754 single-precision negative infinity value.</dd>
              <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>-Infinity</code></dt>
              <dd>The value is the IEEE 754 double-precision negative infinity value.</dd>
              <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>NaN</code></dt>
              <dd>The value is the IEEE 754 single-precision NaN value with the bit pattern 0x7fc00000.</dd>
              <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>NaN</code></dt>
              <dd>The value is the IEEE 754 double-precision NaN value with the bit pattern 0x7ff8000000000000.</dd>
            </dl>
            <p>
              The type of a <a class="sym" href="#prod-float">float</a> token is the same
              as the type of the constant, dictionary member or optional argument it is being used as the value of.  The value of the
              <a class="sym" href="#prod-float">float</a> token <span class="rfc2119">MUST NOT</span>
              lie outside the valid range of values for its type, as given in
              <a href="#idl-types">section 3.10</a> below.
              Also, <code>Infinity</code>, <code>-Infinity</code> and <code>NaN</code> <span class="rfc2119">MUST NOT</span>
              be used as the value of a <a class="idltype" href="#idl-float">float</a>
              or <a class="idltype" href="#idl-double">double</a>.
            </p>
            <p>
              The value of the <code>null</code> token is the special
              <span class="idlvalue">null</span> value that is a member of the
              <a class="dfnref" href="#dfn-nullable-type">nullable types</a>.  The type of
              the <code>null</code> token is the same as the
              type of the constant, dictionary member or optional argument it is being used as the value of.
            </p>
            <p>
              If <var>VT</var> is the type of the value assigned to a constant, and <var>DT</var>
              is the type of the constant, dictionary member or optional argument itself, then these types <span class="rfc2119">MUST</span>
              be compatible, which is the case if <var>DT</var> and <var>VT</var> are identical,
              or <var>DT</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a> 
              whose <a class="dfnref" href="#dfn-inner-type">inner type</a> is <var>VT</var>.
            </p>
            <p>
              <a class="dfnref" href="#dfn-constant">Constants</a> are not associated with
              particular instances of the <a class="dfnref" href="#dfn-interface">interface</a>
              on which they appear.  It is language binding specific whether
              <a class="dfnref" href="#dfn-constant">constants</a> are exposed on instances.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                <!--JAVA
                Both the ECMAScript and the Java language binding do however
                -->
                The ECMAScript language binding does however
                allow <a class="dfnref" href="#dfn-constant">constants</a> to be accessed
                through objects implementing the IDL <a class="dfnref" href="#dfn-interface">interfaces</a>
                on which the <a class="dfnref" href="#dfn-constant">constants</a> are declared.
                For example, with the following IDL:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  const short rambaldi = 47;
};</code></pre></div></div>
              <p>
                the constant value can be accessed in ECMAScript <!--JAVA and in Java--> either as
                <code>A.rambaldi</code> or <code>instanceOfA.rambaldi</code>.
              </p>
            </div>
            <p>
              No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              defined in this specification are applicable to constants.
            </p>

            <table class="grammar"><tr id="proddef-Const"><td><span class="prod-number">[26]</span></td><td><a class="sym" href="#prod-Const">Const</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"const" <a class="sym" href="#prod-ConstType">ConstType</a> <a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ConstValue">ConstValue</a> ";"</span></td></tr><tr id="proddef-ConstValue"><td><span class="prod-number">[27]</span></td><td><a class="sym" href="#prod-ConstValue">ConstValue</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a> <br /> |
             <a class="sym" href="#prod-FloatLiteral">FloatLiteral</a> <br /> |
             <a class="sym" href="#prod-integer">integer</a> <br /> |
             "null"</span></td></tr><tr id="proddef-BooleanLiteral"><td><span class="prod-number">[28]</span></td><td><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"true" <br /> |
             "false"</span></td></tr><tr id="proddef-FloatLiteral"><td><span class="prod-number">[29]</span></td><td><a class="sym" href="#prod-FloatLiteral">FloatLiteral</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-float">float</a> <br /> |
             "-" "Infinity" <br /> |
             "Infinity" <br /> |
             "NaN"</span></td></tr><tr id="proddef-ConstType"><td><span class="prod-number">[75]</span></td><td><a class="sym" href="#prod-ConstType">ConstType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td></tr></table>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                demonstrates how <a class="dfnref" href="#dfn-constant">constants</a>
                of the above types can be defined.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Util {
  const boolean DEBUG = false;
  const octet LF = 10;
  const unsigned long BIT_MASK = 0x0000fc00;
  const float AVOGADRO = 6.022e23;
};

exception Problem {
  const short ERR_UNKNOWN = 0;
  const short ERR_OUT_OF_MEMORY = 1;

  short errorCode;
};</code></pre></div></div>
            </div>
          </div>

          <div id="idl-attributes" class="section">
            <h4>3.2.2. Attributes</h4>

            <p>
              An <dfn id="dfn-attribute">attribute</dfn> is an <a class="dfnref" href="#dfn-interface-member">interface member</a>
              (matching <a href="#sym-Qualifier" class="sym">Qualifier</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> or <a class="sym" href="#prod-Attribute">Attribute</a>)
              that is used to declare data fields with a given type and
              <a class="dfnref" href="#dfn-identifier">identifier</a> whose value can
              be retrieved and (in some cases) changed.  There are two kinds of attributes:
            </p>
            <ol>
              <li><a class="dfnref" href="#dfn-regular-attribute">regular attributes</a>, which are those
              used to declare that objects implementing the <a class="dfnref" href="#dfn-interface">interface</a>
              will have a data field member with the given <a class="dfnref" href="#dfn-identifier">identifier</a>
              <pre class="syntax">attribute <i>type</i> <i>identifier</i>;</pre></li>
              <li><a class="dfnref" href="#dfn-static-attribute">static attributes</a>, which are used
              to declare attributes that are not associated with a particular object implementing the interface
              <pre class="syntax">static attribute <i>type</i> <i>identifier</i>;</pre></li>
            </ol>
            <p>
              If an attribute has no <code>static</code> keyword, then it declares a
              <dfn id="dfn-regular-attribute">regular attribute</dfn>.  Otherwise,
              it declares a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-identifier">identifier</a> of an
              <a class="dfnref" href="#dfn-attribute">attribute</a>
              <span class="rfc2119">MUST NOT</span> be the same as the identifier
              of another <a class="dfnref" href="#dfn-interface-member">interface member</a>
              defined on the same <a class="dfnref" href="#dfn-interface">interface</a>.
            </p>
            <p>
              The type of the attribute is given by the type (matching <a class="sym" href="#prod-Type">Type</a>)
              that appears after the <code>attribute</code> keyword.
              If the <a class="sym" href="#prod-Type">Type</a> is an
              <a class="dfnref" href="#dfn-identifier">identifier</a>
              or an identifier followed by <code>?</code>, then the identifier <span class="rfc2119">MUST</span>
              identify an interface, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
              <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
            </p>
            <p>
              The type of the attribute, after resolving typedefs, <span class="rfc2119">MUST NOT</span> be a
              <a class="dfnref" href="#dfn-nullable-type">nullable</a> or non-nullable version of any of the following types:
            </p>
            <ul>
              <li>a <a href="#idl-sequence">sequence type</a></li>
              <li>a <a href="#dfn-dictionary">dictionary</a></li>
              <li>a <a class="dfnref" href="#dfn-union-type">union type</a>
                that has a nullable or non-nullable sequence type or dictionary
                as one of its <a class="dfnref" href="#dfn-flattened-union-member-type">flattened member types</a></li>
            </ul>
            <p>
              The attribute is <dfn id="dfn-read-only">read only</dfn> if the
              <code>readonly</code> keyword is used before the <code>attribute</code> keyword.
              An object that implements the interface on which a read only attribute
              is defined will not allow assignment to that attribute.  It is language
              binding specific whether assignment is simply disallowed by the language,
              ignored or an exception is thrown.
            </p>
            <pre class="syntax">readonly attribute <i>type</i> <i>identifier</i>;</pre>
            <p>
              A <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>
              that is not <a class="dfnref" href="#dfn-read-only">read only</a>
              can be declared to <dfn id="dfn-inherit-getter">inherit its getter</dfn>
              from an ancestor interface.  This can be used to make a read only attribute
              in an ancestor interface be writable on a derived interface.  An attribute
              <a class="dfnref" href="#dfn-inherit-getter">inherits its getter</a> if
              its declaration includes <code>inherit</code> in the declaration.
              The read only attribute from which the attribute inherits its getter
              is the attribute with the same identifier on the closest ancestor interface
              of the one on which the inheriting attribute is defined.  The attribute
              whose getter is being inherited <span class="rfc2119">MUST</span> be
              of the same type as the inheriting attribute, and <code>inherit</code>
              <span class="rfc2119">MUST NOT</span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a>
              attribute or a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
            </p>
            <pre class="syntax">interface <i>Ancestor</i> {
  readonly attribute <i>TheType</i> <i>theIdentifier</i>;
};

interface <i>Derived</i> : <i>Ancestor</i> {
  inherit attribute <i>TheType</i> <i>theIdentifier</i>;
};</pre>
            <!--
            <p>
              The <a class='sym' href='#prod-GetRaises'>GetRaises</a> and
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clauses are used
              to declare the possible exceptions that can be thrown when retrieving
              the value of and assigning a value to the attribute, respectively.
              Each scoped name in the 
              <a class='sym' href='#prod-GetRaises'>GetRaises</a> and
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clauses
              <span class='rfc2119'>MUST</span> resolve to an <a class='dfnref' href='#dfn-exception'>exception</a>.
            </p>
            <pre class='syntax'>attribute <i>type</i> <i>identifier</i> getraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> setraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> getraises(<i>scoped-name</i>, <i>…</i>) setraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> inherits getter setraises(<i>scoped-name</i>, <i>…</i>);</pre>
            -->
            <p>
              When the <code>stringifier</code> keyword is used
              in a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>
              declaration, it indicates that objects implementing the
              interface will be stringified to the value of the attribute.  See
              <a href="#idl-stringifiers">section 3.2.4.2</a>
              below for details.
            </p>
            <pre class="syntax">stringifier attribute DOMString <i>identifier</i>;</pre>
            <p id="callback-attribute-exceptions">
              If an implementation attempts to get or set the value of an
              <a class="dfnref" href="#dfn-attribute">attribute</a> on a
              <a class="dfnref" href="#dfn-user-object">user object</a>
              (for example, when a callback object has been supplied to the implementation),
              and that attempt results in an exception being thrown, then, unless otherwise specified, that
              exception will be propagated to the user code that caused the
              implementation to access the attribute.  Similarly, if a value
              returned from getting the attribute cannot be converted to
              an IDL type, then any exception resulting from this will also
              be propagated to the user code that resulted in the implementation
              attempting to get the value of the attribute.
            </p>

            <p>
              The following <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              are applicable to regular and static attributes:
              <a class="xattr" href="#Clamp">[Clamp]</a>,
              <a class="xattr" href="#EnforceRange">[EnforceRange]</a>,
              <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>,
              <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>,
              <a class="xattr" href="#Unforgeable">[Unforgeable]</a>.
            </p>

            <p>
              The following <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              are applicable only to regular attributes:
              <a class="xattr" href="#LenientThis">[LenientThis]</a>,
              <a class="xattr" href="#PutForwards">[PutForwards]</a>,
              <a class="xattr" href="#Replaceable">[Replaceable]</a>.
            </p>

            <!--
            <?productions grammar AttributeOrOperation StringifierAttributeOrOperation Attribute ReadOnly Get GetRaises SetRaises ExceptionList?>
            -->
            <table class="grammar"><tr id="proddef-Qualifier"><td><span class="prod-number">[37]</span></td><td><a class="sym" href="#prod-Qualifier">Qualifier</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"static" <br /> |
             "stringifier"</span></td></tr><tr id="proddef-Attribute"><td><span class="prod-number">[39]</span></td><td><a class="sym" href="#prod-Attribute">Attribute</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Inherit">Inherit</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a></span></td></tr><tr id="proddef-AttributeRest"><td><span class="prod-number">[40]</span></td><td><a class="sym" href="#prod-AttributeRest">AttributeRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> "attribute" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr><tr id="proddef-Inherit"><td><span class="prod-number">[41]</span></td><td><a class="sym" href="#prod-Inherit">Inherit</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"inherit" <br /> |
             ε</span></td></tr><tr id="proddef-ReadOnly"><td><span class="prod-number">[42]</span></td><td><a class="sym" href="#prod-ReadOnly">ReadOnly</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"readonly" <br /> |
             ε</span></td></tr></table>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                demonstrates how <a class="dfnref" href="#dfn-attribute">attributes</a>
                can be declared on an <a class="dfnref" href="#dfn-interface">interface</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code"><!--exception InvalidName {
  DOMString reason;
};

exception NoSuchPet { };
-->interface Animal {

  <span class="comment">// A simple attribute that can be set to any string value.</span>
  readonly attribute DOMString name;

  <span class="comment">// An attribute whose value can be assigned to.</span>
  attribute unsigned short age;
};

interface Person : Animal {

  <span class="comment">// An attribute whose getter behavior is inherited from Animal, and need not be</span>
  <span class="comment">// specified in the description of Person.</span>
  inherit attribute DOMString name<!-- setraises (InvalidName)-->;
<!--
  <span class='comment'>// An attribute whose value cannot be assigned to, and which can raise an</span>
  <span class='comment'>// exception in some circumstances.</span>
  readonly attribute DOMString petName getraises (NoSuchPet);
-->};</code></pre></div></div>
            </div>
          </div>

          <div id="idl-operations" class="section">
            <h4>3.2.3. Operations</h4>

            <p>
              An <dfn id="dfn-operation">operation</dfn> is an <a class="dfnref" href="#dfn-interface-member">interface member</a>
              (matching
              <a href="#prod-Qualifier" class="sym">Qualifier</a>
                <a class="sym" href="#prod-OperationRest">OperationRest</a>,
              <span class="sym">"serializer"</span>
                <a class="sym" href="#prod-OperationRest">OperationRest</a>,
              <a class="sym" href="#prod-ReturnType">ReturnType</a>
                <a class="sym" href="#prod-OperationRest">OperationRest</a> or
              <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a>)
              that defines a behavior that can be invoked on objects implementing the interface.
              There are three kinds of operation:
            </p>
            <ol>
              <li><a class="dfnref" href="#dfn-regular-operation">regular operations</a>, which
              are those used to declare that objects implementing the
              <a class="dfnref" href="#dfn-interface">interface</a> will have a method with 
              the given <a class="dfnref" href="#dfn-identifier">identifier</a>
              <pre class="syntax"><i>return-type</i> <i>identifier</i>(<i>arguments…</i>);</pre></li>
              <li><a class="dfnref" href="#dfn-special-operation">special operations</a>,
              which are used to declare special behavior on objects
              implementing the interface, such as object indexing and stringification
              <pre class="syntax"><i>special-keywords…</i> <i>return-type</i> <i>identifier</i>(<i>arguments…</i>);
<i>special-keywords…</i> <i>return-type</i> (<i>arguments…</i>);</pre></li>
              <li><a class="dfnref" href="#dfn-static-operation">static operations</a>,
              which are used to declare operations that are not associated with
              a particular object implementing the interface
              <pre class="syntax">static <i>return-type</i> <i>identifier</i>(<i>arguments…</i>);</pre></li>
            </ol>
            <p>
              If an operation has an identifier but no <code>static</code>
              keyword, then it declares a <dfn id="dfn-regular-operation">regular operation</dfn>.
              If the operation has one or more
              <a class="dfnref" href="#dfn-special-keyword">special keywords</a>
              used in its declaration (that is, any keyword matching
              <a class="sym" href="#prod-Special">Special</a>, or
              the <code>stringifier</code> keyword),
              then it declares a special operation.  A single operation can declare
              both a regular operation and a special operation; see
              <a href="#idl-special-operations">section 3.2.4</a> below
              for details on special operations.
            </p>
            <p>
              If an operation has no identifier,
              then it <span class="rfc2119">MUST</span>
              be declared to be a special operation using one of the
              special keywords.
            </p>
            <p>
              The identifier of a
              <a class="dfnref" href="#dfn-regular-operation">regular operation</a>
              or <a class="dfnref" href="#dfn-static-operation">static operation</a>
              <span class="rfc2119">MUST NOT</span> be the same as the identifier
              of a <a class="dfnref" href="#dfn-constant">constant</a> or
              <a class="dfnref" href="#dfn-attribute">attribute</a>
              defined on the same <a class="dfnref" href="#dfn-interface">interface</a>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                The identifier can be the same as that of another operation on the
                interface, however.  This is how operation overloading is specified.
              </p>
            </div>
            <p>
              The <a class="dfnref" href="#dfn-identifier">identifier</a> of a <a class="dfnref" href="#dfn-static-operation">static operation</a>
              also <span class="rfc2119">MUST NOT</span> be the same as the identifier
              of a <a class="dfnref" href="#dfn-regular-operation">regular operation</a>
              defined on the same <a class="dfnref" href="#dfn-interface">interface</a>.
            </p>
            <p>
              The <dfn id="dfn-return-type">return type</dfn> of the operation is given
              by the type (matching <a class="sym" href="#prod-ReturnType">ReturnType</a>)
              that appears before the operation’s optional <a class="dfnref" href="#dfn-identifier">identifier</a>.
              A return type of <code id="idl-void">void</code> indicates that the operation returns no value.
              If the return type is an
              <a class="dfnref" href="#dfn-identifier">identifier</a> or an identifier followed by <code>?</code>,
              then the identifier <span class="rfc2119">MUST</span>
              identify an interface, dictionary, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
              <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
            </p>
            <p>
              An operation’s arguments (matching <a class="sym" href="#prod-ArgumentList">ArgumentList</a>)
              are given between the parentheses in the declaration.  Each individual argument is specified
              as a type (matching <a class="sym" href="#prod-Type">Type</a>) followed by an <a class="dfnref" href="#dfn-identifier">identifier</a>
              (matching <a class="sym" href="#prod-ArgumentName">ArgumentName</a>).
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>For expressiveness, the identifier of an operation argument can also be specified
                as one of the keywords matching the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
                symbol without needing to escape it.</p>
            </div>
            <p>
              If the <a class="sym" href="#prod-Type">Type</a> of an operation argument is an identifier or an identifier
              followed by <code>?</code>,
              then the identifier <span class="rfc2119">MUST</span> identify an interface, <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
              <a class="dfnref" href="#dfn-enumeration">enumeration</a>, <a class="dfnref" href="#dfn-callback-function">callback function</a>
              or <a class="dfnref" href="#dfn-typedef">typedef</a>.
            </p>
            <pre class="syntax"><i>return-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, <i>type</i> <i>identifier</i>, …);</pre>
            <p>
              The identifier of each argument <span class="rfc2119">MUST NOT</span> be the same
              as the identifier of another argument in the same operation declaration.
            </p>
            <p>
              Each argument can be preceded by a list of
              <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
              <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>),
              which can control how a value passed as the argument will be handled in
              language bindings.
            </p>
            <pre class="syntax"><i>return-type</i> <i>identifier</i>([<em>extended-attributes</em>] <i>type</i> <i>identifier</i>, [<em>extended-attributes</em>] <i>type</i> <i>identifier</i>, …);</pre>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                demonstrates how <a class="dfnref" href="#dfn-regular-operation">regular operations</a>
                can be declared on an <a class="dfnref" href="#dfn-interface">interface</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dimensions {
  attribute unsigned long width;
  attribute unsigned long height;
};

exception NoPointerDevice { };

interface Button {

  <span class="comment">// An operation that takes no arguments and returns a boolean<!--, and could possibly</span>
  <span class='comment'>// raise an exception-->.</span>
  boolean isMouseOver()<!-- raises (NoPointerDevice)-->;

  <span class="comment">// Overloaded operations.</span>
  void setDimensions(Dimensions size);
  void setDimensions(unsigned long width, unsigned long height);
};</code></pre></div></div>
            </div>

            <p>
              An operation is considered to be <dfn id="dfn-variadic">variadic</dfn>
              if the final argument uses the <code>...</code> token just
              after the argument type.  Declaring an operation to be variadic indicates that
              the operation can be invoked with any number of arguments after that final argument.
              Those extra implied formal arguments are of the same type as the final explicit
              argument in the operation declaration.  The final argument can also be omitted
              when invoking the operation.  An argument <span class="rfc2119">MUST NOT</span>
              be declared with the <code>...</code> token unless it
              is the final argument in the operation’s argument list.
            </p>
            <pre class="syntax"><i>return-type</i> <i>identifier</i>(<i>type</i><em>...</em> <i>identifier</i>);
<i>return-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, <i>type</i><em>...</em> <i>identifier</i>);</pre>
            <p>
              <a class="dfnref" href="#dfn-extended-attribute">Extended attributes</a>
              that <a class="dfnref" href="#dfn-xattr-argument-list">take an argument list</a>
              (<a class="xattr" href="#Constructor">[Constructor]</a> and
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>, of those
              defined in this specification) and <a class="dfnref" href="#dfn-callback-function">callback functions</a>
              are also considered to be <a class="dfnref" href="#dfn-variadic">variadic</a>
              when the <code>...</code> token is used in their argument lists.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has
                two variadic operations:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface IntegerSet {
  readonly attribute unsigned long cardinality;

  void union(long... ints);
  void intersection(long... ints);
};</code></pre></div></div>
              <p>
                In the ECMAScript binding, variadic operations are implemented by
                functions that can accept the subsequent arguments:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var s = getIntegerSet();  <span class="comment">// Obtain an instance of IntegerSet.</span>

s.union();                <span class="comment">// Passing no arguments corresponding to 'ints'.</span>
s.union(1, 4, 7);         <span class="comment">// Passing three arguments corresponding to 'ints'.</span></code></pre></div></div>
              <p>
                A binding for a language that does not support variadic functions
                might specify that an explicit array or list of integers be passed
                to such an operation.
              </p>
            </div>

            <p>
              An argument is considered to be an <dfn id="dfn-optional-argument">optional argument</dfn>
              if it is declared with the <code>optional</code> keyword.
              The final argument of a <a class="dfnref" href="#dfn-variadic">variadic</a> operation
              is also considered to be an optional argument. Declaring an argument
              to be optional indicates that the argument value can be omitted
              when the operation is invoked. An argument <span class="rfc2119">MUST NOT</span>
              be declared to be optional unless all subsequent arguments to the
              operation are also optional.  Also, the final argument in an
              operation <span class="rfc2119">MUST NOT</span> be declared to be
              optional if the operation is <a class="dfnref" href="#dfn-variadic">variadic</a>.
            </p>
            <pre class="syntax"><i>return-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, optional <i>type</i> <i>identifier</i>);</pre>

            <p>
              Optional arguments can also have a <dfn id="dfn-optional-argument-default-value">default value</dfn>
              specified.  If the argument’s identifier is followed by a <span class="char">U+003D EQUALS SIGN ("=")</span>
              and a value (matching <a class="sym" href="#prod-DefaultValue">DefaultValue</a>),
              then that gives the optional argument its <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>.
              The implicitly optional final argument of a <a class="dfnref" href="#dfn-variadic">variadic</a>
              operation <span class="rfc2119">MUST NOT</span> have a default value specified.
              The default value is the value to be assumed when the operation is called with the
              corresponding argument omitted.
            </p>
            <pre class="syntax"><i>return-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, optional <i>type</i> <i>identifier</i> = <i>value</i>);</pre>
            <p>
              If an optional argument has a default value, then all preceding
              optional arguments <span class="rfc2119">MUST</span> also have a default value.
            </p>
            <p>
              If the type of an argument is a <a href="#idl-dictionary">dictionary type</a>,
              and this argument is either the final argument or is followed by an
              <a class="dfnref" href="#dfn-optional-argument">optional argument</a>, then
              the argument is implicitly considered optional and <span class="rfc2119">MUST</span>
              be specified as optional.  Optional dictionary type arguments are always
              considered to have a <a class="dfnref" href="#dfn-default-value">default value</a>
              of an empty dictionary.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                This is to encourage API designs that do not require authors to pass an
                empty dictionary value when they wish only to use the dictionary’s
                default values.
              </p>
            </div>
            <p>
              When a boolean literal token (<code>true</code> or <code>false</code>),
              the <code>null</code> token,
              an <a class="sym" href="#prod-integer">integer</a> token, a
              <a class="sym" href="#prod-float">float</a> token or one of
              the three special floating point literal values (<code>Infinity</code>,
              <code>-Infinity</code> or <code>NaN</code>) is used as the
              <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>,
              it is interpreted in the same way as for a <a class="dfnref" href="#dfn-constant">constant</a>.
              Optional argument default values can also be specified using a <a class="sym" href="#prod-string">string</a>
              token, whose value is a <a class="idltype" href="#idl-DOMString">DOMString</a> or
              <a class="dfnref" href="#dfn-enumeration">enumeration</a> determined as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>S</var> be the sequence of characters matched by the <a class="sym" href="#prod-string">string</a> token with its leading and trailing <span class="char">U+0022 QUOTATION MARK ('"')</span> characters removed.</li>
              <li>The value of the <a class="sym" href="#prod-string">string</a> token is the sequence of 16 bit unsigned integer code units (hereafter referred to just as <dfn id="dfn-code-unit">code units</dfn>) corresponding to the UTF-16 encoding of <var>S</var>.</li>
            </ol>
            <p>
              If the type of the <a class="dfnref" href="#dfn-optional-argument">optional argument</a>
              is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then its
              <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a> if specified <span class="rfc2119">MUST</span>
              be one of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
            </p>

            <p>
              Web IDL operations do not support being called with omitted optional arguments
              unless all subsequent optional arguments are also omitted.  Bindings for
              languages that do support function calling in this way will fail such
              calls in a language binding specific manner.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                <!--JAVA
                ECMAScript and Java, the two language for which bindings are specified
                in this document, do not support function calling like this.
                -->
                ECMAScript, the only language for which bindings are specified
                in this document, does not support function calling like this.
              </p>
            </div>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                defines an <a class="dfnref" href="#dfn-interface">interface</a>
                with a single <a class="dfnref" href="#dfn-operation">operation</a>
                that can be invoked with two different argument list lengths:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface ColorCreator {
  object createColor(float v1, float v2, float v3, optional float alpha);
};</code></pre></div></div>
              <p>
                It is equivalent to an <a class="dfnref" href="#dfn-interface">interface</a>
                that has two <a class="dfnref" href="#dfn-overloaded">overloaded</a>
                <a class="dfnref" href="#dfn-operation">operations</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface ColorCreator {
  object createColor(float v1, float v2, float v3);
  object createColor(float v1, float v2, float v3, float alpha);
};</code></pre></div></div>
            </div>
            <!--
            <p>
              A <code>raises</code> clause (matching <a class='sym' href='#prod-Raises'>Raises</a>) is used
              to declare the possible <a class='dfnref' href='#dfn-exception'>exceptions</a>
              that can be thrown when invoking the operation.
              Each scoped name in the <code>Raises</code> clause
              <span class='rfc2119'>MUST</span> resolve to an exception.
            </p>
            <pre class='syntax'><i>return-type</i> <i>identifier</i>(<i>arguments</i>…) raises(<i>scoped-name</i>, …);</pre>
            -->

            <p id="callback-operation-exceptions">
              If an implementation attempts to invoke an
              <a class="dfnref" href="#dfn-operation">operation</a> on a
              <a class="dfnref" href="#dfn-user-object">user object</a> (for example, when a callback object
              has been supplied to the implementation), and that attempt results in an
              exception being thrown, then, unless otherwise specified, that
              exception will be propagated to the user code that caused the
              implementation to invoke the operation.  Similarly, if a value
              returned from invoking the operation cannot be converted to
              an IDL type, then any exception resulting from this will also
              be propagated to the user code that resulted in the implementation
              attempting to invoke the operation.
            </p>

            <p>
              The following extended attributes
              are applicable to operations:
              <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>,
              <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>.
            </p>
            <p>
              The following extended attributes are applicable to operation arguments:
              <a class="xattr" href="#Clamp">[Clamp]</a>,
              <a class="xattr" href="#EnforceRange">[EnforceRange]</a>,
              <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>,
              <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>.
            </p>

            <table class="grammar"><tr id="proddef-DefaultValue"><td><span class="prod-number">[16]</span></td><td><a class="sym" href="#prod-DefaultValue">DefaultValue</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br /> |
             <a class="sym" href="#prod-string">string</a></span></td></tr><tr id="proddef-AttributeOrOperationOrIterator"><td><span class="prod-number">[30]</span></td><td><a class="sym" href="#prod-AttributeOrOperationOrIterator">AttributeOrOperationOrIterator</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Serializer">Serializer</a> <br /> |
             <a class="sym" href="#prod-Qualifier">Qualifier</a> <a class="sym" href="#prod-AttributeOrOperationRest">AttributeOrOperationRest</a> <br /> |
             <a class="sym" href="#prod-Attribute">Attribute</a> <br /> |
             <a class="sym" href="#prod-OperationOrIterator">OperationOrIterator</a></span></td></tr><tr id="proddef-Serializer"><td><span class="prod-number">[31]</span></td><td><a class="sym" href="#prod-Serializer">Serializer</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"serializer" <a class="sym" href="#prod-SerializerRest">SerializerRest</a></span></td></tr><tr id="proddef-SerializerRest"><td><span class="prod-number">[32]</span></td><td><a class="sym" href="#prod-SerializerRest">SerializerRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OperationRest">OperationRest</a> <br /> |
             "=" <a class="sym" href="#prod-SerializationPattern">SerializationPattern</a> <br /> |
             ε</span></td></tr><tr><td><span class="prod-number">[37]</span></td><td><a class="sym" href="#prod-Qualifier">Qualifier</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"static" <br /> |
             "stringifier"</span></td></tr><tr id="proddef-AttributeOrOperationRest"><td><span class="prod-number">[38]</span></td><td><a class="sym" href="#prod-AttributeOrOperationRest">AttributeOrOperationRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br /> |
             <a class="sym" href="#prod-OperationRest">OperationRest</a> <br /> |
             ";"</span></td></tr><tr id="proddef-OperationOrIterator"><td><span class="prod-number">[43]</span></td><td><a class="sym" href="#prod-OperationOrIterator">OperationOrIterator</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationOrIteratorRest">OperationOrIteratorRest</a> <br /> |
             <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></span></td></tr><tr id="proddef-SpecialOperation"><td><span class="prod-number">[44]</span></td><td><a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td></tr><tr id="proddef-Specials"><td><span class="prod-number">[45]</span></td><td><a class="sym" href="#prod-Specials">Specials</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <br /> |
             ε</span></td></tr><tr id="proddef-Special"><td><span class="prod-number">[46]</span></td><td><a class="sym" href="#prod-Special">Special</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             "setter" <br /> |
             "creator" <br /> |
             "deleter" <br /> |
             "legacycaller"</span></td></tr><tr id="proddef-OperationOrIteratorRest"><td><span class="prod-number">[47]</span></td><td><a class="sym" href="#prod-OperationOrIteratorRest">OperationOrIteratorRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-IteratorRest">IteratorRest</a> <br /> |
             <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td></tr><tr id="proddef-OperationRest"><td><span class="prod-number">[51]</span></td><td><a class="sym" href="#prod-OperationRest">OperationRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td></tr><tr id="proddef-OptionalIdentifier"><td><span class="prod-number">[52]</span></td><td><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr><tr id="proddef-ArgumentList"><td><span class="prod-number">[53]</span></td><td><a class="sym" href="#prod-ArgumentList">ArgumentList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br /> |
             ε</span></td></tr><tr id="proddef-Arguments"><td><span class="prod-number">[54]</span></td><td><a class="sym" href="#prod-Arguments">Arguments</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br /> |
             ε</span></td></tr><tr id="proddef-Argument"><td><span class="prod-number">[55]</span></td><td><a class="sym" href="#prod-Argument">Argument</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></span></td></tr><tr id="proddef-OptionalOrRequiredArgument"><td><span class="prod-number">[56]</span></td><td><a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"optional" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a> <a class="sym" href="#prod-Default">Default</a> <br /> |
             <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-Ellipsis">Ellipsis</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a></span></td></tr><tr id="proddef-ArgumentName"><td><span class="prod-number">[57]</span></td><td><a class="sym" href="#prod-ArgumentName">ArgumentName</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="proddef-Ellipsis"><td><span class="prod-number">[58]</span></td><td><a class="sym" href="#prod-Ellipsis">Ellipsis</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"..." <br /> |
             ε</span></td></tr><tr><td><span class="prod-number">[67]</span></td><td><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "attribute" <br /> |
             "callback" <br /> |
             "const" <br /> |
             "creator" <br /> |
             "deleter" <br /> |
             "dictionary"
            <br /> |
             "enum" <br /> |
             "exception" <br /> |
             "getter" <br /> |
             "implements" <br /> |
             "inherit" <br /> |
             "interface"
            <br /> |
             "legacycaller" <br /> |
             "partial" <br /> |
             "serializer" <br /> |
             "setter" <br /> |
             "static" <br /> |
             "stringifier" <br /> |
             "typedef"
            <br /> |
             "unrestricted"
          </span></td></tr><tr id="proddef-ReturnType"><td><span class="prod-number">[85]</span></td><td><a class="sym" href="#prod-ReturnType">ReturnType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <br /> |
             "void"</span></td></tr></table>
          </div>

          <div id="idl-special-operations" class="section">
            <h4>3.2.4. Special operations</h4>

            <p>
              A <dfn id="dfn-special-operation">special operation</dfn> is a
              declaration of a certain kind of special behavior on objects implementing
              the interface on which the special operation declarations appear.
              Special operations are declared by using one or more
              <dfn id="dfn-special-keyword">special keywords</dfn>
              in an operation declaration.
            </p>
            <p>
              There are seven kinds of special operations.  The table below indicates
              for a given kind of special operation what special keyword
              is used to declare it and what the purpose of the special operation is:
            </p>
            <table class="vert">
              <tr>
                <th>Special operation</th>
                <th>Keyword</th>
                <th>Purpose</th>
              </tr>
              <tr>
                <td><dfn id="dfn-getter">Getters</dfn></td>
                <td><code>getter</code></td>
                <td>Defines behavior for when an object is indexed for property retrieval.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-setter">Setters</dfn></td>
                <td><code>setter</code></td>
                <td>Defines behavior for when an object is indexed for property assignment.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-creator">Creators</dfn></td>
                <td><code>creator</code></td>
                <td>Defines behavior for when an object is indexed for property creation.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-deleter">Deleters</dfn></td>
                <td><code>deleter</code></td>
                <td>Defines behavior for when an object is indexed for property deletion.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-legacy-caller">Legacy callers</dfn></td>
                <td><code>legacycaller</code></td>
                <td>Defines behavior for when an object is called as if it were a function.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-stringifier">Stringifiers</dfn></td>
                <td><code>stringifier</code></td>
                <td>Defines how an object is converted into a <a class="idltype" href="#idl-DOMString">DOMString</a>.</td>
              </tr>
              <tr>
                <td><dfn id="dfn-serializer">Serializers</dfn></td>
                <td><code>serializer</code></td>
                <td>Defines how an object is converted into a serialized form.</td>
              </tr>
            </table>
            <p>
              Not all language bindings support all of the six kinds of special
              object behavior.  When special operations are declared using
              operations with no identifier, then in language bindings that do
              not support the particular kind of special operations there simply
              will not be such functionality.
            </p>
            <p>
              Some language bindings, such as ECMAScript, do not distinguish
              assignment to an existing indexed or named property and the creation
              of a new one.  Regardless, it is the creator that is invoked when
              an attempt is made to create a new indexed or named property, and
              the setter when the property already exists.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>The following IDL fragment defines an interface with a getter and a setter:</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  getter float (DOMString propertyName);
  setter void (DOMString propertyName, float propertyValue);
};</code></pre></div></div>
              <p>In language bindings that do not support property getters and setters,
                objects implementing <span class="idltype">Dictionary</span> will not
                have that special behavior.  <!--JAVA For example, in the Java language binding,
                the corresponding Java interface will have only a single method,
                <code>long getPropertyCount()</code>.--></p>
            </div>
            <!--
            <p>
              <a class='dfnref' href='#dfn-special-operation'>Special operations</a>
              can be declared using an <a class='dfnref' href='#dfn-operation'>operation</a>
              that has an <a class='dfnref' href='#dfn-identifier'>identifier</a>
              and the <code>omittable</code> keyword to indicate that
              in language bindings that do not support that kind of special operation,
              the <a class='dfnref' href='#dfn-regular-operation'>regular operation</a>
              is to be available on the object for use instead.  Such operations are
              known as <dfn id='dfn-omittable'>omittable</dfn>.
            </p>
            <div class='example'>
              <p>The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
                declares <a class='dfnref' href='#dfn-special-operation'>special operations</a>
                with <a class='dfnref' href='#dfn-identifier'>identifiers</a>
                and using the <code>omittable</code> keyword:</p>
              <x:codeblock language='idl'>interface Dictionary {
  readonly attribute unsigned long propertyCount;

  omittable getter float getProperty(DOMString propertyName);
  omittable setter void setProperty(DOMString propertyName, float propertyValue);
};</x:codeblock>
              <p>In language bindings that do not support property getters and setters,
                such as Java,
                objects implementing <span class='idltype'>Dictionary</span> will have
                <span class='idlident'>getProperty</span> and <span class='idlident'>setProperty</span>
                operations available.  The corresponding Java interface would be:</p>
              <x:codeblock language='java'>public interface Dictionary {

  long getPropertyCount();
  float getProperty(String propertyName);
  void setProperty(String propertyName, float propertyValue);
}</x:codeblock>
              <p>
                These operations will be omitted in language
                bindings that do support property getters and setters, such as
                ECMAScript, however.
              </p>
              <x:codeblock language='es'>var dictionary = getDictionary();  <span class='comment'>// Get an instance of Dictionary.</span>

dictionary.getProperty;            <span class='comment'>// Actually invokes the property getter with property name "getProperty".</span>
dictionary.x = 1;                  <span class='comment'>// Invokes the property setter with property name "x" and value 1.</span></x:codeblock>
            </div>
            -->
            <p>
              Defining a special operation <!--without using the <code>omittable</code> keyword
              on an operation but giving the operation an--> with an <a class="dfnref" href="#dfn-identifier">identifier</a>
              is equivalent to separating the special operation out into its own
              declaration without an identifier.  This approach is allowed to
              simplify prose descriptions of an interface’s operations.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>The following two interfaces are equivalent:</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  getter float getProperty(DOMString propertyName);
  setter void setProperty(DOMString propertyName, float propertyValue);
};</code></pre></div></div>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  float getProperty(DOMString propertyName);
  void setProperty(DOMString propertyName, float propertyValue);

  getter float (DOMString propertyName);
  setter void (DOMString propertyName, float propertyValue);
};</code></pre></div></div>
            </div>
            <!--
            <p>
              The <code>omittable</code> keyword <span class='rfc2119'>MUST NOT</span>
              appear on an operation that has no identifier.
            </p>
            -->
            <p>
              A given <a class="dfnref" href="#dfn-special-keyword">special keyword</a> <span class="rfc2119">MUST NOT</span>
              appear twice on an operation.
            </p>
            <p>
              Getters, setters, creators and deleters come in two varieties: ones that
              take a <a class="idltype" href="#idl-DOMString">DOMString</a> as a property name,
              known as
              <dfn id="dfn-named-property-getter">named property getters</dfn>,
              <dfn id="dfn-named-property-setter">named property setters</dfn>,
              <dfn id="dfn-named-property-creator">named property creators</dfn> and
              <dfn id="dfn-named-property-deleter">named property deleters</dfn>,
              and ones that take an <a class="idltype" href="#idl-unsigned-long">unsigned long</a>
              as a property index, known as
              <dfn id="dfn-indexed-property-getter">indexed property getters</dfn>,
              <dfn id="dfn-indexed-property-setter">indexed property setters</dfn>,
              <dfn id="dfn-indexed-property-creator">indexed property creators</dfn> and
              <dfn id="dfn-indexed-property-deleter">indexed property deleters</dfn>.
              See <a href="#idl-indexed-properties">section 3.2.4.4</a>
              and <a href="#idl-named-properties">section 3.2.4.5</a>
              for details.
            </p>
            <p>
              On a given <a class="dfnref" href="#dfn-interface">interface</a>,
              there <span class="rfc2119">MUST</span> exist at most one
              stringifier, at most one serializer, and at most one of each variety of getter, setter,
              creator and deleter.  Multiple legacy callers can exist on an interface
              to specify overloaded calling behavior.
            </p>
            <p>
              Special operations declared using operations <span class="rfc2119">MUST NOT</span>
              be <a class="dfnref" href="#dfn-variadic">variadic</a> nor have any
              <a class="dfnref" href="#dfn-optional-argument">optional arguments</a>.
            </p>
            <p>
              Special operations <span class="rfc2119">MUST NOT</span> be declared on
              <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
            </p>
            <p>
              If an object implements more than one <a class="dfnref" href="#dfn-interface">interface</a>
              that defines a given special operation, then it is undefined which (if any)
              special operation is invoked for that operation.
            </p>

            <div id="idl-legacy-callers" class="section">
              <h5>3.2.4.1. Legacy callers</h5>

              <p>
                When an <a class="dfnref" href="#dfn-interface">interface</a> has one or more
                <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a>, it indicates that objects that implement
                the interface can be called as if they were functions.  As mentioned above,
                legacy callers can be specified using an <a class="dfnref" href="#dfn-operation">operation</a>
                declared with the <code>legacycaller</code> keyword.
              </p>
              <pre class="syntax">legacycaller <i>return-type</i> <i>identifier</i>(<i>arguments…</i>);
legacycaller <i>return-type</i> (<i>arguments…</i>);<!--
omittable legacycaller <i>return-type</i> <i>identifier</i>(<i>arguments…</i>);--></pre>
              <p>
                If multiple legacy callers are specified on an interface, overload resolution
                is used to determine which legacy caller is invoked when the object is called
                as if it were a function.
              </p>
              <div class="warning"><div class="warningHeader">Warning</div>
                <p>
                  Legacy callers are universally recognised as an undesirable feature.  They exist
                  only so that legacy Web platform features can be specified.  Legacy callers
                  <span class="rfc2119">SHOULD NOT</span> be used in specifications unless required to
                  specify the behavior of legacy APIs, and even then this should be discussed on
                  the <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                  mailing list before proceeding.
                </p>
              </div>

              <div class="example"><div class="exampleHeader">Example</div>
                <p>
                  The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                  defines an <a class="dfnref" href="#dfn-interface">interface</a>
                  with a <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a>.
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface NumberQuadrupler {
  <span class="comment">// This operation simply returns four times the given number x.</span>
  legacycaller float compute(float x);
};</code></pre></div></div>
                <p>
                  An ECMAScript implementation supporting this interface would
                  allow a <a class="dfnref" href="#dfn-platform-object">platform object</a>
                  that implements <span class="idltype">NumberQuadrupler</span>
                  to be called as a function:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var f = getNumberQuadrupler();  <span class="comment">// Obtain an instance of NumberQuadrupler.</span>

f.compute(3);                   <span class="comment">// This evaluates to 12.</span>
f(3);                           <span class="comment">// This also evaluates to 12.</span></code></pre></div></div>
              </div>
            </div>

            <div id="idl-stringifiers" class="section">
              <h5>3.2.4.2. Stringifiers</h5>

              <p>
                When an <a class="dfnref" href="#dfn-interface">interface</a> has a
                <a class="dfnref" href="#dfn-stringifier">stringifier</a>, it indicates that objects that implement
                the interface have a non-default conversion to a string.  As mentioned above,
                stringifiers can be specified using an <a class="dfnref" href="#dfn-operation">operation</a>
                declared with the <code>stringifier</code> keyword.
              </p>
              <pre class="syntax">stringifier DOMString <i>identifier</i>();
stringifier DOMString ();<!--
omittable stringifier DOMString <i>identifier</i>();--></pre>
              <p>
                If an operation used to declare a stringifier does not have an 
                <a class="dfnref" href="#dfn-identifier">identifier</a>, then prose
                accompanying the interface <span class="rfc2119">MUST</span> define
                the <dfn id="dfn-stringification-behavior">stringification behavior</dfn>
                of the interface.  If the operation does have an identifier,
                then the object is converted to a string by invoking the
                operation to obtain the string.
              </p>
              <p>
                Stringifiers declared with operations <span class="rfc2119">MUST</span>
                be declared to take zero arguments and return a <a class="idltype" href="#idl-DOMString">DOMString</a>.
              </p>
              <p>
                As a shorthand, if the <code>stringifier</code> keyword
                is declared using an operation with no identifier, then the
                operation’s <a class="dfnref" href="#dfn-return-type">return type</a> and 
                argument list can be omitted.
              </p>
              <pre class="syntax">stringifier;</pre>
              <div class="example"><div class="exampleHeader">Example</div>
                <p>The following two interfaces are equivalent:</p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  stringifier DOMString ();
};</code></pre></div></div>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  stringifier;
};</code></pre></div></div>
              </div>
              <p>
                The <code>stringifier</code> keyword
                can also be placed on an <a class="dfnref" href="#dfn-attribute">attribute</a>.
                In this case, the string to convert the object to is the
                value of the attribute.  The <code>stringifier</code> keyword
                <span class="rfc2119">MUST NOT</span> be placed on an attribute unless
                it is declared to be of type <a class="idltype" href="#idl-DOMString">DOMString</a>.
                It also <span class="rfc2119">MUST NOT</span> be placed on
                a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
              </p>
              <pre class="syntax">stringifier attribute DOMString <i>identifier</i>;</pre>

              <div class="example"><div class="exampleHeader">Example</div>
                <p>
                  The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                  defines an interface that will stringify to the value of its
                  <a class="idlattr">name</a> attribute:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[Constructor]
interface Student {
  attribute unsigned long id;
  stringifier attribute DOMString name;
};</code></pre></div></div>
                <p>
                  In the ECMAScript binding, using a <span class="idltype">Student</span>
                  object in a context where a string is expected will result in the
                  value of the object’s “name” property being
                  used:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var s = new Student();
s.id = 12345678;
s.name = '周杰倫';

var greeting = 'Hello, ' + s + '!';  <span class="comment">// Now greeting == 'Hello, 周杰倫!'.</span></code></pre></div></div>
                <p>
                  The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                  defines an interface that has custom stringification behavior that is
                  not specified in the IDL itself.
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[Constructor]
interface Student {
  attribute unsigned long id;
  attribute DOMString? familyName;
  attribute DOMString givenName;

  stringifier DOMString ();
};</code></pre></div></div>
                <p>
                  Thus, prose is required to explain the stringification behavior, such
                  as the following paragraph:
                </p>
                <blockquote>
                  <p>
                    Objects that implement the <span class="idltype">Student</span>
                    interface must stringify as follows.  If the value of the
                    <span class="idlattr">familyName</span> attribute is
                    <span class="idlvalue">null</span>, the stringification of the
                    object is the value of the <span class="idlattr">givenName</span>
                    attribute.  Otherwise, if the value of the
                    <span class="idlattr">familyName</span> attribute is not <span class="idlvalue">null</span>,
                    the stringification of the object is the concatenation of the
                    value of the <span class="idlattr">givenName</span> attribute,
                    a single space character, and the value of
                    the <span class="idlattr">familyName</span> attribute.
                  </p>
                </blockquote>
                <p>
                  An ECMAScript implementation of the IDL would behave as follows:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var s = new Student();
s.id = 12345679;
s.familyName = 'Smithee';
s.givenName = 'Alan';

var greeting = 'Hi ' + s;  <span class="comment">// Now greeting == 'Hi Alan Smithee'.</span></code></pre></div></div>
              </div>
            </div>

            <div id="idl-serializers" class="section">
              <h5>3.2.4.3. Serializers</h5>

              <p>
                When an <a class="dfnref" href="#dfn-interface">interface</a> has a
                <a class="dfnref" href="#dfn-serializer">serializer</a>, it indicates that objects provide
                a way for them to be converted into a serialized form.  Serializers can be declared
                using the <code>serializer</code> keyword:
              </p>
              <pre class="syntax">serializer;</pre>
              <p>
                Prose accompanying an interface that declares a serializer in this
                way <span class="rfc2119">MUST</span> define the
                <dfn id="dfn-serialization-behavior">serialization behavior</dfn>
                of the interface.  Serialization behavior is defined as returning
                a <dfn id="dfn-serialized-value">serialized value</dfn> of one of the following types:
              </p>
              <ul>
                <li>a <em>map</em> of key–value pairs, where the keys are
                  <a class="idltype" href="#idl-DOMString">DOMString</a> values (unique in the map) and the
                  values are <a class="dfnref" href="#dfn-serialized-value">serialized values</a></li>
                <li>a <em>list</em> of <a class="dfnref" href="#dfn-serialized-value">serialized values</a></li>
                <li>a <a class="idltype" href="#idl-DOMString">DOMString</a> value</li>
                <li>an <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value</li>
                <li>a <a class="idltype" href="#idl-boolean">boolean</a> value</li>
                <li>the <span class="idlvalue">null</span> value</li>
              </ul>
              <p>
                How the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a>
                is made available on an object in a language binding, and how exactly the abstract
                <a class="dfnref" href="#dfn-serialized-value">serialized value</a> is converted into
                an appropriate concrete value, is language binding specific.
              </p>
              <div class="note"><div class="noteHeader">Note</div>
                <p>In the ECMAScript language binding,
                <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a>
                is exposed as a <code>toJSON</code> method which returns the
                <a class="dfnref" href="#dfn-serialized-value">serialized value</a> converted
                into an ECMAScript value that can be serialized to JSON by the
                <code>JSON.stringify</code> function.  See <a href="#es-serializer">section 4.4.7.2</a>
                below for details.</p>
              </div>
              <p>
                <a class="dfnref" href="#dfn-serialization-behavior">Serialization behavior</a>
                can also be specified directly in IDL, rather than separately as prose.
                This is done by following the <code>serializer</code> keyword with
                a <span class="char">U+003D EQUALS SIGN ("=")</span> character and
                a <dfn id="dfn-serialization-pattern">serialization pattern</dfn>,
                which can take one of the following six forms:
              </p>
              <ul>
                <li>
                  <p>A map with entries corresponding to zero or more attributes from the interface, and optionally
                  attributes from an inherited interface:</p>
                  <pre class="syntax">serializer = { <i>attribute-identifier</i>, <i>attribute-identifier</i>, … };
serializer = { inherit, <i>attribute-identifier</i>, <i>attribute-identifier</i>, … };</pre>
                  <p>Each identifier <span class="rfc2119">MUST</span> be the identifier of an attribute declared
                  on the interface.  The identified attributes all <span class="rfc2119">MUST</span> have a
                  <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
                  <p>The <code>inherit</code> keyword <span class="rfc2119">MUST NOT</span> be used unless
                  the interface inherits from another that defines a serializer, and the closest such interface
                  defines its serializer using this <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a>
                  form or the following form (i.e. <code>{ attribute }</code>).</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>map</var> be an empty map.</li>
                    <li>If the <code>inherit</code> keyword was used, then set <var>map</var> to be the result of
                    the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the
                    closest inherited interface that declares a serializer.</li>
                    <li>For each attribute identifier <var>i</var> in the serialization pattern, in order:
                      <ol>
                        <li>Remove any entry in <var>map</var> with key name <var>i</var>.</li>
                        <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                        <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose
                        value is result of <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                        <var>V</var> to a serialized value.</li>
                      </ol>
                    </li>
                    <li>Return <var>map</var>.</li>
                  </ol>
                </li>
                <li>
                  <p>A map with entries corresponding to all attributes from the interface that have
                  a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>, and optionally
                  attributes from an inherited interface:</p>
                  <pre class="syntax">serializer = { attribute };
serializer = { inherit, attribute };</pre>
                  <p>The <code>inherit</code> keyword <span class="rfc2119">MUST NOT</span> be used unless
                  the interface inherits from another that defines a serializer, and the closest such interface
                  defines its serializer using this <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a>
                  form or the previous form.</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>map</var> be an empty map.</li>
                    <li>If the <code>inherit</code> keyword was used, then set <var>map</var> to be the result of
                    the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the
                    closest inherited interface that declares a serializer.</li>
                    <li>For each identifier <var>i</var> of an attribute on the interface whose type is
                    a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>, in the order they appear
                    on the interface:
                      <ol>
                        <li>Remove any entry in <var>map</var> with key name <var>i</var>.</li>
                        <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                        <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose
                        value is result of <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                        <var>V</var> to a serialized value.</li>
                      </ol>
                    </li>
                    <li>Return <var>map</var>.</li>
                  </ol>
                </li>
                <li>
                  <p>A map with entries corresponding to the named properties:</p>
                  <pre class="syntax">serializer = { getter };</pre>
                  <p>This form <span class="rfc2119">MUST NOT</span> be used unless the interface or one it
                  inherits from supports named properties and the return type of the named property getter
                  is a serializable type.</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>map</var> be an empty map.</li>
                    <li>For each supported property name <var>n</var> on the object, in order:
                      <ol>
                        <li>Let <var>V</var> be the value of the named property with name <var>n</var>.</li>
                        <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose
                        value is result of <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                        <var>V</var> to a serialized value.</li>
                      </ol>
                    </li>
                    <li>Return <var>map</var>.</li>
                  </ol>
                </li>
                <li>
                  <p>A list of value of zero or more attributes on the interface:</p>
                  <pre class="syntax">serializer = [ <i>attribute-identifier</i>, <i>attribute-identifier</i>, … ];</pre>
                  <p>Each identifier <span class="rfc2119">MUST</span> be the identifier of an attribute declared
                  on the interface.  The identified attributes all <span class="rfc2119">MUST</span> have a
                  <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>list</var> be an empty list.</li>
                    <li>For each attribute identifier <var>i</var> in the serialization pattern:
                      <ol>
                        <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                        <li>Append to <var>list</var> the value that is the result of
                        <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                        <var>V</var> to a serialized value.</li>
                      </ol>
                    </li>
                    <li>Return <var>list</var>.</li>
                  </ol>
                </li>
                <li>
                  <p>A list with entries corresponding to the indexed properties:</p>
                  <pre class="syntax">serializer = [ getter ];</pre>
                  <p>This form <span class="rfc2119">MUST NOT</span> be used unless the interface or one it
                  inherits from supports indexed properties and the return type of the indexed property getter
                  is a serializable type.</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>list</var> be an empty list.</li>
                    <li>Let <var>i</var> be 0.</li>
                    <li>While <var>i</var> is less than or equal to the greatest supported property index on the object:
                      <ol>
                        <li>Let <var>V</var> be the value of the indexed property with index <var>i</var>
                          if <var>i</var> is a supported property index, or <span class="idlvalue">null</span> otherwise.</li>
                        <li>Append to <var>list</var> the value that is the result of
                        <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                        <var>V</var> to a serialized value.</li>
                        <li>Set <var>i</var> to <var>i</var> + 1.</li>
                      </ol>
                    </li>
                    <li>Return <var>map</var>.</li>
                  </ol>
                </li>
                <li>
                  <p>A single attribute:</p>
                  <pre class="syntax">serializer = <i>attribute-identifier</i>;</pre>
                  <p>The identifier <span class="rfc2119">MUST</span> be the identifier of an attribute declared
                  on the interface, and this attribute <span class="rfc2119">MUST</span> have a
                  <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
                  <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this
                  form of serialization pattern is as follows:</p>
                  <ol class="algorithm">
                    <li>Let <var>V</var> be the value of the attribute with the specified identifier.</li>
                    <li>Return the result of <a class="dfnref" href="#dfn-convert-to-serializable-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                  </ol>
                </li>
              </ul>

              <div class="note"><div class="noteHeader">Note</div>
                <p>
                  Entries are added to maps in a particular order so that in the ECMAScript language binding
                  it is defined what order properties are added to objects.  This is because this order
                  can influence the serialization that <code>JSON.stringify</code> can produce.
                </p>
              </div>

              <p>The list of <dfn id="dfn-serializable-type">serializable types</dfn> and how they are
              <dfn id="dfn-convert-to-serialized-value">converted to serialized values</dfn> is as follows:</p>
              <dl class="switch">
                <dt><a class="idltype" href="#idl-long-long">long long</a></dt>
                <dd>converted by choosing the closest equivalent <a class="idltype" href="#idl-double">double</a> value
                  (as when <a href="#es-long-long">converting a <span class="idltype">long long</span> to an ECMAScript <span class="estype">Number</span> value</a>)</dd>
                <dt><a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a></dt>
                <dd>converted by choosing the closest equivalent <a class="idltype" href="#idl-double">double</a> value
                  (as when <a href="#es-unsigned-long-long">converting a <span class="idltype">unsigned long long</span> to an ECMAScript <span class="estype">Number</span> value</a>)</dd>
                <dt>any other <a class="dfnref" href="#dfn-integer-type">integer type</a></dt>
                <dt><a class="idltype" href="#idl-float">float</a></dt>
                <dd>converted by choosing the equivalent <a class="idltype" href="#idl-double">double</a> value</dd>
                <dt><a class="idltype" href="#idl-double">double</a></dt>
                <dt><a class="idltype" href="#idl-boolean">boolean</a></dt>
                <dt><a class="idltype" href="#idl-DOMString">DOMString</a></dt>
                <dt><a class="idltype" href="#idl-Date">Date</a></dt>
                <dd>the same value of the respective type</dd>
                <dt>an <a class="dfnref" href="#dfn-enumeration">enumeration type</a></dt>
                <dd>the equivalent <a class="idltype" href="#idl-DOMString">DOMString</a> value</dd>
                <dt>a <a class="dfnref" href="#dfn-nullable">nullable</a> serializable type</dt>
                <dd>converted to <span class="idltype">null</span> if that is its value,
                  otherwise converted as per its <a class="dfnref" href="#dfn-inner-type">inner type</a></dd>
                <dt>a <a class="dfnref" href="#dfn-union-type">union type</a> where
                  all of its <a class="dfnref" href="#dfn-union-member-type">member types</a>
                  are serializable types</dt>
                <dd>converted as per its <a class="dfnref" href="#dfn-specific-type">specific type</a></dd>
                <dt>a <a class="dfnref" href="#dfn-sequence">sequence type</a> that
                  has a serializable type as its element type</dt>
                <dd>converted to a list where each element is the result of converting its
                  corresponding sequence element to a serialized value</dd>
                <dt>a <a class="dfnref" href="#dfn-dictionary">dictionary</a> where
                  all of its <a class="dfnref" href="#dfn-dictionary-member">members</a> have
                  serializable types</dt>
                <dd>converted to a map consisting of an entry for each dictionary member
                  that is present, where the entry’s key is the identifier of the dictionary
                  member and its value is the result of converting the dictionary member’s
                  value to a serializable type</dd>
                <dt>an <a href="#idl-interface">interface</a> type that has a
                  <a class="dfnref" href="#dfn-serializer">serializer</a></dt>
                <dd>converted by invoking the object’s serializer</dd>
              </dl>

              <p>
                Serializers can also be specified using an <a class="dfnref" href="#dfn-operation">operation</a>
                with the <code>serializer</code> keyword:
              </p>
              <pre class="syntax">serializer <i>type</i> <i>identifier</i>();</pre>
              <p>
                Serializers declared with operations <span class="rfc2119">MUST</span>
                be declared to take zero arguments and return a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.
              </p>
              <p>
                The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a>
                of the interface with a serializer declared with an operation is the result of
                <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                the value returned from invoking the operation to a serialized value.
              </p>

              <table class="grammar"><tr><td><span class="prod-number">[31]</span></td><td><a class="sym" href="#prod-Serializer">Serializer</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"serializer" <a class="sym" href="#prod-SerializerRest">SerializerRest</a></span></td></tr><tr><td><span class="prod-number">[32]</span></td><td><a class="sym" href="#prod-SerializerRest">SerializerRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OperationRest">OperationRest</a> <br /> |
             "=" <a class="sym" href="#prod-SerializationPattern">SerializationPattern</a> <br /> |
             ε</span></td></tr><tr id="proddef-SerializationPattern"><td><span class="prod-number">[33]</span></td><td><a class="sym" href="#prod-SerializationPattern">SerializationPattern</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"{" <a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a> "}" <br /> |
             "[" <a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a> "]" <br /> |
             <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="proddef-SerializationPatternMap"><td><span class="prod-number">[34]</span></td><td><a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             "inherit" <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr><tr id="proddef-SerializationPatternList"><td><span class="prod-number">[35]</span></td><td><a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr><tr id="proddef-Identifiers"><td><span class="prod-number">[36]</span></td><td><a class="sym" href="#prod-Identifiers">Identifiers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr></table>

              <div class="example"><div class="exampleHeader">Example</div>
                <p>
                  The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines
                  an interface <span class="idltype">Transaction</span> that has a
                  <a class="dfnref" href="#dfn-serializer">serializer</a> defines in prose:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Transaction {
  readonly attribute Account from;
  readonly attribute Account to;
  readonly attribute float amount;
  readonly attribute DOMString description;
  readonly attribute unsigned long number;

  serializer;
};

interface Account {
  DOMString name;
  unsigned long number;
};</code></pre></div></div>
                <p>
                  The serializer could be defined as follows:
                </p>
                <blockquote>
                  <p>
                    The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a>
                    of the <span class="idltype">Transaction</span> interface is to run the following
                    algorithm, where <var>O</var> is the object that implements <span class="idltype">Transaction</span>:
                  </p>
                  <ol class="algorithm">
                    <li>Let <var>map</var> be an empty map.</li>
                    <li>Add an entry to <var>map</var> whose key is “from” and whose value is
                      the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> of
                      the <code>number</code> attribute on the <span class="idltype">Account</span>
                      object referenced by the <code>from</code> attribute on <var>O</var>.</li>
                    <li>Add an entry to <var>map</var> whose key is “to” and whose value is
                      the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> of
                      the <code>number</code> attribute on the <span class="idltype">Account</span>
                      object referenced by the <code>from</code> attribute on <var>O</var>.</li>
                    <li>For both of the attributes <code>amount</code> and <code>description</code>,
                      add an entry to <var>map</var> whose key is the
                      <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute
                      and whose value is the <a class="dfnref" href="#dfn-serialized-value">serialized value</a>
                      of the value of the attribute on <var>O</var>.</li>
                    <li>Return <var>map</var>.</li>
                  </ol>
                </blockquote>
                <p>
                  If it was acceptable for <span class="idltype">Account</span> objects to be serializable
                  on their own, then <a class="dfnref" href="#dfn-serialization-pattern">serialization patterns</a>
                  could be used to avoid having to define the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a>
                  in prose:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Transaction {
  readonly attribute Account from;
  readonly attribute Account to;
  readonly attribute float amount;
  readonly attribute DOMString description;
  readonly attribute unsigned long number;

  serializer = { from, to, amount, description };
};

interface Account {
  DOMString name;
  unsigned long number;

  serializer = number;
};</code></pre></div></div>
                <p>
                  In the ECMAScript language binding, there would exist a <code>toJSON</code> method on
                  <span class="idltype">Transaction</span> objects:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Get an instance of Transaction.</span>
var txn = getTransaction();

<span class="comment">// Evaluates to an object like this:
// {
//   from: 1234
//   to: 5678
//   amount: 110.75
//   description: "dinner"
// }</span>
txn.toJSON();

<span class="comment">// Evaluates to a string like this:
// '{"from":1234,"to":5678,"amount":110.75,"description":"dinner"}'</span>
JSON.stringify(txn);</code></pre></div></div>
              </div>
            </div>

            <div id="idl-indexed-properties" class="section">
              <h5>3.2.4.4. Indexed properties</h5>

              <p>
                An <a class="dfnref" href="#dfn-interface">interface</a> that defines
                an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>,
                <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a>,
                <a class="dfnref" href="#dfn-indexed-property-creator">indexed property creator</a>
                and/or an <a class="dfnref" href="#dfn-indexed-property-deleter">indexed property deleter</a>
                is said to <dfn id="dfn-support-indexed-properties">support indexed properties</dfn>.
              </p>
              <p>
                If an interface <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>,
                then the interface definition <span class="rfc2119">MUST</span> be accompanied by
                a description of what indices the object can be indexed with at
                any given time. These indices are called the <dfn id="dfn-supported-property-indices">supported property indices</dfn>.
              </p>
              <p>
                Indexed property getters and deleters <span class="rfc2119">MUST</span>
                be declared to take a single <a class="idltype" href="#idl-unsigned-long">unsigned long</a> argument.
                Indexed property setters and creators <span class="rfc2119">MUST</span>
                be declared to take two arguments, where the first is an <a class="idltype" href="#idl-unsigned-long">unsigned long</a>.
              </p>
              <pre class="syntax">getter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>);
setter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
creator <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>);

getter <i>type</i> (unsigned long <i>identifier</i>);
setter <i>type</i> (unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
creator <i>type</i> (unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> (unsigned long <i>identifier</i>);<!--

omittable getter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>);
omittable setter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
omittable creator <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);
omittable deleter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>);--></pre>
              <p>
                The following requirements apply to the definitions of indexed property getters, setters, creators and deleters:
              </p>
              <ul>
                <li>
                  If an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> was specified using an <a class="dfnref" href="#dfn-operation">operation</a>
                  with an <a class="dfnref" href="#dfn-identifier">identifier</a>,
                  then the value returned when indexing the object with a given <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>
                  is the value that would be returned by invoking the operation, passing
                  the index as its only argument.  If the operation used to declare the indexed property getter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-determine-the-value-of-an-indexed-property">determine the value of an indexed property</dfn>
                  for a given index.
                </li>
                <li>
                  If an <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property assignment with a given supported property index and value
                  is the same as if the operation is invoked, passing
                  the index as the first argument and the value as the second argument.  If the operation used to declare the indexed property setter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-set-the-value-of-an-existing-indexed-property">set the value of an existing indexed property</dfn>
                  for a given property index and value.
                </li>
                <li>
                  If an <a class="dfnref" href="#dfn-indexed-property-creator">indexed property creator</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property creation with a given property index and value
                  is the same as if the operation is invoked, passing
                  the index as the first argument and the value as the second argument.  If the operation used to declare the indexed property creator
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-set-the-value-of-a-new-indexed-property">set the value of a new indexed property</dfn>
                  for a given property index and value.
                </li>
                <li>
                  If an <a class="dfnref" href="#dfn-indexed-property-deleter">indexed property deleter</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property deletion with a given supported property index
                  is the same as if the operation is invoked, passing
                  the index as the only argument.  If the operation used to declare the indexed property deleter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-delete-an-existing-indexed-property">delete an existing indexed property</dfn>
                  for a given property index.
                </li>
              </ul>

              <div class="note"><div class="noteHeader">Note</div>
                <p>
                  Note that if an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>,
                  <a class="dfnref" href="#dfn-indexed-property-setter">setter</a> or
                  <a class="dfnref" href="#dfn-indexed-property-deleter">deleter</a>
                  is specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>,
                  then indexing an object with an integer that is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>
                  does not necessarily elicit the same behavior as invoking the operation with that index.  The actual behavior in this
                  case is language binding specific.
                </p>
                <p>
                  In the ECMAScript langauge binding, a regular property lookup is done.  For example, take the following IDL:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  getter DOMString toWord(unsigned long index);
};</code></pre></div></div>
                <p>
                  Assume that an object implementing <span class="idltype">A</span> has <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a>
                  in the range 0 ≤ <var>index</var> &lt; 2.  Also assume that toWord is defined to return
                  its argument converted into an English word.  The behavior when invoking the
                  <a class="dfnref" href="#dfn-operation">operation</a> with an out of range index
                  is different from indexing the object directly:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var a = getA();

a.toWord(0);  <span class="comment">// Evalutes to "zero".</span>
a[0];         <span class="comment">// Also evaluates to "zero".</span>

a.toWord(5);  <span class="comment">// Evaluates to "five".</span>
a[5];         <span class="comment">// Evaluates to undefined, since there is no property "5".</span></code></pre></div></div>
              </div>

              <div class="example"><div class="exampleHeader">Example</div>
                <p>
                  The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface
                  <span class="idltype">OrderedMap</span> which allows
                  retrieving and setting values by name or by index number:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface OrderedMap {
  readonly attribute unsigned long size;

  getter any getByIndex(unsigned long index);
  setter void setByIndex(unsigned long index, any value);
  deleter void removeByIndex(unsigned long index);

  getter any get(DOMString name);
  setter creator void set(DOMString name, any value);
  deleter void remove(DOMString name);
};</code></pre></div></div>
                <p>
                  Since all of the special operations are declared using
                  operations with identifiers, the only additional prose
                  that is necessary is that which describes what keys those sets
                  have.  Assuming that the <code>get()</code> operation is
                  defined to return <span class="idlvalue">null</span> if an
                  attempt is made to look up a non-existing entry in the
                  <span class="idltype">OrderedMap</span>, then the following
                  two sentences would suffice:
                </p>
                <blockquote>
                  <p>
                    An object <var>map</var> implementing <span class="idltype">OrderedMap</span>
                    supports indexed properties with indices in the range
                    0 ≤ <var>index</var> &lt; <code>map.size</code>.
                  </p>
                  <p>
                    Such objects also support a named property for every name that,
                    if passed to <code>get()</code>, would return a non-null value.
                  </p>
                </blockquote>
                <p>
                  As described in <a href="#es-platform-objects">section 4.6</a>,
                  an ECMAScript implementation would create
                  properties on a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing
                  <span class="idltype">OrderedMap</span> that correspond to
                  entries in both the named and indexed property sets.
                  These properties can then be used to interact
                  with the object in the same way as invoking the object’s
                  methods, as demonstrated below:
                </p>
                <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Assume map is a platform object implementing the OrderedMap interface.</span>
var map = getOrderedMap();
var x, y;

x = map[0];       <span class="comment">// If map.length &gt; 0, then this is equivalent to:
                  //
                  //   x = map.getByIndex(0)
                  //
                  // since a property named "0" will have been placed on map.
                  // Otherwise, x will be set to undefined, since there will be
                  // no property named "0" on map.</span>

map[1] = false;   <span class="comment">// If map.length &gt; 1, then this will set the property named
                  // "1" on map to false, and then will do the equivalent of:
                  //
                  //   map.setByIndex(1, false)
                  //
                  // Otherwise, if map.length ≤ 1, then it will set the
                  // property but have no other effect (since an indexed property creator
                  // was not specified).</span>

y = map.apple;    <span class="comment">// If there exists a named property named "apple", then this
                  // will be equivalent to:
                  //
                  //   y = map.get('apple')
                  //
                  // since a property named "apple" will have been placed on
                  // map.  Otherwise, y will be set to undefined, since there
                  // will be no property named "apple" on map.</span>

map.berry = 123;  <span class="comment">// Regardless of whether there exists a named property named
                  // "berry", this will set the "berry" property to 123, and
                  // then do the equivalent of:
                  //
                  //   map.set('berry', 123)</span>

delete map.cake;  <span class="comment">// If a named property named "cake" exists, then the "cake"
                  // property will be deleted, and then the equivalent to the
                  // following will be performed:
                  //
                  //   map.remove("cake")</span>
</code></pre></div></div></div>
            </div>

            <div id="idl-named-properties" class="section">
              <h5>3.2.4.5. Named properties</h5>

              <p>
                An <a class="dfnref" href="#dfn-interface">interface</a> that defines
                a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>,
                <a class="dfnref" href="#dfn-named-property-setter">named property setter</a>,
                <a class="dfnref" href="#dfn-named-property-creator">named property creator</a>
                and/or a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a>
                is said to <dfn id="dfn-support-named-properties">support named properties</dfn>.
              </p>
              <p>
                If an interface <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>,
                then the interface definition <span class="rfc2119">MUST</span> be accompanied by
                a description of the ordered set of names that can be used to index the object
                at any given time.  These names are called the
                <dfn id="dfn-supported-property-names">supported property names</dfn>.
              </p>
              <p>
                Named property getters and deleters <span class="rfc2119">MUST</span>
                be declared to take a single <a class="idltype" href="#idl-DOMString">DOMString</a> argument.
                Named property setters and creators <span class="rfc2119">MUST</span>
                be declared to take two arguments, where the first is a <a class="idltype" href="#idl-DOMString">DOMString</a>.
              </p>
              <pre class="syntax">getter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);
setter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
creator <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);

getter <i>type</i> (DOMString <i>identifier</i>);
setter <i>type</i> (DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
creator <i>type</i> (DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> (DOMString <i>identifier</i>);<!--

omittable getter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);
omittable setter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
omittable creator <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
omittable deleter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);--></pre>
              <p>
                The following requirements apply to the definitions of named property getters, setters, creators and deleters:
              </p>
              <ul>
                <li>
                  If a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a> was specified using an <a class="dfnref" href="#dfn-operation">operation</a>
                  with an <a class="dfnref" href="#dfn-identifier">identifier</a>,
                  then the value returned when indexing the object with a given <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>
                  is the value that would be returned by invoking the operation, passing
                  the name as its only argument.  If the operation used to declare the named property getter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-determine-the-value-of-a-named-property">determine the value of a named property</dfn>
                  for a given property name.
                </li>
                <li>
                  If a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property assignment with a given supported property name and value
                  is the same as if the operation is invoked, passing
                  the name as the first argument and the value as the second argument.  If the operation used to declare the named property setter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-set-the-value-of-an-existing-named-property">set the value of an existing named property</dfn>
                  for a given property name and value.
                </li>
                <li>
                  If a <a class="dfnref" href="#dfn-named-property-creator">named property creator</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property creation with a given property name and value
                  is the same as if the operation is invoked, passing
                  the name as the first argument and the value as the second argument.  If the operation used to declare the named property creator
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-set-the-value-of-a-new-named-property">set the value of a new named property</dfn>
                  for a given property name and value.
                </li>
                <li>
                  If a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a> was specified using an operation
                  with an identifier,
                  then the behavior that occurs when indexing the object for property deletion with a given supported property name
                  is the same as if the operation is invoked, passing
                  the name as the only argument.  If the operation used to declare the named property deleter
                  did not have an identifier, then the interface definition must be accompanied
                  by a description of how to <dfn id="dfn-delete-an-existing-named-property">delete an existing named property</dfn>
                  for a given property name.
                </li>
              </ul>

              <div class="note"><div class="noteHeader">Note</div>
                <p>
                  As with <a href="#idl-indexed-properties">indexed properties</a>,
                  if an <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>,
                  <a class="dfnref" href="#dfn-named-property-setter">setter</a> or
                  <a class="dfnref" href="#dfn-named-property-deleter">deleter</a>
                  is specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>,
                  then indexing an object with a name that is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>
                  does not necessarily elicit the same behavior as invoking the operation with that name; the behavior
                  is language binding specific.
                </p>
              </div>
            </div>
          </div>

          <div id="idl-static-attributes-and-operations" class="section">
            <h4>3.2.5. Static attributes and operations</h4>

            <p>
              <dfn id="dfn-static-attribute">Static attributes</dfn> and
              <dfn id="dfn-static-operation">static operations</dfn> are ones that
              are not associated with a particular instance of the
              <a class="dfnref" href="#dfn-interface">interface</a>
              on which it is declared, and is instead associated with the interface
              itself.  Static attributes and operations are declared by using the
              <code>static</code> keyword in their declarations.
            </p>
            <p>
              It is language binding specific whether it is possible to invoke
              a static operation or get or set a static attribute through a reference
              to an instance of the interface.
            </p>
            <p>
              Static attributes and operations <span class="rfc2119">MUST NOT</span> be 
              declared on <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface
                <span class="idltype">Circle</span> that has a static
                operation declared on it:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Point { /* ... */ };

interface Circle {
  attribute float cx;
  attribute float cy;
  attribute float radius;

  static readonly attribute long triangulationCount;
  static Point triangulate(Circle c1, Circle c2, Circle c3);
};</code></pre></div></div>
              <p>
                In the ECMAScript language binding, the <span class="estype">Function</span> object for
                <code>triangulate</code> and the accessor property for <code>triangulationCount</code>
                will exist on the <a class="dfnref" href="#dfn-interface-object">interface object</a>
                for <span class="idltype">Circle</span>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var circles = getCircles();           <span class="comment">// an Array of Circle objects</span>

typeof Circle.triangulate;            <span class="comment">// Evaluates to "function"</span>
typeof Circle.triangulationCount;     <span class="comment">// Evaluates to "number"</span>
Circle.prototype.triangulate;         <span class="comment">// Evaluates to undefined</span>
Circle.prototype.triangulationCount;  <span class="comment">// Also evaluates to undefined</span>
circles[0].triangulate;               <span class="comment">// As does this</span>
circles[0].triangulationCount;        <span class="comment">// And this</span>

<span class="comment">// Call the static operation</span>
var triangulationPoint = Circle.triangulate(circles[0], circles[1], circles[2]);

<span class="comment">// Find out how many triangulations we have done</span>
window.alert(Circle.triangulationCount);</code></pre></div></div>
              <!--JAVA
              <p>
                In the Java language binding, however, the <code>triangulate</code> method
                will exist on an abstract class:
              </p>
              <x:codeblock language='java'>Circle[] circles = getCircles();  <span class='comment'>// an array of Circle objects</span>

<span class='comment'>// Call the static operation</span>
Point triangulationPoint = CircleUtils.triangulate(circles[0], circles[1], circles[2]);</x:codeblock>
              -->
            </div>
          </div>

          <div id="idl-overloading" class="section">
            <h4>3.2.6. Overloading</h4>

            <p>
              If a <a class="dfnref" href="#dfn-regular-operation">regular operation</a>
              or <a class="dfnref" href="#dfn-static-operation">static operation</a>
              defined on an <a class="dfnref" href="#dfn-interface">interface</a>
              has an <a class="dfnref" href="#dfn-identifier">identifier</a>
              that is the same as the identifier of another operation on that
              interface of the same kind (regular or static), then the operation is said to be
              <dfn id="dfn-overloaded">overloaded</dfn>.  When the identifier
              of an overloaded operation is used to invoke one of the
              operations on an object that implements the interface, the
              number and types of the arguments passed to the operation
              determine which of the overloaded operations is actually
              invoked.  If an interface has multiple
              <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a> defined on it,
              then those legacy callers are also said to be overloaded.
              In the ECMAScript language binding, <a href="#Constructor">constructors</a>
              can be overloaded too.  There are some restrictions on the arguments
              that overloaded operations, legacy callers and constructors can be
              specified to take, and in order to describe these restrictions,
              the notion of an <em>effective overload set</em> is used.
            </p>
            <p>
              <a class="dfnref" href="#dfn-operation">Operations</a> and <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a>
              <span class="rfc2119">MUST NOT</span> be overloaded across <a class="dfnref" href="#dfn-interface">interface</a>
              and <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                For example, the overloads for both <span class="idltype">f</span> and <span class="idltype">g</span>
                are disallowed:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  void f();
};

partial interface A {
  void f(float x);
  void g();
};

partial interface A {
  void g(DOMString x);
};</code></pre></div></div>
              <p>Note that the <a class="xattr" href="#Constructor">[Constructor]</a> and
                <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are disallowed from appearing
                on <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions,
                so there is no need to also disallow overloading for constructors.</p>
            </div>
            <p>
              An <dfn id="dfn-effective-overload-set">effective overload set</dfn>
              represents the allowable invocations for a particular
              <a class="dfnref" href="#dfn-operation">operation</a>,
              constructor (specified with <a class="xattr" href="#Constructor">[Constructor]</a>
              or <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>),
              <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a> or 
              <a class="dfnref" href="#dfn-callback-function">callback function</a>.
              The algorithm to compute an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
              operates on one of the following six types of IDL constructs, and listed with them below are
              the inputs to the algorithm needed to compute the set.
            </p>
            <dl>
              <dt>For regular operations</dt>
              <dt>For static operations</dt>
              <dd>
                <ul>
                  <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-operation">operations</a> are to be found</li>
                  <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operations</li>
                  <li>the number of arguments to be passed</li>
                </ul>
              </dd>
              <dt>For legacy callers</dt>
              <dd>
                <ul>
                  <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a> are to be found</li>
                  <li>the number of arguments to be passed</li>
                </ul>
              </dd>
              <dt>For constructors</dt>
              <dd>
                <ul>
                  <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a href="#Constructor">[Constructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are to be found</li>
                  <li>the number of arguments to be passed</li>
                </ul>
              </dd>
              <dt>For named constructors</dt>
              <dd>
                <ul>
                  <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a href="#NamedConstructor">[NamedConstructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are to be found</li>
                  <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the named constructors</li>
                  <li>the number of arguments to be passed</li>
                </ul>
              </dd>
              <dt>For callback functions</dt>
              <dd>
                <ul>
                  <li>the <a class="dfnref" href="#dfn-callback-function">callback function</a></li>
                  <li>the number of arguments to be passed</li>
                </ul>
              </dd>
            </dl>
            <p>
              An effective overload set is used, among other things, to determine whether there are ambiguities in the 
              overloaded operations, constructors and callers specified on an interface.
            </p>
            <p>
              The elements of an effective overload set are pairs of the form
              &lt;<var>callable</var>, <var>type list</var>&gt;.  If the effective overload
              set is for regular operations, static operations or legacy callers, then <var>callable</var> is an operation;
              if it is for constructors or named constructors, then <var>callable</var> is an
              extended attribute; and if it is for callback functions, then <var>callable</var>
              is the callback function itself.  In all cases, <var>type list</var> is a list
              of IDL types.  Each pair represents an allowable invocation of the operation,
              constructor, legacy caller or callback function with an argument value list of the given types.
              Due to the use of <a class="dfnref" href="#dfn-optional-argument">optional arguments</a>
              and <a class="dfnref" href="#dfn-variadic">variadic</a> operations
              and constructors, there may be multiple entries in an effective overload set identifying
              the same operation or constructor.
            </p>
            <p>
              The algorithm below describes how to compute an effective overload set.
              The following input variables are used, if they are required:
            </p>
            <ul>
              <li>the identifier of the operation or named constructor is <var>A</var></li>
              <li>the argument count is <var>N</var></li>
              <li>the interface is <var>I</var></li>
              <li>the callback function is <var>C</var></li>
            </ul>
            <p>
              Whenever an argument of an extended
              attribute is mentioned, it is referring to an argument of the
              extended attribute’s <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument list</a>.
            </p>
            <ol class="algorithm">
              <li>Initialize <var>S</var> to ∅.</li>
              <li>Let <var>F</var> be a set with elements as follows, according to the kind of effective overload set:
                <dl class="switch">
                  <dt>For regular operations</dt>
                  <dd>
                    The elements of <var>F</var> are the <a class="dfnref" href="#dfn-regular-operation">regular operations</a> with
                    identifier <var>A</var> defined on interface <var>I</var>.
                  </dd>
                  <dt>For static operations</dt>
                  <dd>
                    The elements of <var>F</var> are the <a class="dfnref" href="#dfn-static-operation">static operations</a> with
                    identifier <var>A</var> defined on interface <var>I</var>.
                  </dd>
                  <dt>For constructors</dt>
                  <dd>
                    The elements of <var>F</var> are the
                    <a class="sym" href="#Constructor">[Constructor]</a>
                    <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> on interface <var>I</var>.
                  </dd>
                  <dt>For named constructors</dt>
                  <dd>
                    The elements of <var>F</var> are the
                    <a class="sym" href="#NamedConstructor">[NamedConstructor]</a>
                    <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> on interface <var>I</var> whose
                    <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument lists’</a>
                    identifiers are <var>A</var>.
                  </dd>
                  <dt>For legacy callers</dt>
                  <dd>
                    The elements of <var>F</var> are the <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a>
                    defined on interface <var>I</var>.
                  </dd>
                  <dt>For callback functions</dt>
                  <dd>
                    The single element of <var>F</var> is the callback function itself, <var>C</var>.
                  </dd>
                </dl>
              </li>
              <!--
              <li>If the effective overload set is for regular operations, then:
                <ol>
                  <li>
                    If the target language binding supports object indexing,
                    then remove from <var>F</var> any operation that is declared
                    to be an <a class='dfnref' href='#dfn-omittable'>omittable</a>
                    <a class='dfnref' href='#dfn-getter'>getter</a>,
                    <a class='dfnref' href='#dfn-setter'>setter</a>,
                    <a class='dfnref' href='#dfn-creator'>creator</a> or
                    <a class='dfnref' href='#dfn-deleter'>deleter</a>.
                  </li>
                  <li>
                    If the target language binding supports object calling,
                    then remove from <var>F</var> any operation that is declared
                    to be an omittable <a class='dfnref' href='#dfn-legacy-caller'>caller</a>.
                  </li>
                  <li>
                    If the target language binding supports object stringification,
                    then remove from <var>F</var> any operation that is declared
                    to be an omittable <a class='dfnref' href='#dfn-stringifier'>stringifier</a>.
                  </li>
                </ol>
              </li>
              -->
              <li>
                Let <var>maxarg</var> be the maximum number of arguments the operations, constructor extended attributes or callback functions in <var>F</var> are declared to take.
                For <a class="dfnref" href="#dfn-variadic">variadic</a> operations and constructor extended attributes,
                the argument on which the ellipsis appears counts as a single argument.
                <div class="note"><div class="noteHeader">Note</div>
                  <p>So <code>void f(long x, long... y);</code> is considered to be declared to take two arguments.</p>
                </div>
              </li>
              <li>Let <var>m</var> be the maximum of <var>maxarg</var> and <var>N</var>.</li>
              <li>For each operation, extended attribute or callback function <var>X</var> in <var>F</var>:
                <ol>
                  <li>Let <var>n</var> be the number of arguments <var>X</var> is declared to take.</li>
                  <li>Let <var>t</var><sub>0..<var>n</var>−1</sub> be the types of the arguments <var>X</var> is defined to take.</li>
                  <li>Add to <var>S</var> the pair &lt;<var>X</var>, <var>t</var><sub>0..<var>n</var>−1</sub>&gt;.</li>
                  <li>If <var>n</var> &gt; 0 and <var>X</var> is declared to be <a class="dfnref" href="#dfn-variadic">variadic</a>, then:
                    <ol>
                      <li>Add to <var>S</var> the pair &lt;<var>X</var>, <var>t</var><sub>0..<var>n</var>−2</sub>&gt;.</li>
                      <li>For every integer <var>i</var>, such that <var>n</var> ≤ <var>i</var> ≤ <var>m</var>−1:
                        <ol>
                          <li>Let <var>u</var><sub>0..<var>i</var></sub> be a list of types, where <var>u</var><sub>j</sub> = <var>t</var><sub>j</sub> (for <var>j</var> &lt; <var>n</var>) and <var>u</var><sub>j</sub> = <var>t</var><sub><var>n</var>−1</sub> (for <var>j</var> ≥ <var>n</var>).</li>
                          <li>Add to <var>S</var> the pair &lt;<var>X</var>, <var>u</var><sub>0..<var>i</var></sub>&gt;.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                  <li>For every integer <var>i</var>, such that 0 &lt; <var>i</var> &lt; <var>n</var>:
                    <ol>
                      <li>If argument <var>i</var> of <var>X</var> is <a class="dfnref" href="#dfn-optional-argument">optional</a>, then add to <var>S</var> the pair &lt;<var>X</var>, <var>t</var><sub>0..<var>i−1</var></sub>&gt;.</li>
                    </ol>
                  </li>
                  <li>If <var>n</var> &gt; 0 and the first argument of <var>X</var> is optional, then add to <var>S</var> the pair &lt;<var>X</var>, ()&gt; (where “()” represents the empty list).</li>
                </ol>
              </li>
              <li>
                The effective overload set is <var>S</var>.
              </li>
            </ol>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
               For the following interface:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  /* f1 */ void f(DOMString a);
  /* f2 */ void f(Node a, DOMString b, float... c);
  /* f3 */ void f();
  /* f4 */ void f(Event a, DOMString b, optional DOMString c, float... d);
};</code></pre></div></div>
              <p>
                assuming <span class="idltype">Node</span> and <span class="idltype">Event</span>
                are two other interfaces of which no object can implement both,
                the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                for <a class="dfnref" href="#dfn-regular-operation">regular operations</a> with
                identifier <code>f</code> and argument count 4 is:
              </p>
              <div class="set">
                { &lt;f1, (DOMString)&gt;,<br />
                  &lt;f2, (Node, DOMString)&gt;,<br />
                  &lt;f2, (Node, DOMString, float)&gt;,<br />
                  &lt;f2, (Node, DOMString, float, float)&gt;,<br />
                  &lt;f3, ()&gt;,<br />
                  &lt;f4, (Event, DOMString)&gt;,<br />
                  &lt;f4, (Event, DOMString, DOMString)&gt;,<br />
                  &lt;f4, (Event, DOMString, DOMString, float)&gt; }
              </div>
            </div>
            <!--
            <p>
              The following types are considered to be the <dfn id='dfn-exactly-matchable-types'>exactly matchable types</dfn>:
            </p>
            <ul>
              <li><span class='idltype'>object</span></li>
              <li><a href='#idl-interface'>interface types</a></li>
              <li><a href='#idl-dictionary'>dictionary types</a></li>
              <li><a href='#idl-sequence'>sequence types</a></li>
              <li><a href='#idl-array'>array types</a></li>
              <li><span class='idltype'>Date</span></li>
              <li><a class='dfnref' href='#dfn-nullable-type'>nullable</a> versions of the above types</li>
              <li>nullable or non-nullable <a href='#idl-union'>union types</a> whose
                <a class='dfnref' href='#dfn-flattened-union-member-types'>flattened member types</a>
                include only the above types</li>
            </ul>
            -->
            <p>
              Two types are <dfn id="dfn-distinguishable">distinguishable</dfn> if
              at most one of the two <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a>
              or is a <a href="#idl-dictionary">dictionary type</a>,
              and at least one of the following three conditions is true:
            </p>
            <ol>
              <li>
                <p>
                  The two types (taking their <a class="dfnref" href="#dfn-inner-type">inner types</a>
                  if they are <a class="dfnref" href="#dfn-nullable-type">nullable types</a>) appear
                  in the following table and there is a “●” mark in the corresponding entry
                  or there is a letter in the corresponding entry and the designated additional
                  requirement below the table is satisfied:</p>
                <table id="distinguishable-table" class="matrix">
                  <tr>
                    <th class="corner"></th>
                    <th>primitive</th>
                    <th>DOMString</th>
                    <th>enumeration</th>
                    <th>ByteString</th>
                    <th>interface</th>
                    <th>object</th>
                    <th>callback <br />function</th>
                    <th>dictionary</th>
                    <th>sequence&lt;<var>T</var>&gt;</th>
                    <th><var>T</var>[]</th>
                    <th>Date</th>
                  </tr>
                  <tr>
                    <th>primitive</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>DOMString</th>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>enumeration</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td></td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>ByteString</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>interface</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td>(a)</td>
                    <td></td>
                    <td>(b)</td>
                    <td>(b)</td>
                    <td>(b)</td>
                    <td>(b)</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>object</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <th>callback function</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>dictionary</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>sequence&lt;<var>T</var>&gt;</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td></td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th><var>T</var>[]</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                    <td>●</td>
                  </tr>
                  <tr>
                    <th>Date</th>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td class="belowdiagonal"></td>
                    <td></td>
                  </tr>
                </table>
                <ol type="a">
                  <li>The two identified <a class="dfnref" href="#dfn-interface">interfaces</a> are
                    not the same, it is not possible for a single <a class="dfnref" href="#dfn-platform-object">platform object</a>
                    to implement both <a class="dfnref" href="#dfn-interface">interfaces</a>,
                    and it is not the case that both are <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.</li>
                  <li>The interface type is not a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.</li>
                </ol>
              </li>
              <li>
                One type is a <a class="dfnref" href="#dfn-union-type">union type</a> or nullable union type,
                the other is neither a union type nor a nullable union type, and each
                <a class="dfnref" href="#dfn-union-member-type">member type</a> of the first is distinguishable
                with the second.
              </li>
              <li>
                Both types are either a union type or nullable union type, and each member type of the one
                is distinguishable with each member type of the other.
              </li>
            </ol>
            <p>
              If there is more than one entry in an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
              that has a given type list length, then for those entries there
              <span class="rfc2119">MUST</span> be an index <var>i</var> such
              that for each pair of entries the types at index <var>i</var> are
              <a class="dfnref" href="#dfn-distinguishable">distinguishable</a><!--, and either:
            </p>
            <ol type='a'>
              <li>all of the types at index <var>i</var> are <a class='dfnref' href='#dfn-exactly-matchable-types'>exactly matchable types</a>, or</li>
              <li>there is only one such index <var>i</var>-->.<!--</li>
            </ol>
            <p>-->
              The lowest such index is termed the <dfn id="dfn-distinguishing-argument-index">distinguishing argument index</dfn>
              for the entries of the effective overload set with the given type list length.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                Consider the effective overload set shown in the previous example.
                There are multiple entries in the set with type lists 2, 3 and 4.
                For each of these type list lengths, the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing
                  argument index</a> is 0, since <span class="idltype">Node</span> and
                <span class="idltype">Event</span> are <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>.
              </p>
              <p>
                The following use of overloading however is invalid:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface B {
  void f(DOMString x);
  void f(float x);
};</code></pre></div></div>
              <p>
                since <a class="idltype" href="#idl-DOMString">DOMString</a> and
                <a class="idltype" href="#idl-float">float</a> are not distinguishable.
              </p>
            </div>
            <p>
              In addition, for each index <var>j</var>, where <var>j</var> is less than the
              <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a>
              for a given type list length, the types at index <var>j</var> in
              all of the entries’ type lists <span class="rfc2119">MUST</span> be the same.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>The following is invalid:</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface B {
  <span class="comment">/* f1 */</span> void f(DOMString w);
  <span class="comment">/* f2 */</span> void f(long w, float x, Node y, Node z);
  <span class="comment">/* f3 */</span> void f(float w, float x, DOMString y, Node z);
};</code></pre></div></div>
              <p>
                For argument count 4, the effective overload set is:
              </p>
              <div class="set">
                { &lt;f1, (DOMString)&gt;,<br />
                  &lt;f2, (long, float, Node, Node)&gt;,<br />
                  &lt;f3, (float, float, DOMString, Node)&gt; }
              </div>
              <p>
                Looking at entries with type list length 4, the
                <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a>
                is 2, since <span class="idltype">Node</span> and
                <a class="idltype" href="#idl-DOMString">DOMString</a> are <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>.
                However, since the arguments in these two overloads at index 0 are different,
                the overloading is invalid.
              </p>
            </div>
            <!--
            <div class='note'>
              <p>
                These restrictions on argument types reduce 
                the possibility of resolution ambiguity in
                <a class='dfnref' href='#dfn-overloaded'>overloaded</a> operations
                and constructors, but do not completely
                eliminate it.  In the ECMAScript language binding, the
                restrictions still can result in overloaded operation and constructor invocations
                that cannot be distinguished solely based on the values passed to
                the corresponding function.  For example, with the following
                <a class='dfnref' href='#dfn-interface'>interfaces</a>:
              </p>
              <x:codeblock language='idl'>interface A {
  <span class='comment'>// ...</span>
};

interface B {
  <span class='comment'>// ...</span>
};

interface C {
  void f(A? x);
  void f(B? x);
};</x:codeblock>
              <p>
                it is possible to pass an object that implements both <span class='idltype'>A</span>
                and <span class='idltype'>B</span> to <code>f</code>.  Similarly,
                passing <span class='esvalue'>null</span> to <code>f</code>
                would also be ambiguous.  Since the ECMAScript
                language binding provides no way to disambiguate such calls,
                the interface description will need to
                describe which operation is invoked in these cases.  (It is
                acceptable not to describe this if there is no observable
                difference in behavior for a particular choice of operation
                or constructor to disambiguate the call, or if no object will
                actually implement the two interfaces, for example.)
              </p>
            </div>
            -->
          </div>

          <div id="idl-iterators" class="section">
            <h4>3.2.7. Iterators</h4>

            <p>
              An <dfn id="dfn-iterator">iterator</dfn> is an <a class="dfnref" href="#dfn-interface-member">interface member</a>
              (matching <a class="sym" href="#prod-ReturnType">ReturnType</a> <span class="sym">"iterator"</span>
              <a class="sym" href="#prod-OptionalIteratorInterface">OptionalIteratorInterface</a>)
              that defines behavior that can be invoked on objects implementing the interface,
              which returns an iterator that allows values from the object to be iterated over.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>In the ECMAScript language binding, an <a class="dfnref" href="#dfn-iterator">iterator</a>
              is exposed as a method named <code>iterator</code> on an
              <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              which returns an iterator object.</p>
            </div>
            <div class="ednote"><div class="ednoteHeader">Editorial note</div>
              <p>This relies on the <a href="http://wiki.ecmascript.org/doku.php?id=harmony:iterators">iterators strawman proposal</a>
              which has not yet been incorporated into the ES6 specification.</p>
            </div>
            <pre class="syntax"><i>iterated-type</i> iterator;</pre>
            <p>
              The type on the left of the <code>iterator</code> keyword is 
              the <dfn id="dfn-iterated-type">iterated type</dfn>,
              which is the type of values the <a class="dfnref" href="#dfn-iterator">iterator</a> will return.
            </p>
            <p>
              Prose accompanying an <a class="dfnref" href="#dfn-interface">interface</a>
              that declares an <a class="dfnref" href="#dfn-iterator">iterator</a> in this way
              <span class="rfc2119">MUST</span> define the
              <dfn id="dfn-iterator-behavior">iterator behavior</dfn>,
              which describes how to determine the first or next value to be provided
              by the iterator for a given target object that implements the interface.
              The <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a>
              <span class="rfc2119">MUST</span> be described in terms of:
            </p>
            <ol>
              <li>a current <dfn id="dfn-iterator-state">iterator state</dfn>,
              which at the time the iterator is first invoked is the
              <dfn id="dfn-uninitialized-iterator-state">uninitialized iterator state</dfn>
              and in subsequent iterations is whatever value the 
              <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a> defines
              it to be updated to, and</li>
              <li>the <dfn id="dfn-iterator-target-object">target object</dfn>, which is
              the object whose values are being iterated over.</li>
            </ol>
            <p>
              The <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a> <span class="rfc2119">MUST</span>
              be defined so that it does one of the following three things:
            </p>
            <ol>
              <li>return an IDL value, which is the next value to be iterated over,</li>
              <li><dfn id="dfn-iterator-return-no-value">not return a value</dfn>, which means
              that no more values will be iterated over, or</li>
              <li>throw an exception.</li>
            </ol>
            <p>
              Any value returned from the definition of <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a>
              for an interface <span class="rfc2119">MUST</span> be of the same
              type as the <a class="dfnref" href="#dfn-iterated-type">iterated type</a>.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>Consider the following interface <span class="idltype">SessionManager</span>, which allows access to
              a number of <span class="idltype">Session</span> objects:</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface SessionManager {
  Session getSessionForUser(DOMString username);
  readonly attribute unsigned long sessionCount;

  Session iterator;
};

interface Session {
  readonly attribute DOMString username;
  <span class="comment">// ...</span>
};</code></pre></div></div>
              <p>
                The behavior of the iterator could be defined like so:
              </p>
              <blockquote>
                <p>
                  The <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a> of the
                  <span class="idltype">SessionManager</span> <a class="dfnref" href="#dfn-interface">interface</a>
                  is as follows:
                </p>
                <ol class="algorithm">
                  <li>Let <var>sessions</var> be a list of open sessions sorted by username.</li>
                  <li>If <var>sessions</var> is empty, then return <a class="dfnref" href="#dfn-iteration-return-no-value">no value</a>.</li>
                  <li>Let <var>state</var> be the current <a class="dfnref" href="#dfn-iterator-state">iterator state</a>.</li>
                  <li>If <var>state</var> is <a class="dfnref" href="#dfn-uninitialized-iterator-state">uninitialized</a>, then:
                    <ol>
                      <li>Let <var>session</var> be the first <span class="idltype">Session</span> object in <var>sessions</var>.</li>
                      <li>Set the <a class="dfnref" href="#dfn-iterator-state">iterator state</a> to the username of <var>session</var>.</li>
                      <li>Return <var>session</var>.</li>
                    </ol>
                  </li>
                  <li>Otherwise:
                    <ol>
                      <li>If there is no <span class="idltype">Session</span> object in <var>sessions</var> with a username that sorts
                        after <var>state</var>, then return <a class="dfnref" href="#dfn-iteration-return-no-value">no value</a>.</li>
                      <li>Let <var>session</var> be the first <span class="idltype">Session</span> object in <var>sessions</var>
                        with a username that sorts after <var>state</var>.</li>
                      <li>Set the <a class="dfnref" href="#dfn-iterator-state">iterator state</a> to the username of <var>session</var>.</li>
                      <li>Return <var>session</var>.</li>
                    </ol>
                  </li>
                </ol>
              </blockquote>
              <p>
                In the ECMAScript language binding, the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
                for the <span class="idltype">SessionManager</span> <a class="dfnref" href="#dfn-interface">interface</a>
                has an <code>iterator</code> method that when invoked returned a
                <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a>,
                which itself has a <code>next</code> method that returns the
                next value to be iterated over.
                This also allows a <span class="idltype">SessionManager</span>
                object to be used in a <code>for..of</code> loop:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Get an instance of SessionManager.
// Assume that it has sessions for two users, "anna" and "brian".</span>
var sm = getSessionManager();

typeof SessionManager.prototype.iterator;  <span class="comment">// Evaluates to "function"</span>
var it = sm.iterator();                    <span class="comment">// iterator() returns an iterator object</span>
String(it);                                <span class="comment">// Evaluates to "[object SessionManagerIterator]"</span>
typeof it.next;                            <span class="comment">// Evaluates to "function"</span>

<span class="comment">// This loop will alert "anna" and then "brian".</span>
for (;;) {
  try {
    let session = it.next();
    window.alert(session.username);
  } catch (e) {
    String(e);                             <span class="comment">// Evaluates to "[object StopIteration]"</span>
  }
}

<span class="comment">// This loop will also alert "anna" and then "brian".</span>
for (let session of sm) {
  window.alert(session.username);
}</code></pre></div></div>
            </div>

            <p>
              <a class="dfnref" href="#dfn-iterator">Iterators</a> can be declared in a second way, where
              iteration is exposed through an object that implements a specific
              <a class="dfnref" href="#dfn-interface">interface</a>.
            </p>
            <pre class="syntax"><i>iterated-type</i> iterator = <i>interface-identifier</i>;</pre>
            <p>
              The <a class="dfnref" href="#dfn-identifier">identifier</a> that appears on the
              right hand side <span class="rfc2119">MUST</span> identify an <a class="dfnref" href="#dfn-interface">interface</a>
              that has been declared to be an <dfn id="dfn-iterator-object-interface">iterator object interface</dfn>,
              which is done by placing an <code>iterator object</code> declaration on the interface:
            </p>
            <pre class="syntax">interface <i>interface-identifier</i> {
  …
  <i>iterated-type</i> iterator object;
};</pre>
            <p>
              An <a class="dfnref" href="#dfn-iterator">iterator</a> declared by identifying an
              <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
              <span class="rfc2119">MUST</span> have the same type as listed in the
              <code>iterator object</code> declaration of the iterator object interface.
            </p>
            <p>
              Prose accompanying an <a class="dfnref" href="#dfn-interface">interface</a>
              that declares an <a class="dfnref" href="#dfn-iterator">iterator</a> in this way
              <span class="rfc2119">MUST</span> define how an <dfn id="dfn-create-iterator-object">iterator object is created</dfn>
              for an object that implements the interface.  That definition <span class="rfc2119">MUST</span>
              return an object that implements the <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
              or throw an exception.
            </p>
            <p>
              Prose accompanying an <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
              <span class="rfc2119">MUST</span> define the <dfn id="dfn-iterator-object-behavior">iterator object behavior</dfn>,
              which describes how to determine the next value to be iterated over using the 
              <a class="dfnref" href="#dfn-iterator-object">iterator object</a> itself as the iterator’s state.
              As with <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a>, the
              <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a> <span class="rfc2119">MUST</span>
              be defined so that it does one of the following three things:
            </p>
            <ol>
              <li>return an IDL value, which is the next value to be iterated over,</li>
              <li><a class="dfnref" href="#dfn-iterator-return-no-value">not return a value</a>, which means
              that no more values will be iterated over, or</li>
              <li>throw an exception.</li>
            </ol>
            <p>
              Any value returned from the definition of <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a>
              for an interface <span class="rfc2119">MUST</span> be of the same
              type as identified in the <code>iterator object</code> declaration.
            </p>
            <p>
              There <span class="rfc2119">MUST NOT</span> be
              an <a class="dfnref" href="#dfn-interface-member">interface member</a>
              on an <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
              or any of its <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>
              with the identifier “next”.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>This is because in the ECMAScript language binding, the
                <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for an
                <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
                has <a href="#es-iterator-object-interfaces">a <code>next</code> method</a>.</p>
            </div>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                Consider the following interfaces, a variant of the previous example:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface SessionManager {
  Session getSessionForUser(DOMString username);
  readonly attribute unsigned long sessionCount;

  Session iterator = SessionIterator;
};

interface Session {
  readonly attribute DOMString username;
  <span class="comment">// ...</span>
};

interface SessionIterator {
  readonly attribute unsigned long remainingSessions;
};</code></pre></div></div>
              <p>
                The <span class="idltype">SessionIterator</span> interface provides
                some additional information that can be accessed while iterating:
                the <code>remainingSessions</code> attribute is defined to return the
                number of sessions remaining to be iterated over.
              </p>
              <p>
                Since the <a class="dfnref" href="#dfn-iterator">iterator</a> on
                <span class="idltype">SessionManager</span> is declared by referencing
                <span class="idltype">SessionIterator</span>, two things need to be
                defined: how to <a class="dfnref" href="#dfn-create-iterator-object">create an iterator object</a>
                for a <span class="idltype">SessionManager</span>, and what the
                <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a>
                for a <span class="idltype">SessionIterator</span> is.  These could be defined
                like so:
              </p>
              <blockquote>
                <p>
                  An <a class="dfnref" href="#dfn-create-iterator-object">iterator object is created</a>
                  for a <span class="idltype">SessionManager</span> as follows:
                </p>
                <ol class="algorithm">
                  <li>Let <var>manager</var> be the <span class="idltype">SessionManager</span> object.</li>
                  <li>Let <var>iterator</var> be a newly created <span class="idltype">SessionIterator</span> object which has
                    stored internally (a) the <span class="idltype">SessionManager</span> object
                    it is iterating over, <var>manager</var>, and (b) the username of the last
                    <span class="idltype">Session</span> object that was returned, which
                    initially is recorded as being undefined.</li>
                  <li>Return <var>iterator</var>.</li>
                </ol>
                <p>
                  The <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a>
                  for a <span class="idltype">SessionIterator</span> is as follows:
                </p>
                <ol class="algorithm">
                  <li>Let <var>iterator</var> be the <span class="idltype">SessionIterator</span> object.</li>
                  <li>Let <var>manager</var> be the <span class="idltype">SessionManager</span> object
                    <var>iterator</var> is iterating over.</li>
                  <li>Let <var>username</var> be the username of the last <span class="idltype">Session</span> object
                    that was returned by <var>iterator</var>.</li>
                  <li>Let <var>sessions</var> be a list of open sessions from <var>manager</var> sorted by username.</li>
                  <li>If <var>sessions</var> is empty, then return <a class="dfnref" href="#dfn-iterator-return-no-value">no value</a>.</li>
                  <li>If <var>username</var> is undefined, then:
                    <ol>
                      <li>Let <var>session</var> be the first <span class="idltype">Session</span> object in <var>sessions</var>.</li>
                      <li>Store <var>session</var>’s username as the username of the last <span class="idltype">Session</span> object
                        that was returned by <var>iterator</var>.</li>
                      <li>Return <var>session</var>.</li>
                    </ol>
                  </li>
                  <li>Otherwise:
                    <ol>
                      <li>If there is no <span class="idltype">Session</span> object in <var>sessions</var> with a username that sorts
                        after <var>username</var>, then return <a class="dfnref" href="#dfn-iteration-return-no-value">no value</a>.</li>
                      <li>Let <var>session</var> be the first <span class="idltype">Session</span> object in <var>sessions</var>
                        with a username that sorts after <var>username</var>.</li>
                      <li>Store <var>session</var>’s username as the username of the last <span class="idltype">Session</span> object
                        that was returned by <var>iterator</var>.</li>
                      <li>Return <var>session</var>.</li>
                    </ol>
                  </li>
                </ol>
              </blockquote>

              <p>
                In the ECMAScript language binding, the value returned from the <code>iterator</code>
                method on a <span class="idltype">SessionManager</span> object is a
                <span class="idltype">SessionIterator</span> object, which itself has a
                <code>next</code> method that returns the next value to be iterated over:
              </p>

              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Get an instance of SessionManager.
// Assume that it has sessions for two users, "anna" and "brian".</span>
var sm = getSessionManager();

typeof SessionManager.prototype.iterator;  <span class="comment">// Evaluates to "function"</span>
var it = sm.iterator();                    <span class="comment">// iterator() returns a SessionIterator object</span>
String(it);                                <span class="comment">// Evaluates to "[object SessionIterator]"</span>
typeof SessionIterator.prototype.next;     <span class="comment">// Evaluates to "function"</span>

<span class="comment">// This loop will alert "anna, 1 to go" and then "brian, 0 to go".</span>
for (;;) {
  try {
    let session = it.next();
    window.alert(session.username + ", " + it.remainingSessions + " to go");
  } catch (e) {
    String(e);                             <span class="comment">// Evaluates to "[object StopIteration]"</span>
  }
}

<span class="comment">// When using a for..of loop, the SessionIterator object is not accessible.</span>
<span class="comment">// This loop will also alert "anna" and then "brian".</span>
for (let session of sm) {
  window.alert(session.username);
}</code></pre></div></div>
            </div>

            <!--
            <p>
              The <a class='dfnref' href='#dfn-iteration-behavior'>iteration behavior</a> for an <a class='dfnref' href='#dfn-interface'>interface</a>
              whose <a class='dfnref' href='#dfn-iterator'>iterator</a> declaration identifies an <a class='dfnref' href='#dfn-iterator-object-interface'>iterator object interface</a>
              is as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>interface</var> be the <a class='dfnref' href='#dfn-interface'>interface</a> for which this
                <a class='dfnref' href='#dfn-iteration-behavior'>iteration behavior</a> is defined.</li>
              <li>Let <var>target</var> be the <a class='dfnref' href='#dfn-target-object'>target object</a> of the iteration.</li>
              <li>Let <var>object</var> be the result of <a class='dfnref' href='#dfn-create-iterator-object'>creating an iterator object</a>
                for <var>target</var> by following the steps accompanying the definition of <var>interface</var>.</li>
              <li>Return <v
            </ol>
            -->

            <!--
            <p>
              If the second form of <a class='dfnref' href='#dfn-iterator'>iterator</a> declaration
              is used, where an <a class='dfnref' href='#dfn-identifier'>identifier</a> is specified
              after the <span class='char'>U+003D EQUALS SIGN ("=")</span> character, then this
              identifier <span class='rfc2119'>MUST</span> identify an <a class='dfnref' href='#dfn-interface'>interface</a>,
              called the <dfn id='dfn-iterator-interface'>iterator interface</dfn>.
              This declaration indicates that the <a class='dfnref' href='#dfn-iterator-behavior'>iterator behavior</a>
              is defined in terms of an <dfn id='dfn-iterator-object'>iterator object</dfn>, which is
              an object that implements the <a class='dfnref' href='#dfn-iterator-interface'>iterator interface</a>.
            </p>
            <p>
              In this case, the <a class='dfnref' href='#dfn-iterator-behavior'>iterator behavior</a>
              of the interface need not get and set the <a class='dfnref' href='#dfn-iterator-state'>iterator state</a>,
              but instead <span class='rfc2119'>MUST</span> be defined in terms of the
              <a class='dfnref' href='#dfn-iterator-object'>iterator object</a>.  It <span class='rfc2119'>MUST</span>
              also be defined how an <a class='dfnref' href='#dfn-iterator-object'>iterator object</a>
              is <dfn id='dfn-create-iterator-object'>created</dfn> for
            </p>
            -->

            <p>
              Amongst an <a class="dfnref" href="#dfn-interface">interface</a> and its
              <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>, there <span class="rfc2119">MUST</span>
              be at most one <a class="dfnref" href="#dfn-iterator">iterator</a> declaration
              and at most one <code>iterator object</code> declaration.
            </p>

            <p>
              No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              defined in this specification are applicable to <a class="dfnref" href="#dfn-iterator">iterators</a>
              or <code>iterator object</code> declarations.
            </p>

            <table class="grammar"><tr><td><span class="prod-number">[43]</span></td><td><a class="sym" href="#prod-OperationOrIterator">OperationOrIterator</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationOrIteratorRest">OperationOrIteratorRest</a> <br /> |
             <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></span></td></tr><tr><td><span class="prod-number">[47]</span></td><td><a class="sym" href="#prod-OperationOrIteratorRest">OperationOrIteratorRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-IteratorRest">IteratorRest</a> <br /> |
             <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td></tr><tr id="proddef-IteratorRest"><td><span class="prod-number">[48]</span></td><td><a class="sym" href="#prod-IteratorRest">IteratorRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"iterator" <a class="sym" href="#prod-OptionalIteratorInterfaceOrObject">OptionalIteratorInterfaceOrObject</a> ";"</span></td></tr><tr id="proddef-OptionalIteratorInterfaceOrObject"><td><span class="prod-number">[49]</span></td><td><a class="sym" href="#prod-OptionalIteratorInterfaceOrObject">OptionalIteratorInterfaceOrObject</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIteratorInterface">OptionalIteratorInterface</a> <br /> |
             "object"</span></td></tr><tr id="proddef-OptionalIteratorInterface"><td><span class="prod-number">[50]</span></td><td><a class="sym" href="#prod-OptionalIteratorInterface">OptionalIteratorInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr></table>
          </div>
        </div>

        <div id="idl-dictionaries" class="section">
          <h3>3.3. Dictionaries</h3>

          <p>
            A <dfn id="dfn-dictionary">dictionary</dfn> is a definition (matching
            <a class="sym" href="#prod-Dictionary">Dictionary</a>)
            used to define an associative array data type with a fixed, ordered set of key–value pairs,
            termed <dfn id="dfn-dictionary-member">dictionary members</dfn>,
            where keys are strings and values are of a particular type specified in the definition.
          </p>
          <pre class="syntax">dictionary <i>identifier</i> {
  <i>dictionary-members…</i>
};</pre>
          <p>
            Dictionaries are always passed by value.  In language bindings where a dictionary is represented by an object of some kind, passing a
            dictionary to a <a class="dfnref" href="#dfn-platform-object">platform object</a> will not result in a reference to the dictionary being kept by that object.
            Similarly, any dictionary returned from a platform object will be a copy and modifications made to it will not be visible to the platform object. 
          </p>
          <p>
            A dictionary can be defined to <dfn id="dfn-inherit-dictionary">inherit</dfn> from another dictionary.
            If the identifier of the dictionary is followed by a colon and a <a class="dfnref" href="#dfn-identifier">identifier</a>,
            then that identifier identifies the inherited dictionary.  The identifier
            <span class="rfc2119">MUST</span> identify a dictionary.
          </p>
          <p>
            A dictionary <span class="rfc2119">MUST NOT</span> be declared such that
            its inheritance hierarchy has a cycle.  That is, an interface
            <var>A</var> cannot inherit from itself, nor can it inherit from another
            interface <var>B</var> that inherits from <var>A</var>, and so on.
          </p>
          <pre class="syntax">dictionary <em>Base</em> {
  <i>dictionary-members…</i>
};

dictionary <i>Derived</i> : <em>Base</em> {
  <i>dictionary-members…</i>
};</pre>
          <p>
            The <dfn id="dfn-inherited-dictionaries">inherited dictionaries</dfn> of
            a given dictionary <var>D</var> is the set of all dictionaries that <var>D</var>
            inherits from, directly or indirectly.  If <var>D</var> does not <a class="dfnref" href="#dfn-inherit-dictionary">inherit</a>
            from another dictionary, then the set is empty.  Otherwise, the set
            includes the dictionary <var>E</var> that <var>D</var> <a class="dfnref" href="#dfn-inherit-dictionary">inherits</a>
            from and all of <var>E</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>.
          </p>
          <p>
            A dictionary value of type <var>D</var> can have key–value pairs corresponding
            to the dictionary members defined on <var>D</var> and on any of <var>D</var>’s
            <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>.
            On a given dictionary value, the presence of each dictionary member is optional.
            When specified in the dictionary value, a dictionary member is said to be
            <dfn id="dfn-present">present</dfn>, otherwise it is <a class="dfnref" href="#dfn-present">not present</a>.
            Dictionary members can also optionally have a <dfn id="dfn-dictionary-member-default-value">default value</dfn>, which is
            the value to use for the dictionary member when passing a value to a
            <a class="dfnref" href="#dfn-platform-object">platform object</a> that does
            not have a specified value.  Dictionary members with default values are
            always considered to be present.
          </p>
          <p>
            Each <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> (matching
            <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a>) is specified
            as a type (matching <a class="sym" href="#prod-Type">Type</a>) followed by an
            <a class="dfnref" href="#dfn-identifier">identifier</a>
            (given by an <a class="sym" href="#prod-identifier">identifier</a> token following
            the type).  The identifier is the key name of the key–value pair.
            If the <a class="sym" href="#prod-Type">Type</a>
            is an <a class="dfnref" href="#dfn-identifier">identifier</a> or an
            identifier followed by <code>?</code>, then the identifier
            <span class="rfc2119">MUST</span> identify an
            interface, dictionary, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
            <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
          </p>
          <pre class="syntax">dictionary <i>identifier</i> {
  <i>type</i> <i>identifier</i>;
};</pre>
          <p>
            If the identifier is followed by a <span class="char">U+003D EQUALS SIGN ("=")</span>
            and a value (matching <a class="sym" href="#prod-DefaultValue">DefaultValue</a>),
            then that gives the dictionary member its <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>.
          </p>
          <pre class="syntax">dictionary <i>identifier</i> {
  <i>type</i> <i>identifier</i> = <i>value</i>;
};</pre>
          <p>
            When a boolean literal token (<code>true</code> or <code>false</code>),
            the <code>null</code> token,
            an <a class="sym" href="#prod-integer">integer</a> token, a
            <a class="sym" href="#prod-float">float</a> token,
            one of the three special floating point literal values (<code>Infinity</code>,
            <code>-Infinity</code> or <code>NaN</code>) or
            a <a class="sym" href="#prod-string">string</a> token is used as the
            <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>,
            it is interpreted in the same way as for an <a class="dfnref" href="#dfn-operation">operation</a>’s
            <a class="dfnref" href="#dfn-optional-argument-default-value">optional argument default value</a>.
          </p>
          <p>
            If the type of the <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
            is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then its
            <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a> if specified <span class="rfc2119">MUST</span>
            be one of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
          </p>
          <p>
            As with interfaces, the IDL for dictionaries can be split into multiple parts
            by using <dfn id="dfn-partial-dictionary">partial dictionary</dfn> definitions
            (matching <span class="sym">"partial"</span> <a class="sym" href="#prod-Dictionary">Dictionary</a>).
            The <a class="dfnref" href="#dfn-identifier">identifier</a> of a partial
            dictionary definition <span class="rfc2119">MUST</span> be the same as the
            identifier of a dictionary definition.  All of the members that appear on each
            of the partial dictionary definitions are considered to be members of
            the dictionary itself.
          </p>
          <pre class="syntax">dictionary <em>SomeDictionary</em> {
  <i>dictionary-members…</i>
};

partial dictionary <em>SomeDictionary</em> {
  <i>dictionary-members…</i>
};</pre>
          <div class="note"><div class="noteHeader">Note</div>
            <p>As with partial interface definitions, partial dictionary definitions are intended for use as a specification
              editorial aide, allowing the definition of an interface to be separated
              over more than one section of the document, and sometimes multiple documents.</p>
          </div>
          <p>
            The order of the <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>
            on a given dictionary is such that inherited dictionary members are ordered
            before non-inherited members, and the dictionary members on the one
            dictionary definition (including any partial dictionary definitions) are
            ordered lexicographically by the Unicode codepoints that comprise their
            identifiers.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>For example, with the following definitions:</p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">dictionary B : A {
  long b;
  long a;
};

dictionary A {
  long c;
  long g;
};

dictionary C : B {
  long e;
  long f;
};

partial dictionary A {
  long h;
  long d;
};</code></pre></div></div>
            <p>
              the order of the <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>
              of a dictionary value of type <span class="idltype">C</span> is
              c, d, g, h, a, b, e, f.
            </p>
            <p>
              Dictionaries are required to have their members ordered because
              in some language bindings the behavior observed when passing
              a dictionary value to a platform object depends on the order
              the dictionary members are fetched.  For example, consider the
              following additional interface:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Something {
  void f(A a);
};</code></pre></div></div>
            <p>
              and this ECMAScript code:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var something = getSomething();  <span class="comment">// Get an instance of Something.</span>
var x = 0;

var dict = { };
Object.defineProperty(dict, "d", { get: function() { return ++x; } });
Object.defineProperty(dict, "c", { get: function() { return ++x; } });

something.f(dict);</code></pre></div></div>
            <p>
              The order that the dictionary members are fetched in determines
              what values they will be taken to have.  Since the order for
              <span class="idltype">A</span> is defined to be c then d, 
              the value for c will be 1 and the value for d will be 2.
            </p>
          </div>
          <p>
            The identifier of a dictionary member <span class="rfc2119">MUST NOT</span> be
            the same as that of another dictionary member defined on the dictionary or
            on that dictionary’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>.
          </p>
          <p>
            Dictionaries <span class="rfc2119">MUST NOT</span> be used as the type of an
            <a class="dfnref" href="#dfn-attribute">attribute</a>,
            <a class="dfnref" href="#dfn-constant">constant</a> or
            <a class="dfnref" href="#dfn-exception-field">exception field</a>.
          </p>
          <p>
            No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this specification are applicable to dictionaries.
          </p>
          <p>
            The following extended attributes are applicable to dictionary members:
            <a class="xattr" href="#Clamp">[Clamp]</a>,
            <a class="xattr" href="#EnforceRange">[EnforceRange]</a>.
          </p>
          <table class="grammar"><tr><td><span class="prod-number">[6]</span></td><td><a class="sym" href="#prod-Partial">Partial</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td></tr><tr><td><span class="prod-number">[7]</span></td><td><a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br /> |
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td></tr><tr id="proddef-Dictionary"><td><span class="prod-number">[11]</span></td><td><a class="sym" href="#prod-Dictionary">Dictionary</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td></tr><tr id="proddef-DictionaryMembers"><td><span class="prod-number">[12]</span></td><td><a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a> <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> <br /> |
             ε</span></td></tr><tr id="proddef-DictionaryMember"><td><span class="prod-number">[13]</span></td><td><a class="sym" href="#prod-DictionaryMember">DictionaryMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Default">Default</a> ";"</span></td></tr><tr id="proddef-PartialDictionary"><td><span class="prod-number">[14]</span></td><td><a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td></tr><tr id="proddef-Default"><td><span class="prod-number">[15]</span></td><td><a class="sym" href="#prod-Default">Default</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-DefaultValue">DefaultValue</a> <br /> |
             ε</span></td></tr><tr><td><span class="prod-number">[16]</span></td><td><a class="sym" href="#prod-DefaultValue">DefaultValue</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br /> |
             <a class="sym" href="#prod-string">string</a></span></td></tr><tr><td><span class="prod-number">[19]</span></td><td><a class="sym" href="#prod-Inheritance">Inheritance</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr></table>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              One use of dictionary types is to allow a number of optional arguments to
              an <a class="dfnref" href="#dfn-operation">operation</a> without being
              constrained as to the order they are specified at the call site.  For example,
              consider the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[Constructor]
interface Point {
  attribute float x;
  attribute float y;
};

dictionary PaintOptions {
  DOMString? fillPattern = "black";
  DOMString? strokePattern = null;
  Point position;
};

interface GraphicsContext {
  void drawRectangle(float width, float height, optional PaintOptions options);
};</code></pre></div></div>
            <p>
              In an ECMAScript implementation of the IDL, an <span class="estype">Object</span>
              can be passed in for the optional <span class="idltype">PaintOptions</span> dictionary:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Get an instance of GraphicsContext.</span>
var ctx = getGraphicsContext();

<span class="comment">// Draw a rectangle.</span>
ctx.drawRectangle(300, 200, { fillPattern: "red", position: new Point(10, 10) });</code></pre></div></div>
            <p>
              Both fillPattern and strokePattern are given <a class="dfnref" href="#dfn-dictionary-member-default-value">default values</a>,
              so if they are omitted, the definition of drawRectangle can assume that they
              have the given default values and not include explicit wording to handle
              their non-presence.
            </p>
          </div>
        </div>

        <div id="idl-exceptions" class="section">
          <h3>3.4. Exceptions</h3>

          <p>
            An <dfn id="dfn-exception">exception</dfn> is a definition (matching
            <a class="sym" href="#prod-Exception">Exception</a>) used
            to declare a class of exceptions that can be thrown by implementations.
          </p>
          <pre class="syntax">exception <i>identifier</i> {
  <i>exception-members…</i>
};</pre>
          <p>
            Exceptions are different from <a class="dfnref" href="#dfn-interface">interfaces</a>
            in that they can have only <a class="dfnref" href="#dfn-constant">constants</a>
            and <a class="dfnref" href="#dfn-exception-field">exception fields</a>
            declared on them (together known as <dfn id="dfn-exception-member">exception members</dfn>),
            rather than the three types of <a class="dfnref" href="#dfn-interface-member">interface members</a>.
          </p>
          <p>
            An exception can be defined to <dfn id="dfn-inherit-exception">inherit</dfn> from another exception.
            If the identifier of the exception is followed by a <span class="char">U+003A COLON (":")</span>
            character and a <a class="dfnref" href="#dfn-identifier">identifier</a>,
            then that identifier identifies the inherited exception.  The identifier
            <span class="rfc2119">MUST</span> identify an exception.
          </p>
          <p>
            An exception <span class="rfc2119">MUST NOT</span> be declared such that
            its inheritance hierarchy has a cycle.  That is, an interface
            <var>A</var> cannot inherit from itself, nor can it inherit from another
            interface <var>B</var> that inherits from <var>A</var>, and so on.
          </p>
          <p>
            An object that implements an exception that inherits from another
            also implements that inherited exception.  The object therefore will also
            have members that correspond to the
            exception members from the inherited exception.
          </p>
          <pre class="syntax">exception <em>Base</em> {
  <i>exception-members…</i>
};

exception <i>Derived</i> : <em>Base</em> {
  <i>exception-members…</i>
};</pre>
          <p>
            Exceptions have an associated <dfn id="dfn-exception-message">message</dfn>, a
            <a class="idltype" href="#idl-DOMString">DOMString</a>, which is
            exposed on an exception object in a language binding-specific manner.
          </p>
          <p>
            Exceptions also have an associated <dfn id="dfn-exception-name">name</dfn>, also
            a <a class="idltype" href="#idl-DOMString">DOMString</a>, which is
            exposed on an exception object in a language binding-specific manner.
            The <a class="dfnref" href="#dfn-exception-name">name</a> of an exception
            is intended to be used to distinguish between the different kinds of
            exceptions that can be represented by the given IDL exception.
          </p>
          <p>
            Each <dfn id="dfn-exception-field">exception field</dfn> (matching
            <a class="sym" href="#prod-ExceptionField">ExceptionField</a>) is specified
            as a type (matching <a class="sym" href="#prod-Type">Type</a>) followed by an
            <a class="dfnref" href="#dfn-identifier">identifier</a>
            (given by an <a class="sym" href="#prod-identifier">identifier</a> token following
            the type).  If the <a class="sym" href="#prod-Type">Type</a>
            is an <a class="dfnref" href="#dfn-identifier">identifier</a> or
            an identifier followed by <code>?</code>, then the identifier
            <span class="rfc2119">MUST</span> identify an
            interface, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
            <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
          </p>
          <p>
            The type of the exception field, after resolving typedefs, <span class="rfc2119">MUST NOT</span> be a
            <a class="dfnref" href="#dfn-nullable-type">nullable</a> or non-nullable version of any of the following types:
          </p>
          <ul>
            <li>a <a href="#idl-sequence">sequence type</a></li>
            <li>a <a href="#dfn-dictionary">dictionary</a></li>
            <li>a <a class="dfnref" href="#dfn-union-type">union type</a>
              that has a nullable or non-nullable sequence type or dictionary
              as one of its <a class="dfnref" href="#dfn-flattened-union-member-type">flattened member types</a></li>
          </ul>
          <p>
            Exception fields are similar to <a class="dfnref" href="#dfn-attribute">attributes</a> in that they
            will correspond to attributes of the same name and type on exception objects
            that are thrown by implementations.
          </p>
          <pre class="syntax">exception <i>identifier</i> {
  <i>type</i> <i>identifier</i>;
};</pre>
          <p>
            The identifier of an exception field <span class="rfc2119">MUST NOT</span> be
            the same as that of another <a class="dfnref" href="#dfn-exception-member">exception member</a>,
            and it <span class="rfc2119">MUST NOT</span> be “name” or “message”.
          </p>
          <p>
            Each exception member can be preceded by a list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
            <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>),
            which can control how the exception member will be handled in language bindings.
          </p>
          <pre class="syntax">exception <i>identifier</i> {

  [<em>extended-attributes</em>]
  const <i>type</i> <i>identifier</i> = <i>value</i>;

  [<em>extended-attributes</em>]
  <i>type</i> <i>identifier</i>;
};</pre>
          <p>
            A number of <dfn id="dfn-predefined-exception">predefined exceptions</dfn> are also available to be thrown from
            specifications.  These predefined exceptions correspond to the
            <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.11">ECMAScript error objects</a>
            (<a href="#ref-ECMA-262">[ECMA-262]</a>,
            section 15.11).  Specifically, the list of predefined exceptions is as follows:
            <span class="idltype">Error</span>,
            <span class="idltype">EvalError</span>,
            <span class="idltype">RangeError</span>,
            <span class="idltype">ReferenceError</span>,
            <span class="idltype">SyntaxError</span>,
            <span class="idltype">TypeError</span> and
            <span class="idltype">URIError</span>.  The meaning of each of these exceptions matches
            those of the corresponding <span class="estype">Error</span> object in the
            ECMAScript specification.  These exceptions are not considered to have any
            <a class="dfnref" href="#dfn-exception-member">exception members</a>.
          </p>
          <p>
            The <a class="dfnref" href="#dfn-identifier">identifier</a> of an exception
            <span class="rfc2119">MUST NOT</span> be the same as one of the <a class="dfnref" href="#dfn-predefined-exception">predefined exceptions</a>.
          </p>
          <p>
            Exceptions can be <dfn id="dfn-throw">thrown</dfn>, optionally with a specific
            <a class="dfnref" href="#dfn-exception-message">message</a> and
            <a class="dfnref" href="#dfn-exception-name">name</a>,
            the behavior of which again is language binding-specific.  If a name
            is not specified, it is assumed to be the same as the
            <a class="dfnref" href="#dfn-identifier">identifier</a> of the exception.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              See <a href="#es-throwing-exceptions">section 4.11</a>
              below for details on what throwing an exception
              entails in the ECMAScript language binding.
            </p>
          </div>
          <div class="warning"><div class="warningHeader">Warning</div>
            <p>
              Authors of future Web platform specifications <span class="rfc2119">SHOULD NOT</span>
              mint new IDL <a class="dfnref" href="#dfn-exception">exceptions</a> but instead should use <span class="estype">DOMException</span>
              and distinguish different kinds of exceptions by their
              <a class="dfnref" href="#dfn-exception-name">name</a> and
              not by an integer code.  The name will be exposed in ECMAScript using a “name” property on the
              exception object.  One valid reason to mint new IDL exceptions is if additional
              <a class="dfnref" href="#dfn-exception-field">exception fields</a> are required.
              If a <a class="dfnref" href="#dfn-predefined-exception">predefined exception</a>
              matches the meaning of the exception to be thrown, it <span class="rfc2119">SHOULD</span> be used
              in preference to minting an exception name.
            </p>
            <p>
              If new exception names are to be minted, their names <span class="rfc2119">SHOULD</span> use
              the same naming scheme as the built-in ECMAScript error objects; for example,
              “HierarchyRequestError” or “NotFoundError”, if names are being given
              to the DOM Core exceptions.  Any new IDL exceptions <span class="rfc2119">SHOULD</span> be named similarly.
            </p>
          </div>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              There is no IDL syntax for declaring exception names.  In prose, an
              exception of a particular name can be thrown by using wording like the
              following:
            </p>
            <blockquote>Throw a <span class="estype">DOMException</span> with
              <a class="dfnref" href="#dfn-exception-name">name</a>
              HierarchyRequestError and <a class="dfnref" href="#dfn-exception-message">message</a>
              “Cannot append that Node here”.</blockquote>
          </div>
          <p>
            <!--JAVA
            The following extended attributes are applicable to exceptions:
            <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>,
            -->
            The following extended attribute is applicable to <a class="dfnref" href="#dfn-exception">exceptions</a>:
            <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>.
          </p>
          <p>
            No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this specification are applicable to <a class="dfnref" href="#dfn-exception-field">exception fields</a>.
          </p>
          <table class="grammar"><tr id="proddef-Exception"><td><span class="prod-number">[17]</span></td><td><a class="sym" href="#prod-Exception">Exception</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"exception" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-ExceptionMembers">ExceptionMembers</a> "}" ";"</span></td></tr><tr id="proddef-ExceptionMembers"><td><span class="prod-number">[18]</span></td><td><a class="sym" href="#prod-ExceptionMembers">ExceptionMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-ExceptionMember">ExceptionMember</a> <a class="sym" href="#prod-ExceptionMembers">ExceptionMembers</a> <br /> |
             ε</span></td></tr><tr><td><span class="prod-number">[19]</span></td><td><a class="sym" href="#prod-Inheritance">Inheritance</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr><tr id="proddef-ExceptionMember"><td><span class="prod-number">[59]</span></td><td><a class="sym" href="#prod-ExceptionMember">ExceptionMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br /> |
             <a class="sym" href="#prod-ExceptionField">ExceptionField</a></span></td></tr><tr id="proddef-ExceptionField"><td><span class="prod-number">[60]</span></td><td><a class="sym" href="#prod-ExceptionField">ExceptionField</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr></table>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following example demonstrates how a reduced version of DOM Core’s 
              <span class="idltype">DOMException</span> might be defined for three
              of the existing types of exception and one new one.  Specific types of DOMExceptions
              have historically been distinguished only by an integer code, but in this
              reformulation <a class="dfnref" href="#dfn-exception-name">exception names</a>
              are used instead.  The new exception kind here is not given a legacy
              integer code.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">exception DOMException {
  const unsigned short INDEX_SIZE_ERR = 1;
  const unsigned short DOMSTRING_SIZE_ERR = 2;
  const unsigned short HIERARCHY_REQUEST_ERR = 3;

  unsigned short code;
};</code></pre></div></div>
            <p>
              Assume that the specification defines that throwing a <span class="estype">DOMException</span>
              with a particular name uses a corresponding value for the
              code field, as follows:
            </p>
            <table>
              <tr><th>Name</th><th>Value of code</th></tr>
              <tr><td>IndexSizeError</td><td>INDEX_SIZE_ERR</td></tr>
              <tr><td>DOMStringSizeError</td><td>DOMSTRING_SIZE_ERR</td></tr>
              <tr><td>HierarchyRequestError</td><td>HIERARCHY_REQUEST_ERR</td></tr>
              <tr><td>InsufficientBlingError</td><td>0</td></tr>
            </table>
            <p>
              In an ECMAScript implementation, the existing types of <span class="idltype">DOMException</span>s
              could be distinguished by code, and the existing ones and the new ones could
              be distinguished by type:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">try {
  document.appendChild(document);
} catch (e) {
  <span class="comment">// The traditional way, by looking at the code.</span>
  if (e.code == DOMException.HIERARCHY_REQUEST_ERR) {
    ...
  }

  <span class="comment">// By looking at the name.</span>
  if (e.name == "HierarchyRequestError") {
    ...
  }
  if (e.name == "InsufficientBlingError") {
    e.code;  <span class="comment">// This would evaluate to 0.</span>
    ...
  }
}</code></pre></div></div>
<!--
            <p>
              The advantage of looking at the name rather than code is that exception
              names are much less likely to conflict across specifications.  Exception
              codes do conflict already.  For example, if a
              <span class='idltype'>DOMException</span> or an <span class='idltype'>SVGException</span>
              could be thrown inside the one <code>try</code> block, authors would
              need to check both the code and the interface of the exception object
              to be sure of what kind of exception was thrown.
            </p>
-->
            <p>
              Note that using <code>e instanceof <var>ExceptionClass</var></code>
              can return <code>false</code> if the exception object comes from a
              different document than the global scope of the running script, even if
              the exception is an instance of the <var>ExceptionClass</var> in
              its own document.  For this reason, authors are suggested not to use
              <code>instanceof</code> to perform exception type testing.
            </p>
          </div>
        </div>

        <div id="idl-enums" class="section">
          <h3>3.5. Enumerations</h3>

          <p>
            An <dfn id="dfn-enumeration">enumeration</dfn> is a definition (matching
            <a class="sym" href="#prod-Enum">Enum</a>) used to declare a type
            whose valid values are a set of predefined strings.  Enumerations
            can be used to restrict the possible
            <a class="idltype" href="#idl-DOMString">DOMString</a> values that can be assigned to an
            <a class="dfnref" href="#dfn-attribute">attribute</a> or passed to an
            <a class="dfnref" href="#dfn-operation">operation</a>.
          </p>
          <pre class="syntax">enum <i>identifier</i> { <i>enumeration-values…</i> };</pre>
          <p>
            The <dfn id="dfn-enumeration-value">enumeration values</dfn> are specified
            as a comma-separated list of <a class="sym" href="#prod-string">string</a> literals.
            The list of <a class="dfnref" href="#dfn-enumeration-value">enumeration values</a>
            <span class="rfc2119">MUST NOT</span> include duplicates.
          </p>
          <p>
            The behavior when a string value that is not one a valid enumeration value
            is used when assigning to an <a class="dfnref" href="#dfn-attribute">attribute</a>,
            or passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument,
            whose type is the enumeration, is language binding specific.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              In the ECMAScript binding, assignment of an invalid string value to an
              <a class="dfnref" href="#dfn-attribute">attribute</a> is ignored, while
              passing such a value as an <a class="dfnref" href="#dfn-operation">operation</a> argument
              results in an exception being thrown.
            </p>
          </div>
          <p>
            No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this specification are applicable to <a class="dnfref" href="#dfn-enumeration">enumerations</a>.
          </p>

          <table class="grammar"><tr id="proddef-Enum"><td><span class="prod-number">[20]</span></td><td><a class="sym" href="#prod-Enum">Enum</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"enum" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-EnumValueList">EnumValueList</a> "}" ";"</span></td></tr><tr id="proddef-EnumValueList"><td><span class="prod-number">[21]</span></td><td><a class="sym" href="#prod-EnumValueList">EnumValueList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValues">EnumValues</a></span></td></tr><tr id="proddef-EnumValues"><td><span class="prod-number">[22]</span></td><td><a class="sym" href="#prod-EnumValues">EnumValues</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValues">EnumValues</a> <br /> |
             ε</span></td></tr></table>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              defines an <a class="dfnref" href="#dfn-enumeration">enumeration</a>
              that is used as the type of an <a class="dfnref" href="#dfn-attribute">attribute</a>
              and an <a class="dfnref" href="#dfn-operation">operation</a> argument:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">enum MealType { "rice", "noodles", "other" };

interface Meal {
  attribute MealType type;
  attribute float size;     <span class="comment">// in grams</span>

  void initialize(MealType type, float size);
};</code></pre></div></div>
            <p>
              An ECMAScript implementation would restrict the strings that can be
              assigned to the type property or passed to the initializeMeal function
              to those identified in the <a class="dfnref" href="#dfn-enumeration">enumeration</a>.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var meal = getMeal();                <span class="comment">// Get an instance of Meal.</span>

meal.initialize("rice", 200);        <span class="comment">// Operation invoked as normal.</span>

try {
  meal.initialize("sandwich", 100);  <span class="comment">// Throws a TypeError.</span>
} catch (e) {
}

meal.type = "noodles";               <span class="comment">// Attribute assigned as normal.</span>
meal.type = "dumplings";             <span class="comment">// Attribute assignment ignored.</span>
meal.type == "noodles";              <span class="comment">// Evaluates to true.</span></code></pre></div></div>
          </div>
        </div>

        <div id="idl-callback-functions" class="section">
          <h3>3.6. Callback functions</h3>

          <p>
            A <dfn id="dfn-callback-function">callback function</dfn> is a definition (matching
            <span class="sym">"callback"</span> <a class="sym" href="#prod-CallbackRest">CallbackRest</a>) used to declare a function type.
          </p>
          <pre class="syntax">callback <i>identifier</i> = <i>return-type</i> (<i>arguments…</i>);</pre>
          <div class="note"><div class="noteHeader">Note</div>
            <p>See also the similarly named <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.</p>
          </div>
          <p>
            The <a class="dfnref" href="#dfn-identifier">identifier</a> on the
            left of the equals sign gives the name of the <a class="dfnref" href="#dfn-callback-function">callback function</a>
            and the return type and argument list (matching <a class="sym" href="#prod-ReturnType">ReturnType</a>
            and <a class="sym" href="#prod-ArgumentList">ArgumentList</a>) on the right side of the equals
            sign gives the signature of the callback function type.
          </p>
          <p>
            <a class="dfnref" href="#dfn-callback-function">Callback functions</a> <span class="rfc2119">MUST NOT</span>
            be used as the type of a <a class="dfnref" href="#dfn-constant">constant</a>.
          </p>
          <p>
            The following extended attribute is applicable to callback functions:
            <a class="xattr" href="#TreatNonCallableAsNull">[TreatNonCallableAsNull]</a>.
          </p>

          <table class="grammar"><tr><td><span class="prod-number">[3]</span></td><td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr><td><span class="prod-number">[4]</span></td><td><a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr id="proddef-CallbackRest"><td><span class="prod-number">[23]</span></td><td><a class="sym" href="#prod-CallbackRest">CallbackRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ReturnType">ReturnType</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td></tr></table>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines
              a <a class="dfnref" href="#dfn-callback-function">callback function</a> used for an API that
              invokes a user-defined function when an operation is complete.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">callback AsyncOperationCallback = void (DOMString status);

interface AsyncOperations {
  void performOperation(AsyncOperationCallback whenFinished);
};</code></pre></div></div>
            <p>
              In the ECMAScript language binding, a <span class="estype">Function</span> object is
              passed as the operation argument.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var ops = getAsyncOperations();  <span class="comment">// Get an instance of AsyncOperations.</span>

ops.performOperation(function(status) {
  window.alert("Operation finished, status is " + status + ".");
});</code></pre></div></div>
          </div>
        </div>

        <div id="idl-typedefs" class="section">
          <h3>3.7. Typedefs</h3>

          <p>
            A <dfn id="dfn-typedef">typedef</dfn> is a definition (matching
            <a class="sym" href="#prod-Typedef">Typedef</a>)
            used to declare a new name for a type.  This new name is not exposed
            by language bindings; it is purely used as a shorthand for referencing
            the type in the IDL.
          </p>
          <pre class="syntax">typedef <i>type</i> <i>identifier</i>;</pre>
          <p>
            The type being given a new name is specified after the <code>typedef</code>
            keyword (matching <a class="sym" href="#prod-Type">Type</a>), and the
            <a class="sym" href="#prod-identifier">identifier</a> token following the
            type gives the name.
          </p>
          <p>
            The <a class="sym" href="#prod-Type">Type</a> <span class="rfc2119">MUST NOT</span>
            identify the same or another <a class="dfnref" href="#dfn-typedef">typedef</a>.
          </p>
          <p>
            <a class="dfnref" href="#dfn-extended-attribute">Extended attributes</a> can be
            given directly after the <code>typedef</code> keyword, and any such
            extended attributes will be taken to apply to constructs that
            use the typedef.
          </p>
          <pre class="syntax">typedef [<em>extended-attributes</em>] <i>type</i> <i>identifier</i>;</pre>
          <p>
            A <a class="dfnref" href="#dfn-typedef">typedef</a> <span class="rfc2119">MUST NOT</span>
            be used as the type of a construct if an <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
            that appears after the <code>typedef</code> keyword would be disallowed from appearing
            directly on that construct.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              That means you can write:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">typedef [Clamp] octet Value;

interface A {
  void setColor(Value r, Value g, Value b);
};</code></pre></div></div>
            <p>
              as a shorthand for:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  void setColor([Clamp] octet r, [Clamp] octet g, [Clamp] octet b);
};</code></pre></div></div>
            <p>
              but it would be invalid to write either of the following
              two <a class="dfnref" href="#dfn-operation">operations</a>:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  Value getRedComponent();
  void setRedComponent([EnforceRange] Value r);
};</code></pre></div></div>
            <p>
              since <a class="xattr" href="#Clamp">[Clamp]</a> cannot be used on
              an <a class="dfnref" href="#dfn-return-type">operation return value</a>
              and it also cannot be used in conjunction with <a class="xattr" href="#EnforceRange">[EnforceRange]</a>.
            </p>
          </div>
          <p>
            Any <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> that apply
            to a construct due to their appearing on a referenced <a class="dfnref" href="#dfn-typedef">typedef</a>
            are considered to appear after those that are specified explicitly on the construct, although note that
            none of the <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in
            this specification that can validly be used in a <a class="dfnref" href="#dfn-typedef">typedef</a>
            are sensitive to order.
          </p>
          <p>
            No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this specification are applicable to <a class="dfnref" href="#dfn-typedef">typedefs</a>
            themselves.
          </p>

          <table class="grammar"><tr id="proddef-Typedef"><td><span class="prod-number">[24]</span></td><td><a class="sym" href="#prod-Typedef">Typedef</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"typedef" <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr></table>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              demonstrates the use of <a class="dfnref" href="#dfn-typedef">typedefs</a>
              to allow the use of a short
              <a class="dfnref" href="#dfn-identifier">identifier</a> instead of a long
              <a href="#idl-sequence">sequence type</a>.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Point {
  attribute float x;
  attribute float y;
};

typedef sequence&lt;Point&gt; Points;

interface Widget {
  boolean pointWithinBounds(Point p);
  boolean allPointsWithinBounds(Points ps);
};</code></pre></div></div>
          </div>
        </div>

        <div id="idl-implements-statements" class="section">
          <h3>3.8. Implements statements</h3>

          <p>
            An <dfn id="dfn-implements-statement">implements statement</dfn> is a definition
            (matching <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a>)
            used to declare that all objects implementing an interface <var>A</var>
            (identified by the first <a class="dfnref" href="#dfn-identifier">identifier</a>)
            <span class="rfc2119">MUST</span> additionally implement interface <var>B</var>
            (identified by the second identifier), including all other interfaces that
            <var>B</var> inherits from.
          </p>
          <pre class="syntax"><i>identifier-A</i> implements <i>identifier-B</i>;</pre>
          <p>
            Transitively, if objects implementing <var>B</var>
            are declared with an <a class="dfnref" href="#dfn-implements-statement">implements statement</a>
            to additionally implement interface <var>C</var>, then all objects implementing
            <var>A</var> do additionally implement interface <var>C</var>.
          </p>
          <p>
            The two <a class="dfnref" href="#dfn-identifier">identifiers</a> <span class="rfc2119">MUST</span>
            identify two different interfaces.
          </p>
          <p>
            The interface identified on the left-hand side of an implements statement
            <span class="rfc2119">MUST NOT</span> <a class="dfnref" href="#dfn-inherit">inherit</a>
            from the interface identifier on the right-hand side, and vice versa.  Both identified
            interfaces also <span class="rfc2119">MUST NOT</span> be
            <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
          </p>
          <p>
            If each <a class="dfnref" href="#dfn-implements-statement">implements statement</a> is
            considered to be an edge in a directed graph, from a node representing the interface
            on the left-hand side of the statement to a node representing the interface on the
            right-hand side, then this graph <span class="rfc2119">MUST NOT</span> have any cycles.
          </p>
          <p>
            Interfaces that a given object implements are partitioned into those that are considered
            <dfn id="dfn-supplemental-interface">supplemental interfaces</dfn> and those that are not.
            An interface <var>A</var> is considered to be a
            <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a> of an object
            <var>O</var> if:
          </p>
          <ul>
            <li><var>O</var> implements a different interface <var>B</var>, and the IDL states that
              <code>B implements A</code>; or</li>
            <li><var>O</var> implements a different <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>
              <var>C</var>, and <var>C</var> <a class="dfnref" href="#dfn-inherit">inherits</a> from <var>A</var>.</li>
          </ul>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              Specification authors are discouraged from writing <a class="dfnref" href="#dfn-implements-statement">implements statements</a>
              where the <a class="dfnref" href="#dfn-interface">interface</a> on the left-hand side
              is a <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>.
              For example, if author 1 writes:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Window { ... };
interface SomeFunctionality { ... };
Window implements SomeFunctionality;</code></pre></div></div>
            <p>
              and author 2 later writes:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Gizmo { ... };
interface MoreFunctionality { ... };
SomeFunctionality implements MoreFunctionality;
Gizmo implements SomeFunctionality;</code></pre></div></div>
            <p>
              then it might be the case that author 2 is unaware of exactly which
              interfaces already are used on the left-hand side of an
              <code>implements SomeFunctionality</code> statement, and so has
              required more objects implement <span class="idltype">MoreFunctionality</span>
              than he or she expected.
            </p>
            <p>
              Better in this case would be for author 2 to write:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Gizmo { ... };
interface MoreFunctionality { ... };
Gizmo implements SomeFunctionality;
Gizmo implements MoreFunctionality;</code></pre></div></div>
          </div>
          <p>
            The <dfn id="dfn-consequential-interfaces">consequential interfaces</dfn> of an interface
            <var>A</var> are:
          </p>
          <ul>
            <li>each interface <var>B</var> where the IDL states <code>A implements B</code>;</li>
            <li>each interface that a consequential interface of <var>A</var> inherits from; and</li>
            <li>each interface <var>D</var> where the IDL states that <code>C implements D</code>,
              where <var>C</var> is a consequential interface of <var>A</var>.</li>
          </ul>
          <p>
            For a given interface, there <span class="rfc2119">MUST NOT</span>
            be any member defined on any of its consequential interfaces
            whose identifier is the same as any other member defined on any
            of those consequential interfaces or on the original interface itself.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>For example, that precludes the following:</p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A { attribute long x; };
interface B { attribute long x; };
A implements B;  <span class="comment">// B::x would clash with A::x</span>

interface C { attribute long y; };
interface D { attribute long y; };
interface E : D { };
C implements E;  <span class="comment">// D::y would clash with C::y</span>

interface F { };
interface H { attribute long z; };
interface I { attribute long z; };
F implements H;
F implements I;  <span class="comment">// H::z and I::z would clash when mixed in to F</span></code></pre></div></div>
          </div>
          <p>
            No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this specification are applicable to
            <a class="dfnref" href="#dfn-implements-statement">implements statements</a>.
          </p>

          <table class="grammar"><tr id="proddef-ImplementsStatement"><td><span class="prod-number">[25]</span></td><td><a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "implements" <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr></table>

          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              defines two <a class="dfnref" href="#dfn-interface">interfaces</a>, stating
              that one interface is always implemented on objects implementing the other.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Entry {
  readonly attribute unsigned short entryType;
  <span class="comment">// ...</span>
};

interface Observable {
  void addEventListener(DOMString type,
                        EventListener listener,
                        boolean useCapture);
  <span class="comment">// ...</span>
};

Entry implements Observable;</code></pre></div></div>
            <p>
              An ECMAScript implementation would thus have an “addEventListener”
              property in the prototype chain of every <span class="idltype">Entry</span>:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var e = getEntry();          <span class="comment">// Obtain an instance of Entry.</span>
typeof e.addEventListener;  <span class="comment">// Evaluates to "function".</span></code></pre></div></div>
            <!--JAVA
            <p>
              Similarly, in Java, any <span class='javatype'>Node</span>
              object could be cast to <span class='javatype'>EventTarget</span>:
            </p>
            <x:codeblock language='java'>Node n = getNode();               <span class='comment'>// Obtain an instance of Node.</span>
EventTarget et = (EventTarget) n; <span class='comment'>// This should never throw ClassCastException.</span></x:codeblock>
            -->
            <p>
              Note that it is not the case that all <span class="idltype">Observable</span>
              objects implement <span class="idltype">Entry</span>.
            </p>
          </div>
        </div>

        <div id="idl-objects" class="section">
          <h3>3.9. Objects implementing interfaces</h3>

          <p>
            In a given implementation of a set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>,
            an object can be described as being a <dfn id="dfn-platform-object">platform object</dfn>, a
            <dfn id="dfn-user-object">user object</dfn>, or neither.  There are three kinds of
            object that are considered to be platform objects:
          </p>
          <ul>
            <li>objects that implement a non-<a class="dfnref" href="#dfn-callback-interface">callback</a> <a class="dfnref" href="#dfn-interface">interface</a>;</li>
            <li>objects representing IDL <a class="#dfn-exception">exceptions</a>;</li>
            <li>and objects representing IDL <a class="#idl-array">array</a> objects (<a class="dfnref" href="#dfn-platform-array-object">platform array objects</a>).</li>
          </ul>
          <p>
            In a browser, for example,
            the browser-implemented DOM objects (implementing interfaces such as <span class="idltype">Node</span> and
            <span class="idltype">Document</span>) that provide access to a web page’s contents
            to ECMAScript running in the page would be platform objects.  These objects might be host objects,
            implemented in a language like C++, or they might be native ECMAScript objects.  Regardless,
            an implementation of a given set of IDL fragments needs to be able to recognize all platform objects
            that are created by the implementation.  This might be done by having some internal state that records whether
            a given object is indeed a platform object for that implementation, or perhaps by observing
            that the object is implemented by a given internal C++ class.  How exactly platform objects
            are recognised by a given implementation of a set of IDL fragments is implementation specific.
          </p>
          <p>
            All other objects in the system would not be treated as platform objects.  For example, assume that
            a web page opened in a browser loads an ECMAScript library that implements DOM Core.  This library
            would be considered to be a different implementation from the browser provided implementation.
            The objects created by the ECMAScript library that implement the <span class="idltype">Node</span> interface
            will not be treated as platform objects that implement <span class="idltype">Node</span> by the browser implementation.
          </p>
          <p>
            User objects are those that authors would create, implementing
            <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> that the Web APIs use to be able to invoke author-defined
            operations or to send and receive values to the author’s program through
            manipulating the object’s attributes.  In a web page, an ECMAScript object
            that implements the <span class="idltype">EventListener</span> interface, which is
            used to register a callback that the DOM Events implementation invokes, would be considered
            to be a user object.
          </p>
          <p>
            Note that user objects can only implement <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>
            and platform objects can only implement non-callback interfaces.
          </p>
          <!--
          <p>
            When a non-platform object is passed to a platform object expecting an object of a
            particular interface, be it as an argument value in an operation invocation,
            by assignment to an attribute, or through a dictionary member, and that
            interface is not a callback interface, then
            the object will not be considered to be one that implements that interface.
            Language bindings define when this check is made and what happens
            in response in such a case (such as throwing an exception).
          </p>
          -->
        </div>

        <!--
        <div id='idl-valuetypes' class='section'>
          <h3>Valuetypes</h3>

          <p>
            Valuetypes in OMG IDL are used to define types similar to structs in C.
            That is, they define composite types that can have zero or more
            member variables that are passed by value.  OMG IDL valuetypes have the
            additional feature of allowing <span class='idlvalue'>null</span> to
            be passed in place of an object with those member variables.  An
            OMG IDL boxed valuetype is a special case, where the valuetype has
            a single member.
          </p>
          <p>
            The IDL defined in this specification supports only
            <dfn id='dfn-boxed-valuetype'>boxed valuetypes</dfn>, which are definitions
            that match the <a class='sym' href='#prod-Valuetype'>Valuetype</a> non-terminal.
            The <a class='dfnref' href='#dfn-identifier'>identifier</a> of the valuetype
            is given by the <a class='sym' href='#prod-identifier'>identifier</a> terminal,
            and the type being boxed is given by the
            <a class='sym' href='#prod-BoxedType'>BoxedType</a> non-terminal.  If the
            <a class='sym' href='#prod-BoxedType'>BoxedType</a> is a
            <a class='sym' href='#prod-ScopedName'>ScopedName</a>, then it
            <span class='rfc2119'>MUST</span> refer to a type that does not allow
            <span class='idlvalue'>null</span> as a value (i.e.,
            <a class='idltype' href='#idl-boolean'>boolean</a>,
            <a class='idltype' href='#idl-octet'>octet</a>,
            <a class='idltype' href='#idl-short'>short</a>,
            <a class='idltype' href='#idl-unsigned-short'>unsigned short</a>,
            <a class='idltype' href='#idl-unsigned-long'>unsigned long</a>,
            <a class='idltype' href='#idl-long-long'>long long</a>,
            <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a>,
            <a class='idltype' href='#idl-float'>float</a>,
            <a class='idltype' href='#idl-double'>double</a> or
            <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>.
          </p>
          <p>
            Boxed valuetypes are essentially used just for allowing a <span class='idlvalue'>null</span>
            value to be used where normally a non-null value could only be used.
          </p>

          <div class='example'>
            <p>
              The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
              demonstrates the use of <a class='dfnref' href='#dfn-boxed-valuetype'>boxed valuetypes</a>:
            </p>
            <x:codeblock language='idl'>valuetype OptionalFloat float;

interface Person {

  <span class='comment'>// This attribute can be a float or null.  In this case, null might be used</span>
  <span class='comment'>// to represent the case where the height of the person is unknown.</span>
  readonly attribute OptionalFloat height;
};</x:codeblock>
          </div>

          <?productions grammar Valuetype ValuetypeRest?>
        </div>
        -->

        <div id="idl-types" class="section">
          <h3>3.10. Types</h3>

          <p>
            This section lists the types supported by Web IDL, the set of values
            corresponding to each type, and how <a class="dfnref" href="#dfn-constant">constants</a>
            of that type are represented.
          </p>
          <p>
            The following types are known as <dfn id="dfn-integer-type">integer types</dfn>:
            <a class="idltype" href="#idl-byte">byte</a>,
            <a class="idltype" href="#idl-octet">octet</a>,
            <a class="idltype" href="#idl-short">short</a>,
            <a class="idltype" href="#idl-unsigned-short">unsigned short</a>,
            <a class="idltype" href="#idl-long">long</a>,
            <a class="idltype" href="#idl-unsigned-long">unsigned long</a>,
            <a class="idltype" href="#idl-long-long">long long</a> and
            <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>.
          </p>
          <p>
            The following types are known as <dfn id="dfn-primitive-type">primitive types</dfn>:
            <a class="idltype" href="#idl-boolean">boolean</a>,
            the <a class="dfnref" href="#dfn-integer-type">integer types</a>,
            <a class="idltype" href="#idl-float">float</a>,
            <a class="idltype" href="#idl-unrestricted-float">unresticted float</a>,
            <a class="idltype" href="#idl-double">double</a> and
            <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>.
          </p>
          <p>
            The <a class="idltype" href="#idl-object">object</a> type and
            all <a class="dfnref" href="#idl-interface">interface types</a>
            are known as <dfn id="dfn-object-type">object types</dfn>.
          </p>
          <p>
            Every type has a <dfn id="dfn-type-name">type name</dfn>, which
            is a string, not necessarily unique, that identifies the type.
            Each sub-section below defines what the type name is for each
            type.
          </p>
          <p id="type-conversion-exceptions">
            When conversions are made from language binding specific types to
            IDL types in order to invoke an <a class="dfnref" href="#dfn-operation">operation</a>
            or assign a value to an <a class="dfnref" href="#dfn-attribute">attribute</a>,
            all conversions necessary will be performed before the
            specified functionality of the operation or attribute assignment
            is carried out.  If the conversion cannot
            be performed, then the operation will not run or
            the attribute will not be updated.  In some language bindings,
            type conversions could result in an exception being thrown.
            In such cases, these exceptions will be propagated to the
            code that made the attempt to invoke the operation or
            assign to the attribute.
          </p>

          <table class="grammar"><tr id="proddef-Type"><td><span class="prod-number">[69]</span></td><td><a class="sym" href="#prod-Type">Type</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-SingleType">SingleType</a> <br /> |
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr id="proddef-SingleType"><td><span class="prod-number">[70]</span></td><td><a class="sym" href="#prod-SingleType">SingleType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br /> |
             "any" <a class="sym" href="#prod-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a></span></td></tr><tr id="proddef-UnionType"><td><span class="prod-number">[71]</span></td><td><a class="sym" href="#prod-UnionType">UnionType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td></tr><tr id="proddef-UnionMemberType"><td><span class="prod-number">[72]</span></td><td><a class="sym" href="#prod-UnionMemberType">UnionMemberType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br /> |
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "any" "[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr id="proddef-UnionMemberTypes"><td><span class="prod-number">[73]</span></td><td><a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br /> |
             ε</span></td></tr><tr id="proddef-NonAnyType"><td><span class="prod-number">[74]</span></td><td><a class="sym" href="#prod-NonAnyType">NonAnyType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "ByteString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "DOMString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br /> |
             "object" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "Date" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr><td><span class="prod-number">[75]</span></td><td><a class="sym" href="#prod-ConstType">ConstType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td></tr><tr id="proddef-PrimitiveType"><td><span class="prod-number">[76]</span></td><td><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a> <br /> |
             <a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a> <br /> |
             "boolean" <br /> |
             "byte" <br /> |
             "octet"</span></td></tr><tr id="proddef-UnrestrictedFloatType"><td><span class="prod-number">[77]</span></td><td><a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"unrestricted" <a class="sym" href="#prod-FloatType">FloatType</a> <br /> |
             <a class="sym" href="#prod-FloatType">FloatType</a></span></td></tr><tr id="proddef-FloatType"><td><span class="prod-number">[78]</span></td><td><a class="sym" href="#prod-FloatType">FloatType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"float" <br /> |
             "double"</span></td></tr><tr id="proddef-UnsignedIntegerType"><td><span class="prod-number">[79]</span></td><td><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"unsigned" <a class="sym" href="#prod-IntegerType">IntegerType</a> <br /> |
             <a class="sym" href="#prod-IntegerType">IntegerType</a></span></td></tr><tr id="proddef-IntegerType"><td><span class="prod-number">[80]</span></td><td><a class="sym" href="#prod-IntegerType">IntegerType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"short" <br /> |
             "long" <a class="sym" href="#prod-OptionalLong">OptionalLong</a></span></td></tr><tr id="proddef-OptionalLong"><td><span class="prod-number">[81]</span></td><td><a class="sym" href="#prod-OptionalLong">OptionalLong</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"long" <br /> |
             ε</span></td></tr><tr id="proddef-TypeSuffix"><td><span class="prod-number">[82]</span></td><td><a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "?" <a class="sym" href="#prod-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a> <br /> |
             ε</span></td></tr><tr id="proddef-TypeSuffixStartingWithArray"><td><span class="prod-number">[83]</span></td><td><a class="sym" href="#prod-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             ε</span></td></tr><tr id="proddef-Null"><td><span class="prod-number">[84]</span></td><td><a class="sym" href="#prod-Null">Null</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"?" <br /> |
             ε</span></td></tr></table>

          <div id="idl-any" class="section">
            <h4>3.10.1. any</h4>

            <p>
              The <a class="idltype" href="#idl-any">any</a> type is the union of all other possible
              non-<a href="#idl-union">union</a> types.
              Its <a class="dfnref" href="#dfn-type-name">type name</a> is “Any”.
            </p>
            <p>
              The <a class="idltype" href="#idl-any">any</a> type is like
              a discriminated union type, in that each of its values has a
              specific non-<a class="idltype" href="#idl-any">any</a> type
              associated with it.  For example, one value of the
              <a class="idltype" href="#idl-any">any</a> type is the
              <a class="idltype" href="#idl-unsigned-long">unsigned long</a>
              150, while another is the <a class="idltype" href="#idl-long">long</a> 150.
              These are distinct values.
            </p>
            <p>
              The particular type of an <a class="idltype" href="#idl-any">any</a>
              value is known as its <dfn id="dfn-specific-type">specific type</dfn>.
              (Values of <a href="#idl-union">union types</a> also have
              <a class="dfnref" href="#dfn-specific-type">specific types</a>.)
            </p>
          </div>

          <div id="idl-boolean" class="section">
            <h4>3.10.2. boolean</h4>

            <p>
              The <a class="idltype" href="#idl-boolean">boolean</a> type has two values:
              <span class="idlvalue">true</span> and <span class="idlvalue">false</span>.
            </p>
            <p>
              <a class="idltype" href="#idl-boolean">boolean</a> constant values in IDL are
              represented with the <code>true</code> and
              <code>false</code> tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-boolean">boolean</a> type is “Boolean”.
            </p>
          </div>

          <div id="idl-byte" class="section">
            <h4>3.10.3. byte</h4>

            <p>
              The <a class="idltype" href="#idl-byte">byte</a> type is a signed integer
              type that has values in the range [−128, 127].
            </p>
            <p>
              <a class="idltype" href="#idl-byte">byte</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-byte">byte</a> type is “Byte”.
            </p>
          </div>

          <div id="idl-octet" class="section">
            <h4>3.10.4. octet</h4>

            <p>
              The <a class="idltype" href="#idl-octet">octet</a> type is an unsigned integer
              type that has values in the range [0, 255].
            </p>
            <p>
              <a class="idltype" href="#idl-octet">octet</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-octet">octet</a> type is “Octet”.
            </p>
          </div>

          <div id="idl-short" class="section">
            <h4>3.10.5. short</h4>

            <p>
              The <a class="idltype" href="#idl-short">short</a> type is a signed integer
              type that has values in the range [−32768, 32767].
            </p>
            <p>
              <a class="idltype" href="#idl-short">short</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-short">short</a> type is “Short”.
            </p>
          </div>

          <div id="idl-unsigned-short" class="section">
            <h4>3.10.6. unsigned short</h4>

            <p>
              The <a class="idltype" href="#idl-unsigned-short">unsigned short</a> type is an unsigned integer
              type that has values in the range [0, 65535].
            </p>
            <p>
              <a class="idltype" href="#idl-unsigned-short">unsigned short</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-unsigned-short">unsigned short</a> type is “UnsignedShort”.
            </p>
          </div>

          <div id="idl-long" class="section">
            <h4>3.10.7. long</h4>

            <p>
              The <a class="idltype" href="#idl-long">long</a> type is a signed integer
              type that has values in the range [−2147483648, 2147483647].
            </p>
            <p>
              <a class="idltype" href="#idl-long">long</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-long">long</a> type is “Long”.
            </p>
          </div>

          <div id="idl-unsigned-long" class="section">
            <h4>3.10.8. unsigned long</h4>

            <p>
              The <a class="idltype" href="#idl-unsigned-long">unsigned long</a> type is an unsigned integer
              type that has values in the range [0, 4294967295].
            </p>
            <p>
              <a class="idltype" href="#idl-unsigned-long">unsigned long</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-unsigned-long">unsigned long</a> type is “UnsignedLong”.
            </p>
          </div>

          <div id="idl-long-long" class="section">
            <h4>3.10.9. long long</h4>

            <p>
              The <a class="idltype" href="#idl-long-long">long long</a> type is a signed integer
              type that has values in the range [−9223372036854775808, 9223372036854775807].
            </p>
            <p>
              <a class="idltype" href="#idl-long-long">long long</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-long-long">long long</a> type is “LongLong”.
            </p>
          </div>

          <div id="idl-unsigned-long-long" class="section">
            <h4>3.10.10. unsigned long long</h4>

            <p>
              The <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> type is an unsigned integer
              type that has values in the range [0, 18446744073709551615].
            </p>
            <p>
              <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> constant values in IDL are
              represented with <a class="sym" href="#prod-integer">integer</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> type is “UnsignedLongLong”.
            </p>
          </div>

          <div id="idl-float" class="section">
            <h4>3.10.11. float</h4>

            <p>
              The <a class="idltype" href="#idl-float">float</a> type is a floating point numeric
              type that corresponds to the set of finite single-precision 32 bit
              IEEE 754 floating point numbers.  <a href="#ref-IEEE-754">[IEEE-754]</a>
            </p>
            <p>
              <a class="idltype" href="#idl-float">float</a> constant values in IDL are
              represented with <a class="sym" href="#prod-float">float</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-float">float</a> type is “Float”.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Unless there are specific reasons to use a 32 bit floating point type,
                specifications <span class="rfc2119">SHOULD</span> use
                <a class="idltype" href="#idl-double">double</a> rather than <a class="idltype" href="#idl-float">float</a>,
                since the set of values that a <a class="idltype" href="#idl-double">double</a> can
                represent more closely matches an ECMAScript <span class="estype">Number</span>.
              </p>
            </div>
          </div>

          <div id="idl-unrestricted-float" class="section">
            <h4>3.10.12. unrestricted float</h4>

            <p>
              The <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> type is a floating point numeric
              type that corresponds to the set of all possible single-precision 32 bit
              IEEE 754 floating point numbers, finite and non-finite.  <a href="#ref-IEEE-754">[IEEE-754]</a>
            </p>
            <p>
              <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> constant values in IDL are
              represented with <a class="sym" href="#prod-float">float</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> type is “UnrestrictedFloat”.
            </p>
          </div>

          <div id="idl-double" class="section">
            <h4>3.10.13. double</h4>

            <p>
              The <a class="idltype" href="#idl-double">double</a> type is a floating point numeric
              type that corresponds to the set of finite double-precision 64 bit
              IEEE 754 floating point numbers.  <a href="#ref-IEEE-754">[IEEE-754]</a>
            </p>
            <p>
              <a class="idltype" href="#idl-double">double</a> constant values in IDL are
              represented with <a class="sym" href="#prod-float">float</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-double">double</a> type is “Double”.
            </p>
          </div>

          <div id="idl-unrestricted-double" class="section">
            <h4>3.10.14. unrestricted double</h4>

            <p>
              The <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> type is a floating point numeric
              type that corresponds to the set of all possible double-precision 32 bit
              IEEE 754 floating point numbers, finite and non-finite.  <a href="#ref-IEEE-754">[IEEE-754]</a>
            </p>
            <p>
              <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> constant values in IDL are
              represented with <a class="sym" href="#prod-float">float</a>
              tokens.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> type is “UnrestrictedDouble”.
            </p>
          </div>

          <div id="idl-DOMString" class="section">
            <h4>3.10.15. DOMString</h4>

            <p>
              The <a class="idltype" href="#idl-DOMString">DOMString</a> type
              corresponds to the set of all possible sequences of <a class="dfnref" href="#dfn-code-unit">code units</a>.
              Such sequences are commonly interpreted as UTF-16 encoded strings <a href="#ref-RFC2781">[RFC2781]</a>
              although this is not required.
              While <a class="idltype" href="#idl-DOMString">DOMString</a> is defined to be an OMG IDL boxed
              <a class="idltype" href="#idl-sequence">sequence&lt;unsigned short&gt;</a>
              valuetype in <cite><a href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/core.html#ID-C74D1578">DOM Level 3 Core</a></cite>
              (<a href="#ref-DOM3CORE">[DOM3CORE]</a>, section 1.2.1),
              this document defines <a class="idltype" href="#idl-DOMString">DOMString</a> to be an intrinsic type so as to avoid
              special casing that sequence type in various situations where a
              string is required.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                Note also that <span class="idlvalue">null</span>
                is not a value of type <a class="idltype" href="#idl-DOMString">DOMString</a>.
                To allow <span class="idlvalue">null</span>, a
                <a href="#idl-nullable-type">nullable</a> <a class="idltype" href="#idl-DOMString">DOMString</a>,
                written as <code>DOMString?</code> in IDL, needs to be used.
              </p>
            </div>
            <p>
              Nothing in this specification requires a <a class="idltype" href="#idl-DOMString">DOMString</a>
              value to be a valid UTF-16 string.  For example, a <a class="idltype" href="#idl-DOMString">DOMString</a>
              value might include unmatched surrogate pair characters.  However, authors
              of specifications using Web IDL might want to obtain a sequence of
              Unicode characters given a particular sequence of <a class="dfnref" href="#dfn-code-unit">code units</a>.
              The following algorithm defines a way to
              <dfn id="dfn-obtain-unicode">convert a DOMString to a sequence of Unicode characters</dfn>:
            </p>
            <ol class="algorithm">
              <li>Let <var>S</var> be the <a class="idltype" href="#idl-DOMString">DOMString</a> value.</li>
              <li>Let <var>n</var> be the length of <var>S</var>.</li>
              <li>Initialize <var>i</var> to 0.</li>
              <li>Initialize <var>U</var> to be an empty sequence of Unicode characters.</li>
              <li>While <var>i</var> &lt; <var>n</var>:
                <ol>
                  <li>Let <var>c</var> be the <a class="dfnref" href="#dfn-code-unit">code unit</a> in <var>S</var> at index <var>i</var>.</li>
                  <li>Depending on the value of <var>c</var>:
                    <dl class="switch">
                      <dt><var>c</var> &lt; 0xD800 or <var>c</var> &gt; 0xDFFF</dt>
                      <dd>Append to <var>U</var> the Unicode character with code point <var>c</var>. </dd>

                      <dt>0xDC00 ≤ <var>c</var> ≤ 0xDFFF</dt>
                      <dd>Append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</dd>

                      <dt>0xD800 ≤ <var>c</var> ≤ 0xDBFF</dt>
                      <dd>
                        <ol class="only">
                          <li>If <var>i</var> = <var>n</var>−1, then append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</li>
                          <li>Otherwise, <var>i</var> &lt; <var>n</var>−1:
                            <ol>
                              <li>Let <var>d</var> be the code unit in <var>S</var> at index
                                <var>i</var>+1.</li>
                              <li>If 0xDC00 ≤ <var>d</var> ≤ 0xDFFF, then:
                                <ol>
                                  <li>Let <var>a</var> be <var>c</var> &amp; 0x3FF.</li>
                                  <li>Let <var>b</var> be <var>d</var> &amp; 0x3FF.</li>
                                  <li>Append to <var>U</var> the Unicode character with
                                    code point 2<sup>16</sup>+2<sup>10</sup><var>a</var>+<var>b</var>.</li>
                                  <li>Set <var>i</var> to <var>i</var>+1.</li>
                                </ol>
                              </li>
                              <li>Otherwise, <var>d</var> &lt; 0xDC00 or <var>d</var> &gt; 0xDFFF.
                                Append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</li>
                            </ol>
                          </li>
                        </ol>
                      </dd>
                    </dl>
                  </li>
                  <li>Set <var>i</var> to <var>i</var>+1.</li>
                </ol>
              </li>
              <li>Return <var>U</var>.</li>
            </ol>
            <p>
              There is no way to represent a constant <a class="idltype" href="#idl-DOMString">DOMString</a>
              value in IDL, although <a class="idltype" href="#idl-DOMString">DOMString</a> <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
              and <a class="dfnref" href="#dfn-optional-argument">operation optional argument</a> default values
              an be specified using a <a class="sym" href="#prod-string">string</a> literal.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-DOMString">DOMString</a> type is “String”.
            </p>
          </div>

          <div id="idl-ByteString" class="section">
            <h4>3.10.16. ByteString</h4>

            <p>
              The <a class="idltype" href="#idl-ByteString">ByteString</a> type
              corresponds to the set of all possible sequences of bytes.
              Such sequences might be interpreted as UTF-8 encoded strings <a href="#ref-RFC3629">[RFC3629]</a>
              or strings in some other 8-bit-per-code-unit encoding, although this is not required.
            </p>
            <p>
              There is no way to represent a constant <a class="idltype" href="#idl-ByteString">ByteString</a>
              value in IDL.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-ByteString">ByteString</a> type is “ByteString”.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Specifications <span class="rfc2119">SHOULD</span> only use
                <a class="idltype" href="#idl-ByteString">ByteString</a> for interfacing with protocols
                that use bytes and strings interchangably, such as HTTP.  In general,
                strings <span class="rfc2119">SHOULD</span> be represented with
                <a class="idltype" href="#idl-DOMString">DOMString</a> values, even if it is expected
                that values of the string will always be in ASCII or some
                8 bit character encoding.  <a href="#idl-sequences">Sequences</a>,
                <a href="#idl-arrays">arrays</a> or <a href="http://www.khronos.org/registry/typedarray/specs/latest/">Typed Arrays</a>
                with <a class="idltype" href="#idl-octet">octet</a> or <a class="idltype" href="#idl-byte">byte</a>
                elements <span class="rfc2119">SHOULD</span> be used for holding
                8 bit data rather than <a class="idltype" href="#idl-ByteString">ByteString</a>.
                <a href="#ref-TYPEDARRAYS">[TYPEDARRAYS]</a>
              </p>
            </div>
          </div>

          <div id="idl-object" class="section">
            <h4>3.10.17. object</h4>

            <p>
              The <a class="idltype" href="#idl-object">object</a> type corresponds to the set of
              all possible non-null object references.
            </p>
            <p>
              There is no way to represent a constant <a class="idltype" href="#idl-object">object</a>
              value in IDL.
            </p>
            <p>
              To denote a type that includes all possible object references plus the
              <span class="idlvalue">null</span> value, use the <a href="#dfn-nullable-type">nullable type</a>
              <span class="idltype">object?</span>.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-object">object</a> type is “Object”.
            </p>
          </div>

          <div id="idl-interface" class="section">
            <h4>3.10.18. Interface types</h4>

            <p>
              An <a class="dfnref" href="#dfn-identifier">identifier</a> that
              identifies an <a class="dfnref" href="#dfn-interface">interface</a> is used to refer to
              a type that corresponds to the set of all possible non-null references to objects that
              implement that interface.
            </p>
            <p>
              There is no way to represent a constant object reference value for
              a particular interface type in IDL.
            </p>
            <p>
              To denote a type that includes all possible references to objects implementing
              the given interface plus the <span class="idlvalue">null</span> value,
              use a <a href="#dfn-nullable-type">nullable type</a>.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of an interface type
              is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the interface.
            </p>
          </div>

          <div id="idl-dictionary" class="section">
            <h4>3.10.19. Dictionary types</h4>

            <p>
              An <a class="dfnref" href="#dfn-identifier">identifier</a> that
              identifies a <a class="dfnref" href="#dfn-dictionary">dictionary</a> is used to refer to
              a type that corresponds to the set of all dictionaries that adhere to
              the dictionary definition.
            </p>
            <p>
              There is no way to represent a constant dictionary value in IDL.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of a dictionary type
              is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the dictionary.
            </p>
          </div>

          <div id="idl-enumeration" class="section">
            <h4>3.10.20. Enumeration types</h4>

            <p>
              An <a class="dfnref" href="#dfn-identifier">identifier</a> that
              identifies an <a class="dfnref" href="#dfn-enumeration">enumeration</a> is used to
              refer to a type whose values are the set of strings (sequences of
              <a class="dfnref" href="#dfn-code-unit">code units</a>, as with
              <a class="idltype" href="#idl-DOMString">DOMString</a>) that are the
              <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
            </p>
            <p>
              Like <a class="idltype">DOMString</a>, there is no way to represent a constant <a class="dfnref" href="#dfn-enumeration">enumeration</a>
              value in IDL, although enumeration-typed <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
              <a class="dfnref" href="#dfn-dictionary-member-default-value">default values</a> can be specified using a
              <a class="sym" href="#prod-string">string</a> literal.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of an enumeration type
              is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the enumeration.
            </p>
          </div>

          <div id="idl-callback-function" class="section">
            <h4>3.10.21. Callback function types</h4>

            <p>
              An <a class="dfnref" href="#dfn-identifier">identifier</a> that identifies
              a <a class="dfnref" href="#dfn-callback-function">callback function</a> is used to refer to
              a type whose values are references to objects that are functions with the given signature.
            </p>
            <p>
              There is no way to represent a constant <a class="dfnref" href="#dfn-callback-function">callback function</a>
              value in IDL.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of a callback function type
              is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the callback function.
            </p>
          </div>

          <div id="idl-nullable-type" class="section">
            <h4>3.10.22. Nullable types — <var>T</var>?</h4>

            <p>
              A <dfn id="dfn-nullable-type">nullable type</dfn> is an IDL type constructed
              from an existing type (called the <dfn id="dfn-inner-type">inner type</dfn>),
              which just allows the additional value <span class="idlvalue">null</span>
              to be a member of its set of values.  <a class="dfnref" href="#dfn-nullable-type">Nullable types</a>
              are represented in IDL by placing a <span class="char">U+003F QUESTION MARK ("?")</span>
              character after an existing type.  The inner type <span class="rfc2119">MUST NOT</span>
              be <a class="idltype" href="#idl-any">any</a>, a <a href="#idl-dictionary">dictionary type</a>,
              another nullable type, or a <a class="dfnref" href="#dfn-union-type">union type</a>
              that itself has <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a>
              or has a dictionary type as one of its
              <a class="dfnref" href="#dfn-flattened-member-type">flattened member types</a>.
            </p>
            <p>
              Nullable type constant values in IDL are represented in the same way that
              constant values of their <a class="dfnref" href="#dfn-inner-type">inner type</a>
              would be represented, or with the <code>null</code> token.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of a nullable type
              is the concatenation of the type name of the inner type <var>T</var> and
              the string “OrNull”.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                For example, a type that allows the values <span class="idlvalue">true</span>,
                <span class="idlvalue">false</span> and <span class="idlvalue">null</span>
                is written as <span class="idltype">boolean?</span>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface MyConstants {
  const boolean? ARE_WE_THERE_YET = false;
};</code></pre></div></div>
              <p>
                The following <a class="dfnref" href="#dfn-interface">interface</a> has two
                <a class="dfnref" href="#dfn-attribute">attributes</a>: one whose value can
                be a <a class="idltype" href="#idl-DOMString">DOMString</a> or the <span class="idlvalue">null</span>
                value, and another whose value can be a reference to a <span class="idltype">Node</span>
                object or the <span class="idlvalue">null</span> value:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Node {
  readonly attribute DOMString? namespaceURI;
  readonly attribute Node? parentNode;
  <span class="comment">// ...</span>
};</code></pre></div></div>
            </div>
          </div>

          <div id="idl-sequence" class="section">
            <h4>3.10.23. Sequences — sequence&lt;<var>T</var>&gt;</h4>

            <p>
              The <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a>
              type is a parameterized type whose values are (possibly zero-length) sequences of
              values of type <var>T</var>.
            </p>
            <p>
              Sequences are always passed by value.  In
              language bindings where a sequence is represented by an object of
              some kind, passing a sequence to a <a class="dfnref" href="#dfn-platform-object">platform object</a>
              will not result in a reference to the sequence being kept by that object.
              Similarly, any sequence returned from a platform object
              will be a copy and modifications made to it will not be visible to the platform object.
            </p>
            <p>
              There is no way to represent a constant sequence value in IDL.
            </p>
            <p>
              Sequences <span class="rfc2119">MUST NOT</span> be used as the
              type of an <a class="dfnref" href="#dfn-attribute">attribute</a>,
              <a class="dfnref" href="#dfn-constant">constant</a>
              or <a class="dfnref" href="#dfn-exception-field">exception field</a>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                This restriction exists so that it is clear to specification writers
                and API users that <a href="#idl-sequence">sequences</a>
                are copied rather than having references
                to them passed around.  Instead of a writable <a class="dfnref" href="#dfn-attribute">attribute</a> of a sequence
                type, it is suggested that a pair of <a class="dfnref" href="#dfn-operation">operations</a> to get and set the
                sequence is used.  Another option is to use an <a href="#idl-array">array type</a>,
                which can be used as the type of an attribute.
              </p>
            </div>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of a sequence type
              is the concatenation of the type name for <var>T</var> and
              the string “Sequence”.
            </p>
          </div>

          <div id="idl-array" class="section">
            <h4>3.10.24. Arrays — <var>T</var>[]</h4>

            <p>
              The <a class="idltype" href="#idl-array"><var>T</var>[]</a> type
              is a parameterized type.  The values of this type are non-null references to arrays
              of values of type <var>T</var>.
              Unlike <a class="dfnref" href="#idl-sequence">sequences</a>,
              arrays are passed by reference.  Passing an array to a <a class="dfnref" href="#dfn-platform-object">platform object</a>
              could result in that array being modified by the object.
              An array returned from a platform object might also be modified by the object,
              and any modifications to the array performed by user code might be acted upon by the
              platform object.
            </p>
            <p>
              The element type of an array <span class="rfc2119">MUST NOT</span> be
              a <a href="#idl-sequence">sequence</a> or <a href="#idl-dictionary">dictionary</a> type.
            </p>
            <p>
              Arrays can either be <dfn id="dfn-fixed-length">fixed length</dfn> or
              <dfn id="dfn-variable-length">variable length</dfn>.  Fixed length
              arrays cannot have their length changed by user code after they have been
              created, while variable length arrays can.  Unless otherwise
              specified, arrays are fixed length.
            </p>
            <p>
              Arrays can also be designated as being <dfn id="dfn-read-only-array">read only</dfn>.
              User code cannot modify the values of read only array elements.
              If an array is read only, then it is also implicitly <a class="dfnref" href="#dfn-fixed-length">fixed length</a>.
            </p>
            <p>
              There is no way to represent a constant array value in IDL.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of an array type
              is the concatenation of the type name for <var>T</var> and
              the string “Array”.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>See <a href="#es-array">section 4.2.25</a> for an example using array types.</p>
            </div>
          </div>

          <div id="idl-union" class="section">
            <h4>3.10.25. Union types</h4>

            <p>
              A <dfn id="dfn-union-type">union type</dfn> is a type whose set of values
              is the union of those in two or more other types.  Union types (matching
              <a class="sym" href="#prod-UnionType">UnionType</a>)
              are written as a series of types separated by the <code>or</code> keyword
              with a set of surrounding parentheses.
              The types which comprise the union type are known as the
              union’s <dfn id="dfn-union-member-type">member types</dfn>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                For example, you might write <code>(Node or DOMString)</code>
                or <code>(float or float[])</code>.  When applying a
                a <code>[]</code> or <code>?</code> suffix to a
                <a class="dfnref" href="#dfn-union-type">union type</a>
                as a whole, it is placed after the closing parenthesis,
                as in <code>(Node or DOMString)?</code>.
              </p>
              <p>
                Note that the <a class="dfnref" href="#dfn-union-member-type">member types</a>
                of a union type do not descend into nested union types.  So for
                <code>(float or (Date or Event) or (Node or DOMString)?)</code> the member types
                are <code>float</code>, <code>(Date or Event)</code> and
                <code>(Node or DOMString)?</code>.
              </p>
            </div>
            <p>
              Like the <a class="idltype" href="#idl-any">any</a> type, values of
              union types have a <a class="dfnref" href="#dfn-specific-type">specific type</a>,
              which is the particular <a class="dfnref" href="#dfn-union-member-type">member type</a>
              that matches the value.
            </p>
            <p>
              The <dfn id="dfn-flattened-union-member-types">flattened member types</dfn>
              of a <a class="dfnref" href="#dfn-union-type">union type</a> is a set of types
              determined as follows:
            </p>
            <ol>
              <li>Let <var>T</var> be the <a class="dfnref" href="#dfn-union-type">union type</a>.</li>
              <li>Initialize <var>S</var> to ∅.</li>
              <li>For each <a class="dfnref" href="#dfn-union-member-type">member type</a> <var>U</var> of <var>T</var>:
                <ol>
                  <li>If <var>U</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, then
                    set <var>U</var> to be the <a class="dfnref" href="#dfn-inner-type">inner type</a> of <var>U</var>.</li>
                  <li>If <var>U</var> is a <a class="dfnref" href="#dfn-union-type">union type</a>, then
                    add to <var>S</var> the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>
                    of <var>U</var>.</li>
                  <li>Otherwise, <var>U</var> is not a <a class="dfnref" href="#dfn-union-type">union type</a>.
                    Add <var>U</var> to <var>S</var>.</li>
                </ol>
              </li>
              <li>Return <var>S</var>.</li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                For example, the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>
                of the <a class="dfnref" href="#dfn-union-type">union type</a>
                <code>(Node or (Date or Event) or (XMLHttpRequest or DOMString)? or (float[] or NodeList)[])</code>
                are the six types <code>Node</code>, <code>Date</code>, <code>Event</code>,
                <code>XMLHttpRequest</code>, <code>DOMString</code> and
                <code>(float[] or NodeList)[]</code>.
              </p>
            </div>
            <p>
              The <dfn id="dfn-number-of-nullable-member-types">number of nullable member types</dfn>
              of a <a class="dfnref" href="#dfn-union-type">union type</a> is an integer
              determined as follows:
            </p>
            <ol>
              <li>Let <var>T</var> be the <a class="dfnref" href="#dfn-union-type">union type</a>.</li>
              <li>Initialize <var>n</var> to 0.</li>
              <li>For each <a class="dfnref" href="#dfn-union-member-type">member type</a> <var>U</var> of <var>T</var>:
                <ol>
                  <li>If <var>U</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, then:
                    <ol>
                      <li>Set <var>n</var> to <var>n</var> + 1.</li>
                      <li>Set <var>U</var> to be the <a class="dfnref" href="#dfn-inner-type">inner type</a> of <var>U</var>.</li>
                    </ol>
                  </li>
                  <li>If <var>U</var> is a <a class="dfnref" href="#dfn-union-type">union type</a>, then:
                    <ol>
                      <li>Let <var>m</var> be the <a class="dfnref" href="#dfn-number-of-nullable-member-types">number
                          of nullable member types</a> of <var>U</var>.</li>
                      <li>Set <var>n</var> to <var>n</var> + <var>m</var>.</li>
                    </ol></li>
                </ol>
              </li>
              <li>Return <var>n</var>.</li>
            </ol>
            <p>
              The <a class="idltype" href="#idl-any">any</a> type <span class="rfc2119">MUST NOT</span>
              be used as a <a class="dfnref" href="#dfn-union-member-type">union member type</a>.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-number-of-nullable-member-types">number of nullable member types</a>
              of a <a class="dfnref" href="#dfn-union-type">union type</a> <span class="rfc2119">MUST</span>
              be 0 or 1.
            </p>
            <p>
              A type <dfn id="dfn-includes-a-nullable-type">includes a nullable type</dfn> if:
            </p>
            <ul>
              <li>the type is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, or</li>
              <li>the type is a <a class="dfnref" href="#dfn-union-type">union type</a> and its
                <a class="dfnref" href="#dfn-number-of-nullable-member-types">number of nullable member types</a> is 1.</li>
            </ul>
            <p>
              Each pair of <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>
              in a <a class="dfnref" href="#dfn-union-type">union type</a>, <var>T</var> and <var>U</var>,
              <span class="rfc2119">MUST</span> be <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>.
            </p>
            <p>
              <a class="dfnref" href="#dfn-union-type">Union type</a> constant values
              in IDL are represented in the same way that constant values of their
              <a class="dfnref" href="#dfn-union-member-type">member types</a> would be
              represented.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of a union
              type is formed by taking the type names of each member type, in order,
              and joining them with the string “Or”.
            </p>
            <table class="grammar"><tr><td><span class="prod-number">[71]</span></td><td><a class="sym" href="#prod-UnionType">UnionType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td></tr><tr><td><span class="prod-number">[72]</span></td><td><a class="sym" href="#prod-UnionMemberType">UnionMemberType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br /> |
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "any" "[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr><td><span class="prod-number">[73]</span></td><td><a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br /> |
             ε</span></td></tr><tr><td><span class="prod-number">[74]</span></td><td><a class="sym" href="#prod-NonAnyType">NonAnyType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "ByteString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "DOMString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br /> |
             "object" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "Date" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr></table>
          </div>

          <div id="idl-Date" class="section">
            <h4>3.10.26. Date</h4>

            <p>
              The <a class="idltype" href="#idl-Date">Date</a> type is a type that
              represents an instant in time with millisecond accuracy.  The instants
              in time that this type can represent are the same that can be represented
              with <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.9.1.1">ECMAScript <span class="estype">Date</span> objects</a>
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.9.1.1) – namely, every millisecond in the 200,000,000 days centered
              around midnight of 1 January, 1970 UTC, except for any millisecond that is part
              of an inserted leap second, because they cannot be represented by this type.
            </p>
            <p>
              An additional value that this type can represent is one that indicates
              an indeterminate or undefined time, which we write as
              <span class="idlvalue">undefined</span>.
            </p>
            <p>
              There is no way to represent a constant <a class="idltype" href="#idl-Date">Date</a>
              value in IDL.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a class="idltype" href="#idl-Date">Date</a> type is “Date”.
            </p>
          </div>
        </div>

        <div id="idl-extended-attributes" class="section">
          <h3>3.11. Extended attributes</h3>

          <p>
            An <dfn id="dfn-extended-attribute">extended attribute</dfn> is an annotation
            that can appear on
            <!--a class='dfnref' href='#dfn-definition'-->definitions<!--/a-->,
            <a class="dfnref" href="#dfn-interface-member">interface members</a>,
            <a class="dfnref" href="#dfn-exception-member">exception members</a>,
            <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>,
            and <a class="dfnref" href="#dfn-operation">operation</a> arguments, and
            is used to control how language bindings will handle those constructs.
            Extended attributes are specified with an
            <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>,
            which is a square bracket enclosed, comma separated list of
            <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a>s.
          </p>
          <p>
            The <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a>
            grammar symbol matches nearly any sequence of tokens, however the
            <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            defined in this document only accept a more restricted syntax.
            Any extended attribute encountered in an
            <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is
            <!--JAVA
            matched against the following five grammar symbols to determine
            -->
            matched against the following four grammar symbols to determine
            which form (or forms) it is in:
          </p>
          <table class="vert">
            <tr>
              <th>Grammar symbol</th>
              <th>Form</th>
              <th>Example</th>
            </tr>
            <tr>
              <td>
                <a class="sym" href="#prod-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a>
              </td>
              <td>
                <dfn id="dfn-xattr-no-arguments">takes no arguments</dfn>
              </td>
              <td>
                <code>[Replaceable]</code>
              </td>
            </tr>
            <tr>
              <td>
                <a class="sym" href="#prod-ExtendedAttributeArgList">ExtendedAttributeArgList</a>
              </td>
              <td>
                <dfn id="dfn-xattr-argument-list">takes an argument list</dfn>
              </td>
              <td>
                <code>[Constructor(float x, float y)]</code>
              </td>
            </tr>
            <tr>
              <td>
                <a class="sym" href="#prod-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a>
              </td>
              <td>
                <dfn id="dfn-xattr-named-argument-list">takes a named argument list</dfn>
              </td>
              <td>
                <code>[NamedConstructor=Image(DOMString src)]</code>
              </td>
            </tr>
            <tr>
              <td>
                <a class="sym" href="#prod-ExtendedAttributeIdent">ExtendedAttributeIdent</a>
              </td>
              <td>
                <dfn id="dfn-xattr-identifier">takes an identifier</dfn>
              </td>
              <td>
                <code>[PutForwards=name]</code>
              </td>
            </tr>
            <!--JAVA
            <tr>
              <td>
                <a class='sym' href='#prod-ExtendedAttributeDottedName'>ExtendedAttributeDottedName</a>
              </td>
              <td>
                <dfn id='dfn-xattr-dotted-name'>takes a dotted name</dfn>
              </td>
              <td>
                <code>[JavaPackage=org.example]</code>
              </td>
            </tr>
            -->
          </table>

          <p>
            This specification defines a number of extended attributes that
            are applicable to the ECMAScript language binding, which are described in
            <a href="#es-extended-attributes">section 4.3</a>.
            Each extended attribute definition will state which of the above
            five forms are allowed.  <!--JAVA Although <a class='sym' href='#prod-ExtendedAttributeIdent'>ExtendedAttributeIdent</a>
            and <a class='sym' href='#prod-ExtendedAttributeDottedName'>ExtendedAttributeDottedName</a>
            are ambiguous, no extended attribute defined in this document takes both of those forms.-->
          </p>

          <table class="grammar"><tr id="proddef-ExtendedAttributeList"><td><span class="prod-number">[61]</span></td><td><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> "]" <br /> |
             ε</span></td></tr><tr id="proddef-ExtendedAttributes"><td><span class="prod-number">[62]</span></td><td><a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> <br /> |
             ε</span></td></tr><tr id="proddef-ExtendedAttribute"><td><span class="prod-number">[63]</span></td><td><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             <a class="sym" href="#prod-Other">Other</a> <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
          </span></td></tr><tr id="proddef-ExtendedAttributeRest"><td><span class="prod-number">[64]</span></td><td><a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <br /> |
             ε</span></td></tr><tr id="proddef-ExtendedAttributeInner"><td><span class="prod-number">[65]</span></td><td><a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             <a class="sym" href="#prod-OtherOrComma">OtherOrComma</a> <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             ε
          </span></td></tr><tr id="proddef-Other"><td><span class="prod-number">[66]</span></td><td><a class="sym" href="#prod-Other">Other</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              <a class="sym" href="#prod-integer">integer</a> <br /> |
             <a class="sym" href="#prod-float">float</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             <a class="sym" href="#prod-string">string</a>  <br /> |
             <a class="sym" href="#prod-other">other</a>
            <br /> |
             "-" <br /> |
             "." <br /> |
             "..." <br /> |
             ":" <br /> |
             ";" <br /> |
             "&lt;" <br /> |
             "=" <br /> |
             "&gt;" <br /> |
             "?"
            <br /> |
             "ByteString" <br /> |
             "Date" <br /> |
             "DOMString" <br /> |
             "Infinity" <br /> |
             "NaN" <br /> |
             "any" <br /> |
             "boolean" <br /> |
             "byte" <br /> |
             "double" <br /> |
             "false" <br /> |
             "float" 
            <br /> |
             "long" <br /> |
             "null" <br /> |
             "object" <br /> |
             "octet" <br /> |
             "or" <br /> |
             "optional" <br /> |
             "sequence"
            <br /> |
             "short" <br /> |
             "true" <br /> |
             "unsigned" <br /> |
             "void"
            <br /> |
             <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
          </span></td></tr><tr id="proddef-OtherOrComma"><td><span class="prod-number">[68]</span></td><td><a class="sym" href="#prod-OtherOrComma">OtherOrComma</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Other">Other</a> <br /> |
             ","</span></td></tr><tr id="proddef-ExtendedAttributeNoArgs"><td><span class="prod-number">[86]</span></td><td><a class="sym" href="#prod-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="proddef-ExtendedAttributeArgList"><td><span class="prod-number">[87]</span></td><td><a class="sym" href="#prod-ExtendedAttributeArgList">ExtendedAttributeArgList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td></tr><tr id="proddef-ExtendedAttributeIdent"><td><span class="prod-number">[88]</span></td><td><a class="sym" href="#prod-ExtendedAttributeIdent">ExtendedAttributeIdent</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="proddef-ExtendedAttributeNamedArgList"><td><span class="prod-number">[89]</span></td><td><a class="sym" href="#prod-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td></tr></table>

        </div>
      </div>

      <div id="ecmascript-binding" class="section">
        <h2>4. ECMAScript binding</h2>

        <p>
          This section describes how definitions written with the IDL defined in
          <a href="#idl">section 3</a> correspond to particular constructs
          in ECMAScript, as defined by the <cite>ECMAScript Language Specification 6th Edition</cite>
          <a href="#ref-ECMA-262">[ECMA-262]</a>.
        </p>
        <p>
          Objects defined in this section have internal properties as described in
          ECMA-262 <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.12">sections 8.12</a> and
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-13.1.1">13.1.1</a> unless otherwise specified, in which case one or
          more of the following are redefined in accordance with the rules for host objects:
          <span class="prop">[[Call]]</span>,
          <span class="prop">[[DefineOwnProperty]]</span>,
          <span class="prop">[[GetOwnProperty]]</span> and
          <span class="prop">[[Delete]]</span><!-- and
          <span class="prop">[[HasInstance]]</span>-->.
        </p>
        <p>
          To influence the result of calling Object.prototype.toString on an object, a
          <dfn id="dfn-class-string">class string</dfn> is defined for some objects.
        </p>
        <div class="note"><div class="noteHeader">Note</div>
          <p>
            <a href="#es-environment">Section 4.1</a>
            below describes how Object.prototype.toString takes
            an object’s <a class="dfnref" href="#dfn-class-string">class string</a>
            into account.
          </p>
        </div>
        <p>
          Unless otherwise specified, the <span class="prop">[[Extensible]]</span> internal property
          of objects defined in this section has the value <span class="esvalue">true</span>.
        </p>
        <p>
          Unless otherwise specified, the <span class="prop">[[Prototype]]</span> internal property
          of objects defined in this section is the <span class="esvalue">Object</span> prototype object.
        </p>
        <p>
          If an object is defined to be a <dfn id="dfn-function-object">function object</dfn>, then
          it has characteristics as follows:
        </p>
        <ul>
          <li>Its <span class="prop">[[Prototype]]</span> internal property is the <span class="esvalue">Function</span> prototype object.</li>
          <li>Its <span class="prop">[[Get]]</span> internal property is set as described in <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.3.5.4">ECMA-262 section 15.3.5.4</a>.</li>
          <li>Its <span class="prop">[[Construct]]</span> internal property is set as described in <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-13.1.1.2">ECMA-262 section 13.1.1.2</a>.</li>
          <li>Its <span class="prop">[[HasInstance]]</span> internal property is set as described in <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.3.4.5.3">ECMA-262 section 15.3.4.5.3</a>, unless otherwise specified.</li>
          <li>Its <span class="prop">[[NativeBrand]]</span> internal property is “Function”.</li>
        </ul>
        <p id="ecmascript-abstractop">
          Algorithms in this section use the conventions described in <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2">ECMA-262
          section 5.2</a>, such as the use of steps and substeps, the use of mathematical
          operations, and so on.  The
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.2">ToBoolean</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3">ToNumber</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.7">ToUint16</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.5">ToInt32</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6">ToUint32</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8">ToString</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9">ToObject</a>,
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.1">IsAccessorDescriptor</a> and
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.2">IsDataDescriptor</a> abstract operations and the
          <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8">Type(<var>x</var>)</a>
          notation referenced in this section are defined in ECMA-262 sections 8 and 9.
        </p>
        <p id="ecmascript-throw">
          When an algorithm says to “throw a <b><i>Something</i>Error</b>” then this means to
          construct a new ECMAScript <b><i>Something</i>Error</b> object and to throw it,
          just as the algorithms in ECMA-262 do.
        </p>
        <p>
          When an algorithm says to “throw <b>StopIteration</b>” then this means to throw
          the unique <span class="esvalue">StopIteration</span> object.
        </p>
        <div class="ednote"><div class="ednoteHeader">Editorial note</div>
          <p>
            The <span class="esvalue">StopIteration</span> value is currently defined in
            <a href="http://wiki.ecmascript.org/doku.php?id=harmony:iterators">a strawman wiki page</a>
            and this will need to updated once it has been added to the ES6 spec.
          </p>
        </div>
        <p>
          Note that algorithm steps can call in to other algorithms and abstract operations and
          not explicitly handle exceptions that are thrown from them.  When an exception
          is thrown by an algorithm or abstract operation and it is not explicitly
          handled by the caller, then it is taken to end the algorithm and propagate out
          to its caller, and so on.
        </p>
        <div class="example"><div class="exampleHeader">Example</div>
          <p>
            Consider the following algorithm:
          </p>
          <ol class="algorithm">
            <li>Let <var>x</var> be the ECMAScript value passed in to this algorithm.</li>
            <li>Let <var>y</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>x</var>).</li>
            <li>Return <var>y</var>.</li>
          </ol>
          <p>
            Since <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a> can throw an exception (for example if passed the object
            <code>({ toString: function() { throw 1 } })</code>), and the exception is
            not handled in the above algorithm, if one is thrown then it causes this
            algorithm to end and for the exception to propagate out to its caller, if there
            is one.
          </p>
        </div>
        <p>
        </p>

        <div id="es-environment" class="section">
          <h3>4.1. ECMAScript environment</h3>
          <p>
            In an ECMAScript implementation of a given set of
            <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>,
            there will exist a number of ECMAScript objects that correspond to
            definitions in those <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>.
            These objects are termed the <dfn id="dfn-initial-object">initial objects</dfn>,
            and comprise the following:
          </p>
          <ul>
            <li><a class="dfnref" href="#dfn-interface-object">interface objects</a></li>
            <li><a class="dfnref" href="#dfn-named-constructor">named constructors</a></li>
            <li><a class="dfnref" href="#dfn-interface-prototype-object">interface prototype objects</a></li>
            <li><a class="dfnref" href="#dfn-named-properties-object">named properties objects</a></li>
            <li><a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype objects</a></li>
            <li><a class="dfnref" href="#dfn-attribute-getter">attribute getters</a></li>
            <li><a class="dfnref" href="#dfn-attribute-setter">attribute setters</a></li>
            <li><a href="#es-operations">the <span class="estype">Function</span> objects that correspond to operations</a></li>
            <li><a href="#es-stringifier">the <span class="estype">Function</span> objects that correspond to stringifiers</a></li>
            <li><a href="#es-serializer">the <span class="estype">Function</span> objects that correspond to serializers</a></li>
            <li><a href="#es-iterators">the <span class="estype">Function</span> objects that correspond to iterators</a></li>
            <li><a class="dfnref" href="#dfn-exception-interface-object">exception interface objects</a></li>
            <li><a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype objects</a></li>
            <li><a class="dfnref" href="#dfn-exception-field-getter">exception field getters</a></li>
          </ul>
          <p>
            Each <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-10.2.3">ECMAScript global environment</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 10.2.3)
            <span class="rfc2119">MUST</span> have its own unique set of each of
            the <a class="dfnref" href="#dfn-initial-object">initial objects</a>, created
            before control enters any ECMAScript execution context associated with the
            environment, but after the global object for that environment is created.  The <span class="prop">[[Prototype]]</span>s
            of all initial objects in a given global environment <span class="rfc2119">MUST</span> come from
            that same global environment.
          </p>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              In an HTML user agent, multiple global environments can exist when
              multiple frames or windows are created.  Each frame or window will have
              its own set of <a class="dfnref" href="#dfn-initial-object">initial objects</a>,
              which the following HTML document demonstrates:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">HTML</span></div><div class="blockContent"><pre class="code"><code class="html-code">&lt;!DOCTYPE html&gt;
&lt;title&gt;Different global environments&lt;/title&gt;
&lt;iframe id=a&gt;&lt;/iframe&gt;
&lt;script&gt;
var iframe = document.getElementById("a");
var w = iframe.contentWindow;              <span class="comment">// The global object in the frame</span>

Object == w.Object;                        <span class="comment">// Evaluates to false, per ECMA-262</span>
Node == w.Node;                            <span class="comment">// Evaluates to false</span>
iframe instanceof w.Node;                  <span class="comment">// Evaluates to false</span>
iframe instanceof w.Object;                <span class="comment">// Evaluates to false</span>
iframe.appendChild instanceof Function;    <span class="comment">// Evaluates to true</span>
iframe.appendChild instanceof w.Function;  <span class="comment">// Evaluates to false</span>
&lt;/script&gt;</code></pre></div></div>
          </div>
          <p>
            Unless otherwise specified, each ECMAScript global environment <dfn id="dfn-expose">exposes</dfn>
            all <a class="dfnref" href="#dfn-interface">interfaces</a> and <a class="dfnref" href="#dfn-exception">exceptions</a>
            that the implementation supports.  If a given ECMAScript global environment does not
            expose an interface or exception, then the requirements given in
            <a href="#es-interfaces">section 4.4</a> and
            <a href="#es-exceptions">section 4.9</a> are
            not followed for that interface or exception.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              This allows, for example, ECMAScript global environments for Web Workers to <a class="dfnref" href="#dfn-expose">expose</a>
              different sets of supported interfaces from those exposed in environments
              for Web pages.
            </p>
          </div>
          <p id="toString">
            As soon as any ECMAScript global environment is created, the following steps <span class="rfc2119">MUST</span>
            be performed:
          </p>
          <ol class="algorithm">
            <li>
              Let <var>F</var> be a <a class="dfnref" href="#dfn-function-object">function object</a> whose
              behavior when invoked is as follows:
              <ol>
                <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>,
                  <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> or
                  <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>,
                  then return the String value that is the result of concatenating <code>"[object "</code>,
                  <var>O</var>’s <a class="dfnref" href="#dfn-class-string">class string</a>, and <code>"]"</code>.</li>
                <li>Otherwise, return the result of following the steps of the
                  <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.2.4.2">built-in Object.prototype.toString function</a>.</li>
              </ol>
            </li>
            <li>Let <var>P</var> be the Object.prototype object.</li>
            <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method on <var>P</var> with property name “toString”,
              descriptor <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>, [[Value]]: <var>F</var> }</span>
              and Boolean flag <span class="esvalue">false</span>.</li>
          </ol>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              Requiring particular behavior of a replaced Object.prototype.toString rather than
              requiring host object semantics of the built-in Object.prototype.toString
              is done to avoid making it impossible to implement APIs described
              with Web IDL natively in ECMAScript with Proxies.
            </p>
            <p>
              There is one built-in ECMAScript function that behaves differently for
              platform objects with this custom Object.prototype.toString behavior
              compared to the built-in Object.prototype.toString: Function.prototype.bind
              will return a new <span class="estype">Function</span> object with a 
              <span class="prop">length</span> property with a non-zero value if the
              object has a <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a>
              that takes at least one argument.
            </p>
          </div>
        </div>

        <div id="es-type-mapping" class="section">
          <h3>4.2. ECMAScript type mapping</h3>

          <p>
            This section describes how types in the IDL map to types in ECMAScript.
          </p>
          <p>
            Each sub-section below describes how values of a given IDL type are represented
            in ECMAScript.  For each IDL type, it is described how ECMAScript values are
            <dfn id="dfn-convert-ecmascript-to-idl-value">converted to an IDL value</dfn>
            when passed to a <a class="dfnref" href="#dfn-platform-object">platform object</a> expecting that type, and how IDL values
            of that type are <dfn id="dfn-convert-idl-to-ecmascript-value">converted to ECMAScript values</dfn>
            when returned from a platform object.
          </p>

          <div id="es-any" class="section">
            <h4>4.2.1. any</h4>

            <p>
              Since the IDL <a class="idltype" href="#idl-any">any</a> type
              is the union of all other IDL types, it can correspond to any
              ECMAScript value type.
            </p>
            <p>
              How to <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">convert an ECMAScript value</a> to an IDL <a class="idltype" href="#idl-any">any</a> value depends on the type of the
              ECMAScript value:
            </p>
            <dl class="switch">
              <dt>The <span class="esvalue">undefined</span> value</dt>
              <dd>
                The IDL value is an
                <a class="idltype" href="#idl-object">object</a> reference
                to a special object that represents the ECMAScript
                <span class="esvalue">undefined</span> value.
              </dd>
              <dt>The <span class="esvalue">null</span> value</dt>
              <dd>
                The IDL value is the <span class="idlvalue">null</span>
                <a class="idltype" href="#idl-object">object?</a> reference.
              </dd>
              <dt>A <span class="estype">Boolean</span> value</dt>
              <dd>
                The IDL value is the
                <a class="idltype" href="#idl-boolean">boolean</a>
                value that represents the same truth value.
              </dd>
              <dt>A <span class="estype">Number</span> value</dt>
              <dd>
                The IDL value is that which is obtained
                by following the rules for converting the
                <span class="estype">Number</span> to an IDL
                <a class="idltype" href="#idl-double">double</a> value,
                as described in <a href="#es-double">section 4.2.14</a>,
                below.
              </dd>
              <dt>A <span class="estype">String</span> value</dt>
              <dd>
                The IDL value is that which is obtained
                by following the rules for converting the
                <span class="estype">String</span> to an IDL
                <a class="idltype" href="#idl-DOMString">DOMString</a> value,
                as described in <a href="#es-DOMString">section 4.2.16</a>,
                below.
              </dd>
              <dt>An <span class="estype">object</span> value</dt>
              <dd>
                The IDL value is an
                <a class="idltype" href="#idl-object">object</a> value that
                references the same object.
              </dd>
            </dl>
            <p>
              An IDL <a class="idltype" href="#idl-any">any</a> value is
              <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted to an ECMAScript value</a>
              as follows.  If the value is an <a class="idltype" href="#idl-object">object</a>
              reference to a special object that represents an ECMAScript <span class="esvalue">undefined</span>
              value, then it is converted to the ECMAScript
              <span class="esvalue">undefined</span> value.  Otherwise,
              the rules for converting the <a class="dfnref" href="#dfn-specific-type">specific type</a>
              of the IDL <a class="idltype" href="#idl-any">any</a> value
              as described in the remainder of this section are performed.
            </p>
          </div>

          <div id="es-void" class="section">
            <h4>4.2.2. void</h4>

            <p>
              The only place that the <a class="idltype" href="#idl-void">void</a> type may appear
              in IDL is as the <a class="dfnref" href="#dfn-return-type">return type</a> of an
              <a class="dfnref" href="#dfn-operation">operation</a>.  Functions on <a class="dfnref" href="#dfn-platform-object">platform objects</a>
              that implement an operation whose IDL specifies a
              <a class="idltype" href="#idl-void">void</a> return type <span class="rfc2119">MUST</span> return the
              <span class="esvalue">undefined</span> value.
            </p>
            <p>
              ECMAScript functions that implement an operation whose IDL
              specifies a <a class="idltype" href="#idl-void">void</a> return type
              <span class="rfc2119">MAY</span> return any value, which will be discarded.
            </p>
          </div>

          <div id="es-boolean" class="section">
            <h4>4.2.3. boolean</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-boolean">boolean</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be the result of computing <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.2" class="dfnref external">ToBoolean</a>(<var>V</var>).</li>
              <li>Return the IDL <a class="idltype" href="#idl-boolean">boolean</a> value that is the one that represents the same truth value as the ECMAScript <span class="estype">Boolean</span> value <var>x</var>.</li>
            </ol>
            <p>
              The IDL <a class="idltype" href="#idl-boolean">boolean</a> value <span class="idlvalue">true</span>
              is <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to
              the ECMAScript <span class="esvalue">true</span> value and the IDL <a class="idltype" href="#idl-boolean">boolean</a>
              value <span class="idlvalue">false</span> is converted to the ECMAScript
              <span class="esvalue">false</span> value.
            </p>
          </div>

          <div id="es-byte" class="section">
            <h4>4.2.4. byte</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-byte">byte</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; −2<sup>7</sup> or <var>x</var> &gt; 2<sup>7</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>7</sup>), 2<sup>7</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents 0.</li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
              <li>Set <var>x</var> to <var>x</var> modulo 2<sup>8</sup>.</li>
              <li>If <var>x</var> ≥ 2<sup>7</sup>, return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var> − 2<sup>8</sup>.
                Otherwise, return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-byte">byte</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that represents
              the same numeric value as the IDL <a class="idltype" href="#idl-byte">byte</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [−128, 127].
            </p>
          </div>

          <div id="es-octet" class="section">
            <h4>4.2.5. octet</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-octet">octet</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>8</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>8</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents 0.</li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
              <li>Set <var>x</var> to <var>x</var> modulo 2<sup>8</sup>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-octet">octet</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that represents
              the same numeric value as the IDL
              <a class="idltype" href="#idl-octet">octet</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [0, 255].
            </p>
          </div>

          <div id="es-short" class="section">
            <h4>4.2.6. short</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-short">short</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; −2<sup>15</sup> or <var>x</var> &gt; 2<sup>15</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>15</sup>), 2<sup>15</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-short">short</a> value that represents 0.</li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
              <li>Set <var>x</var> to <var>x</var> modulo 2<sup>16</sup>.</li>
              <li>If <var>x</var> ≥ 2<sup>15</sup>, return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var> − 2<sup>16</sup>.
                Otherwise, return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-short">short</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that represents the
              same numeric value as the IDL
              <a class="idltype" href="#idl-short">short</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [−32768, 32767].
            </p>
          </div>

          <div id="es-unsigned-short" class="section">
            <h4>4.2.7. unsigned short</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>16</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>16</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.7" class="dfnref external">ToUint16</a>(<var>x</var>).</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that
              represents the same numeric value as the IDL
              <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [0, 65535].
            </p>
          </div>

          <div id="es-long" class="section">
            <h4>4.2.8. long</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-long">long</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; −2<sup>31</sup> or <var>x</var> &gt; 2<sup>31</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>31</sup>), 2<sup>31</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.5" class="dfnref external">ToInt32</a>(<var>x</var>).</li>
              <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-long">long</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that
              represents the same numeric value as the IDL
              <a class="idltype" href="#idl-long">long</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [−2147483648, 2147483647].
            </p>
          </div>

          <div id="es-unsigned-long" class="section">
            <h4>4.2.9. unsigned long</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>32</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>32</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>x</var>).</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value to an ECMAScript
              value is a <span class="estype">Number</span> that
              represents the same numeric value as the IDL
              <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value.
              The <span class="estype">Number</span> value will be an integer in the range [0, 4294967295].
            </p>
          </div>

          <div id="es-long-long" class="section">
            <h4>4.2.10. long long</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-long-long">long long</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; −(2<sup>53</sup> − 1) or <var>x</var> &gt; 2<sup>53</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, −(2<sup>53</sup> − 1)), 2<sup>53</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents 0.</li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
              <li>Set <var>x</var> to <var>x</var> modulo 2<sup>64</sup>.</li>
              <li>If <var>x</var> is greater than or equal to 2<sup>63</sup>, then set <var>x</var> to <var>x</var> − 2<sup>64</sup>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-long-long">long long</a> value to an ECMAScript
              value is a <span class="estype">Number</span> value that
              represents the closest numeric value to the <a class="idltype" href="#idl-long-long">long long</a>,
              choosing the numeric value with an <em>even significand</em> if there are
              two equally close values (<a href="#ref-ECMA-262">[ECMA-262]</a>, <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.5">section 8.5</a>).
              If the <a class="idltype" href="#idl-long-long">long long</a> is in the range
              (−(2<sup>53</sup> − 1), 2<sup>53</sup> − 1), then the <span class="estype">Number</span>
              will be able to represent exactly the same value as the
              <a class="idltype" href="#idl-long-long">long long</a>.
            </p>
          </div>

          <div id="es-unsigned-long-long" class="section">
            <h4>4.2.11. unsigned long long</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
                  <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>53</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
                  <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
                  <li><var>V</var> is being used as the value of <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
                </ul>
                then:
                <ol>
                  <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>53</sup> − 1).</li>
                  <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
                  <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
                </ol>
              </li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents 0.</li>
              <li>Set <var>x</var> to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">sign</a>(<var>x</var>) * <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">floor</a>(<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2" class="dfnref external">abs</a>(<var>x</var>)).</li>
              <li>Set <var>x</var> to <var>x</var> modulo 2<sup>64</sup>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value to an ECMAScript
              value is a <span class="estype">Number</span> value that
              represents the closest numeric value to the <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>,
              choosing the numeric value with an <em>even significand</em> if there are
              two equally close values (<a href="#ref-ECMA-262">[ECMA-262]</a>, <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.5">section 8.5</a>).
              If the <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> is less than or equal to 2<sup>53</sup> − 1,
              then the <span class="estype">Number</span> will be able to
              represent exactly the same value as the
              <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>.
            </p>
          </div>

          <div id="es-float" class="section">
            <h4>4.2.12. float</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-float">float</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, <span class="esvalue">+Infinity</span> or
                <span class="esvalue">−Infinity</span>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>
                Let <var>S</var> be the set of finite IEEE 754 single-precision floating
                point values except −0, but with two special values added: 2<sup>128</sup> and
                −2<sup>128</sup>.
              </li>
              <li>
                Let <var>y</var> be the number in <var>S</var> that is closest
                to <var>x</var>, selecting the number with an
                <em>even significand</em> if there are two equally close values
                (<a href="#ref-ECMA-262">[ECMA-262]</a>, <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.5">section 8.5</a>).
                (The two special values 2<sup>128</sup> and −2<sup>128</sup>
                are considered to have even significands for this purpose.)
              </li>
              <li>
                If <var>y</var> is 2<sup>128</sup> or −2<sup>128</sup>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
              </li>
              <li>
                If <var>y</var> is +0 and <var>x</var> is negative, return −0.
              </li>
              <li>
                Return <var>y</var>.
              </li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-float">float</a> value to an ECMAScript
              value is the <span class="estype">Number</span> value that represents the same numeric value as the IDL
              <a class="idltype" href="#idl-float">float</a> value.
            </p>
          </div>

          <div id="es-unrestricted-float" class="section">
            <h4>4.2.13. unrestricted float</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, then return the IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value that represents the IEEE 754 NaN value with the bit pattern 0x7fc00000 <a href="#ref-IEEE-754">[IEEE-754]</a>.</li>
              <li>
                Let <var>S</var> be the set of finite IEEE 754 single-precision floating
                point values except −0, but with two special values added: 2<sup>128</sup> and
                −2<sup>128</sup>.
              </li>
              <li>
                Let <var>y</var> be the number in <var>S</var> that is closest
                to <var>x</var>, selecting the number with an
                <em>even significand</em> if there are two equally close values
                (<a href="#ref-ECMA-262">[ECMA-262]</a>, <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.5">section 8.5</a>).
                (The two special values 2<sup>128</sup> and −2<sup>128</sup>
                are considered to have even significands for this purpose.)
              </li>
              <li>
                If <var>y</var> is 2<sup>128</sup>, return +∞.
              </li>
              <li>
                If <var>y</var> is −2<sup>128</sup>, return −∞.
              </li>
              <li>
                If <var>y</var> is +0 and <var>x</var> is negative, return −0.
              </li>
              <li>
                Return <var>y</var>.
              </li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                Since there is only a single ECMAScript <span class="esvalue">NaN</span> value,
                it must be canonicalized to a particular single precision IEEE 754 NaN value.  The NaN value
                mentioned above is chosen simply because it is the quiet NaN with the lowest
                value when its bit pattern is interpreted as an unsigned 32 bit integer.
              </p>
            </div>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value to an ECMAScript
              value is a <span class="estype">Number</span>:
            </p>
            <ul>
              <li>
                If the IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value is a NaN,
                then the <span class="estype">Number</span> value is <span class="esvalue">NaN</span>.
              </li>
              <li>
                Otherwise, the <span class="estype">Number</span> value is
                the one that represents the same numeric value as the IDL
                <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value.
              </li>
            </ul>
          </div>

          <div id="es-double" class="section">
            <h4>4.2.14. double</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-double">double</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, <span class="esvalue">+Infinity</span> or
                <span class="esvalue">−Infinity</span>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>
                Return the IDL <a class="idltype" href="#idl-double">double</a> value
                that has the same numeric value as <var>x</var>.
              </li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-double">double</a> value to an ECMAScript
              value is the <span class="estype">Number</span> value that represents the
              same numeric value as the IDL <a class="idltype" href="#idl-double">double</a> value.
            </p>
          </div>

          <div id="es-unrestricted-double" class="section">
            <h4>4.2.15. unrestricted double</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>V</var>).</li>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, then return the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value that represents the IEEE 754 NaN value with the bit pattern 0x7ff8000000000000 <a href="#ref-IEEE-754">[IEEE-754]</a>.</li>
              <li>
                Return the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value
                that has the same numeric value as <var>x</var>.
              </li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                Since there is only a single ECMAScript <span class="esvalue">NaN</span> value,
                it must be canonicalized to a particular double precision IEEE 754 NaN value.  The NaN value
                mentioned above is chosen simply because it is the quiet NaN with the lowest
                value when its bit pattern is interpreted as an unsigned 64 bit integer.
              </p>
            </div>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value to an ECMAScript
              value is a <span class="estype">Number</span>:
            </p>
            <ul>
              <li>
                If the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value is a NaN,
                then the <span class="estype">Number</span> value is <span class="esvalue">NaN</span>.
              </li>
              <li>
                Otherwise, the <span class="estype">Number</span> value is
                the one that represents the same numeric value as the IDL
                <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value.
              </li>
            </ul>
          </div>

          <div id="es-DOMString" class="section">
            <h4>4.2.16. DOMString</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>If <var>V</var> is <span class="esvalue">null</span>
                and the conversion to an IDL value is being performed due
                to any of the following:
                <ul>
                  <li>
                    <var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a>
                    argument that is annotated with the <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
                  </li>
                  <li>
                    <var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a>
                    annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    operation annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>, or
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    attribute annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
                  </li>
                </ul>
                then return the <a class="idltype" href="#idl-DOMString">DOMString</a>
                value that represents the empty string.
              </li>
              <li>If <var>V</var> is <span class="esvalue">undefined</span>
                and the conversion to an IDL value is being performed due
                to any of the following:
                <ul>
                  <li>
                    <var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a>
                    argument that is annotated with the <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs=EmptyString]</a>,
                  </li>
                  <li>
                    <var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a>
                    annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs=EmptyString]</a>,
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    operation annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs=EmptyString]</a>, or
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    attribute annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs=EmptyString]</a>,
                  </li>
                </ul>
                then return the <a class="idltype" href="#idl-DOMString">DOMString</a>
                value that represents the empty string.
              </li>
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
              <li>Return the IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value that represents the same sequence of code units as the one the ECMAScript <span class="estype">String</span> value <var>x</var> represents.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value to an ECMAScript
              value is the <span class="estype">String</span>
              value that represents the same sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> that the
              IDL <a class="idltype" href="#idl-DOMString">DOMString</a> represents.
            </p>
          </div>

          <div id="es-ByteString" class="section">
            <h4>4.2.17. ByteString</h4>

            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>Let <var>x</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
              <li>If the value of any element of <var>x</var> is greater than 255, then
                <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value
                whose length is the length of <var>x</var>, and where the value of each element is
                the value of the corresponding element of <var>x</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value to an ECMAScript
              value is a <span class="estype">String</span>
              value whose length is the length of the <a class="idltype" href="#idl-ByteString">ByteString</a>,
              and the value of each element of which is the value of the corresponding element
              of the <a class="idltype" href="#idl-ByteString">ByteString</a>.
            </p>
          </div>

          <div id="es-object" class="section">
            <h4>4.2.18. object</h4>

            <p>
              IDL <a class="idltype" href="#idl-object">object</a>
              values are represented by ECMAScript <span class="estype">Object</span> values.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-object">object</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>If <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8" class="dfnref external">Type</a>(<var>V</var>) is not Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-object">object</a> value that is a reference to the same object as <var>V</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="idltype" href="#idl-object">object</a> value to an ECMAScript
              value is the <span class="estype">Object</span> value that represents a reference to the same object that the
              IDL <a class="idltype" href="#idl-object">object</a> represents.
            </p>
          </div>

          <div id="es-interface" class="section">
            <h4>4.2.19. Interface types</h4>

            <p>
              IDL <a href="#idl-interface">interface type</a>
              values are represented by ECMAScript <span class="estype">Object</span> or
              <span class="estype">Function</span> values.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a href="#idl-interface">interface type</a> value
              by running the following algorithm (where <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>):
            </p>
            <ol class="algorithm">
              <li>If <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8" class="dfnref external">Type</a>(<var>V</var>) is not Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>If <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>I</var>, then return the IDL <a href="#idl-interface">interface type</a> value that represents a reference to that platform object.</li>
              <li>If <var>V</var> is a <a class="dfnref" href="#dfn-user-object">user object</a> that is considered to implement <var>I</var> according to the rules in <a href="#es-user-objects">section 4.7</a>, then return the IDL <a href="#idl-interface">interface type</a> value that represents a reference to that user object.</li>
              <li><a href="#ecmascript-throw" class="dfnref external">Throw a <span class="esvalue">TypeError</span></a>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a href="#idl-interface">interface type</a>
              value to an ECMAScript value is the <span class="estype">Object</span>
              value that represents a reference to the same object that the IDL
              <a href="#idl-interface">interface type</a> value represents.
            </p>
          </div>

          <div id="es-dictionary" class="section">
            <h4>4.2.20. Dictionary types</h4>

            <p>
              IDL <a href="#idl-dictionary">dictionary type</a> values are represented
              by ECMAScript <span class="estype">Object</span> values.  Properties on
              the object (or its prototype chain) correspond to <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a href="#idl-dictionary">dictionary type</a> value
              by running the following algorithm (where <var>D</var> is the <a class="dfnref" href="#dfn-dictionary">dictionary</a>):
            </p>
            <ol class="algorithm">
              <li>If <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8" class="dfnref external">Type</a>(<var>V</var>) is not Undefined, Null or Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Let <var>dict</var> be an empty dictionary value of type <var>D</var>;
              every <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
              is initially considered to be <a class="dfnref" href="#dfn-present">not present</a>.</li>
              <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>,
                in order from least to most derived.</li>
              <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
                <ol>
                  <li>For each dictionary member <var>member</var> declared on <var>D</var>, in order:
                    <ol>
                      <li>Let <var>key</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of <var>member</var>.</li>
                      <li>Let <var>present</var> be <span class="idltype">false</span> if <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8" class="dfnref external">Type</a>(<var>V</var>) is Undefined or Null,
                        or the result of calling the <span class="prop">[[HasProperty]]</span> internal method on <var>V</var> with property name <var>key</var> otherwise.</li>
                      <li>If <var>present</var> is true, then:
                        <ol>
                          <li>Let <var>value</var> be the result of calling the <span class="prop">[[Get]]</span> internal method on <var>V</var> with property name <var>key</var>.</li>
                          <li>Let <var>idlValue</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>value</var> to an IDL value whose type is the type <var>member</var> is declared to be of.</li>
                          <li>Set the dictionary member on <var>dict</var> with key name <var>key</var> to the value <var>idlValue</var>.  This dictionary member is considered to be <a class="dfnref" href="#dfn-present">present</a>.</li>
                        </ol>
                      </li>
                      <li>Otherwise, if <var>present</var> is false but the <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> has a <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>, then:
                        <ol>
                          <li>Let <var>idlValue</var> be the dictionary member’s default value.</li>
                          <li>Set the dictionary member on <var>dict</var> with key name <var>key</var> to the value <var>idlValue</var>.  This dictionary member is considered to be <a class="dfnref" href="#dfn-present">present</a>.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Return <var>dict</var>.</li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                The order that <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a> are looked
                up on the ECMAScript object are not necessarily the same as the object’s property enumeration order.
              </p>
            </div>
            <p>
              An IDL dictionary value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a>
              to an ECMAScript <span class="estype">Object</span> value
              by running the following algorithm (where <var>D</var> is the <a class="dfnref" href="#dfn-dictionary">dictionary</a>):
            </p>
            <ol class="algorithm">
              <li>Let <var>O</var> be a new <span class="estype">Object</span> value created as if by the expression <code>({})</code>.</li>
              <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>,
                in order from least to most derived.</li>
              <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
                <ol>
                  <li>For each dictionary member <var>member</var> declared on <var>dictionary</var>, in order:
                    <ol>
                      <li>Let <var>key</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of <var>member</var>.</li>
                      <li>If the dictionary member named <var>key</var> is <a class="dfnref" href="#dfn-present">present</a> on <var>V</var>, then:
                        <ol>
                          <li>Let <var>idlValue</var> be the value of <var>member</var> on <var>V</var>.</li>
                          <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlValue</var> to an ECMAScript value.</li>
                          <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method on <var>O</var> with property name <var>key</var>,
                            descriptor <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>, [[Value]]: <var>value</var> }</span>
                            and Boolean flag <span class="esvalue">false</span>.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Return <var>O</var>.</li>
            </ol>
          </div>

          <div id="es-enumeration" class="section">
            <h4>4.2.21. Enumeration types</h4>

            <p>
              IDL <a href="#idl-enumeration">enumeration types</a> are represented by ECMAScript <span class="estype">String</span>
              values.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="dfnref" href="#dfn-enumeration">enumeration type</a>
              value as follows (where <var>E</var> is the <a class="dfnref" href="#dfn-enumeration">enumeration</a>):
            </p>
            <ol class="algorithm">
              <li>Let <var>S</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
              <li>If <var>S</var> is not one of <var>E</var>’s <a class="dfnref" href="#dfn-enumeration-value">enumeration values</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the enumeration value of type <var>E</var> that is equal to <var>S</var>.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="dfnref" href="#dfn-enumeration">enumeration type</a> value to an ECMAScript
              value is the <span class="estype">String</span>
              value that represents the same sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> as
              the <a class="dfnref" href="#dfn-enumeration-value">enumeration value</a>.
            </p>
          </div>

          <div id="es-callback-function" class="section">
            <h4>4.2.22. Callback function types</h4>

            <p>
              IDL <a href="#idl-callback-function">callback function types</a> are represented by ECMAScript <span class="estype">Function</span>
              objects.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a href="#idl-callback-function">callback function type</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>If <var>V</var> is not a <span class="estype">Function</span> object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="esvalue">TypeError</span></a>.</li>
              <li>Return the IDL <a href="#idl-callback-function">callback function type</a> value that represents a reference to that <span class="estype">Function</span> object.</li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a href="#idl-callback-function">callback function type</a>
              value to an ECMAScript value is a reference to the same object
              that the IDL <a href="#idl-callback-function">callback function type</a> value represents.
            </p>
          </div>

          <div id="es-nullable-type" class="section">
            <h4>4.2.23. Nullable types — <var>T</var>?</h4>

            <p>
              IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> values are represented
              by values of either the ECMAScript type corresponding to the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a>, or
              the ECMAScript <span class="esvalue">null</span> value.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span>
              value (where <var>T</var> is the <a class="dfnref" href="#dfn-inner-type">inner type</a>) as follows:
            </p>
            <ol class="algorithm">
              <li>
                If <var>V</var> is <span class="esvalue">undefined</span>, the
                IDL type being converted to is <span class="idltype">DOMString?</span>, and
                the conversion to an IDL value is being performed due to any of the following:
                <ul>
                  <li>
                    <var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a>
                    argument that is annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>,
                  </li>
                  <li>
                    <var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a>
                    annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>,
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    operation annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>, or
                  </li>
                  <li>
                    <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an
                    attribute annotated with <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>,
                  </li>
                </ul>
                and the argument given to <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a> is either
                <code>EmptyString</code> or <code>Null</code>, then:
                <ol>
                  <li>
                    If the argument given to <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
                    is <code>EmptyString</code>, then return the <span class="idltype">DOMString?</span>
                    value that represents the empty string.
                  </li>
                  <li>
                    Otherwise, the argument given to <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
                    is <code>Null</code>.  Return the <span class="idlvalue">null</span>
                    <span class="idltype">DOMString?</span> value.
                  </li>
                </ol>
              </li>
              <li>
                Otherwise, if the result of calling IsCallable(<var>V</var>) is <span class="esvalue">false</span>, and
                the conversion to an IDL value is being performed due
                to <var>V</var> being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a>
                whose type is a <a class="dfnref" href="#dfn-nullable-type">nullable</a>
                <a class="dfnref" href="#dfn-callback-function">callback function</a>
                that is annotated with <a class="xattr" href="#TreatNonCallableAsNull">[TreatNonCallableAsNull]</a>,
                then return the IDL 
                <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span>
                value <span class="idlvalue">null</span>.
              </li>
              <li>
                Otherwise, if <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>, then return the IDL
                <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span>
                value <span class="idlvalue">null</span>.
              </li>
              <li>
                Otherwise, return the result of 
                <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var>
                to the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a> <span class="idltype"><var>T</var></span>.
              </li>
            </ol>
            <p>
              The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              an IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> value to an ECMAScript value is:
            </p>
            <ul>
              <li>
                If the IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span>
                value is <span class="idlvalue">null</span>,
                then the ECMAScript value is <span class="esvalue">null</span>.
              </li>
              <li>
                Otherwise, the ECMAScript value is the result of
                <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                the IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> value
                to the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a> <span class="idltype"><var>T</var></span>.
              </li>
            </ul>
          </div>

          <div id="es-sequence" class="section">
            <h4>4.2.24. Sequences — sequence&lt;<var>T</var>&gt;</h4>

            <p>
              IDL <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> values are represented by
              ECMAScript <span class="estype">Array</span> values.
            </p>
            <p>
              An ECMAScript value <var>V</var> is <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> value as follows:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>i</var> to be 0.</li>
              <li>Depending on the type of <var>V</var>:
                <dl class="switch">
                  <dt>A <a class="dfnref" href="#dfn-platform-array-object">platform array object</a></dt>
                  <dd>
                    <ol>
                      <li>Let <var>length</var> be the length of the <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>.</li>
                      <li>Initialize <var>S</var><sub>0..<var>n</var>−1</sub> to be an IDL sequence with elements of type <var>T</var>, where each element is uninitialized.</li>
                      <li>While <var>i</var> &lt; <var>n</var>:
                        <ol>
                          <li>Let <var>E</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                            the <a class="dfnref" href="#dfn-platform-array-object">platform array object</a> element at index <var>i</var>
                            to an ECMAScript value.</li>
                          <li>Set <var>S</var><sub><var>i</var></sub> to the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                            <var>E</var> to an IDL value of type <var>T</var>.</li>
                          <li>Set <var>i</var> to <var>i</var> + 1.</li>
                        </ol>
                      </li>
                      <li>Return <var>S</var>.</li>
                    </ol>
                  </dd>
                  <dt>A native <span class="estype">Array</span> object</dt>
                  <dt>A <a class="dfnref" href="#dfn-platform-object">platform object</a> that <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a></dt>
                  <dd>
                    <ol>
                      <li>Let <var>length</var> be one greater than <var>V</var>’s maximum indexed property index, if <var>V</var> is a platform object, or the result of calling <span class="prop">[[Get]]</span> on <var>V</var> with property name “length” otherwise.</li>
                      <li>Let <var>n</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>length</var>).</li>
                      <li>Initialize <var>S</var><sub>0..<var>n</var>−1</sub> to be an IDL sequence with elements of type <var>T</var>, where each element is uninitialized.</li>
                      <li>While <var>i</var> &lt; <var>n</var>:
                        <ol>
                          <li>Let <var>P</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>i</var>).</li>
                          <li>Let <var>E</var> be the result of calling <span class="prop">[[Get]]</span> on <var>V</var> with property name <var>P</var>.</li>
                          <li>Set <var>S</var><sub><var>i</var></sub> to the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                            <var>E</var> to an IDL value of type <var>T</var>.</li>
                          <li>Set <var>i</var> to <var>i</var> + 1.</li>
                        </ol>
                      </li>
                      <li>Return <var>S</var>.</li>
                    </ol>
                  </dd>
                  <dt>Otherwise</dt>
                  <dd>
                    <ol>
                      <li><a href="#ecmascript-throw" class="dfnref external">Throw a <span class="estype">TypeError</span></a>.</li>
                    </ol>
                  </dd>
                </dl>
              </li>
            </ol>
            <p>
              An IDL sequence value <var>S</var><sub>0..<var>n</var>−1</sub> of type
              <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> is
              <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a>
              to an ECMAScript <span class="estype">Array</span> object as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>A</var> be a new <span class="estype">Array</span> object created as if by the expression <code>[]</code>.</li>
              <li>Initialize <var>i</var> to be 0.</li>
              <li>While <var>i</var> &lt; <var>n</var>:
                <ol>
                  <li>Let <var>E</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>S</var><sub><var>i</var></sub> to an ECMAScript value.</li>
                  <li>Let <var>P</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>i</var>).</li>
                  <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method on <var>A</var> with property name <var>P</var>,
                    descriptor <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>, [[Value]]: <var>E</var> }</span>
                    and Boolean flag <span class="esvalue">false</span>.</li>
                  <li>Set <var>i</var> to <var>i</var> + 1.</li>
                </ol>
              </li>
              <li>Return <var>A</var>.</li>
            </ol>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-interface">interface</a> defines
                an <a class="dfnref" href="#dfn-attribute">attribute</a> of a sequence
                type as well as an <a class="dfnref" href="#dfn-operation">operation</a>
                with an argument of a sequence type.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Canvas {

  sequence&lt;DOMString&gt; getSupportedImageCodecs();

  void drawPolygon(sequence&lt;float&gt; coordinates);
  sequence&lt;float&gt; getLastDrawnPolygon();

  <span class="comment">// ...</span>
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of this interface, an <span class="estype">Array</span>
                object with elements of type <span class="estype">String</span> is used to
                represent a <span class="idltype">sequence&lt;DOMString&gt;</span>, while an
                <span class="estype">Array</span> with elements of type <span class="estype">Number</span>
                represents a <span class="idltype">sequence&lt;float&gt;</span>.  The
                <span class="estype">Array</span> objects are effectively passed by
                value; every time the <code>getSupportedImageCodecs()</code>
                function is called a new <span class="estype">Array</span> is
                returned, and whenever an <span class="estype">Array</span> is
                passed to <code>drawPolygon</code> no reference
                will be kept after the call completes.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">
<span class="comment">// Obtain an instance of Canvas.  Assume that getSupportedImageCodecs()</span>
<span class="comment">// returns a sequence with two DOMString values: "image/png" and "image/svg+xml".</span>
var canvas = getCanvas();

<span class="comment">// An Array object of length 2.</span>
var supportedImageCodecs = canvas.getSupportedImageCodecs();

<span class="comment">// Evaluates to "image/png".</span>
supportedImageCodecs[0];

<span class="comment">// Each time canvas.getSupportedImageCodecs() is called, it returns a</span>
<span class="comment">// new Array object.  Thus modifying the returned Array will not</span>
<span class="comment">// affect the value returned from a subsequent call to the function.</span>
supportedImageCodecs[0] = "image/jpeg";

<span class="comment">// Evaluates to "image/png".</span>
canvas.getSupportedImageCodecs()[0];

<span class="comment">// This evaluates to false, since a new Array object is returned each call.</span>
canvas.getSupportedImageCodecs() == canvas.getSupportedImageCodecs();


<span class="comment">// An Array of Numbers...</span>
var a = [0, 0, 100, 0, 50, 62.5];

<span class="comment">// ...can be passed to a platform object expecting a sequence&lt;float&gt;.</span>
canvas.drawPolygon(a);

<span class="comment">// Each element will be converted to a float by first calling ToNumber().</span>
<span class="comment">// So the following call is equivalent to the previous one, except that</span>
<span class="comment">// "hi" will be alerted before drawPolygon() returns.</span>
a = [false, '',
     { valueOf: function() { alert('hi'); return 100; } }, 0,
     '50', new Number(62.5)];
canvas.drawPolygon(s);

<span class="comment">// Modifying an Array that was passed to drawPolygon() is guaranteed not to</span>
<span class="comment">// have an effect on the Canvas, since the Array is effectively passed by value.</span>
a[4] = 20;
var b = canvas.getLastDrawnPolygon();
alert(b[4]);    <span class="comment">// This would alert "50".</span></code></pre></div></div>
            </div>
            <!--
            <div class='ignore'>
              <p>
                IDL <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> values are represented by
                ECMAScript <span class='estype'>Object</span> values with special properties.
              </p>
              <p>
                Values <a class='dfnref' href='#dfn-pass-to-host-object'>passed to a host object</a> expecting a
                <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>
                <span class='rfc2119'>MUST</span> be objects with a <span class='prop'>length</span> property whose
                value, after being converted to a <span class='estype'>Number</span> by the
                ToUint32 operator, is a non-negative integer that specifies the number
                of elements in the sequence.  This number <span class='rfc2119'>MUST</span> also be equal
                to the result of passing the original <span class='prop'>length</span> property value to the <a href='http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3' class='dfnref external'>ToNumber</a> algorithm.
                Assigning to the <span class='prop'>length</span> property a non-negative
                integer <span class='estype'>Number</span> <span class='rfc2119'>MUST</span> change the length of the sequence
                to be the given number.  If the sequence is lengthened, new elements <span class='rfc2119'>MUST</span> be given
                the value that the <span class='esvalue'>undefined</span> value is converted to
                when handling it according to the rules in this section for the type <var>T</var>.
                If the sequence is shortened, the values beyond the new length of the sequence
                are lost.
                The object representing the sequence <span class='rfc2119'>MUST</span> return the element in
                the sequence at position <var>n</var> when its
                <span class='prop'>[[Get]]</span> internal method is invoked with
                <var>n</var> as its argument.
              </p>
              <p>
                Note that an ECMAScript <span class='estype'>Array</span>
                is an object that matches this description.  Implementations are free,
                however, to use a host object to implement the sequence in the
                interests of efficiency.
              </p>
              <p>
                When the host object
                gets an element of the sequence using the <span class='prop'>[[Get]]</span> method,
                the returned value <span class='rfc2119'>MUST</span> first be handled according to
                the rules in this section for the type <var>T</var>.
              </p>
              <p>
                If a host object expecting a
                <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>
                is passed a value which is not an object that conforms to the above rules
                (for example, it does not have a <span class='prop'>length</span> property), then
                a <span class='estype'>TypeError</span> exception <span class='rfc2119'>MUST</span> be thrown.
              </p>
              <p>
                While sequences are passed by reference (being objects), it is
                of course up to the interface designer whether, for example,
                after assigning a sequence to a property on a host object
                that same seqence object is returned when getting the property.
                The behavior of storing sequences in the host object in this
                manner should be made clear in prose describing the interface.
              </p>
              <!- p>
                Sequences are passed by reference.  If a reference to a sequence
                passed to a host object is kept (whether internally or as the
                value of an attribute), and the passed sequence is not an ECMAScript
                <span class='estype'>Array</span> object, the kept reference must
                be a newly created ECMAScript <span class='estype'>Array</span> object
                whose contents is the elements of the sequence.
              </p>
              <div class='ednote'>
                <p>Change the above para according to comments in
                  <a href='http://www.w3.org/mid/op.tumn9hy664w2qv@annevk-t60.oslo.opera.com'>this thread</a>.</p>
              </div ->
              <div class='ednote'>
                <p>
                  Should there be a way to declare a sequence whose length cannot be changed
                  from script?
                </p>
              </div>
            </div>
            -->
          </div>

          <div id="es-array" class="section">
            <h4>4.2.25. Arrays — <var>T</var>[]</h4>

            <p>
              IDL array values are represented by references to objects known
              as <dfn id="dfn-platform-array-object">platform array objects</dfn>, with particular
              characteristics that allow them to behave similarly to native <span class="estype">Array</span>
              objects.  All <a class="dfnref" href="#dfn-platform-array-object">platform array objects</a>
              are <a class="dfnref" href="#dfn-platform-object">platform objects</a>, and
              thus each is associated with a particular global environment.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                <a class="dfnref" href="#dfn-platform-array-object">Platform array objects</a> differ
                from <span class="estype">Array</span> objects in the following ways:
              </p>
              <ul>
                <li>they are never sparse</li>
                <li>their elements are always data properties</li>
                <li>an ECMAScript-to-IDL value conversion is always performed when storing an element</li>
                <li>they stringify with Object.prototype.toString differently</li>
                <li>their internal <span class="prop">[[Extensible]]</span> property value is always <span class="esvalue">true</span></li>
              </ul>
            </div>
            <p>
              The value of the internal <span class="prop">[[Prototype]]</span> property of a
              <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
              <span class="rfc2119">MUST</span> be the
              <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4.3.1"><span class="estype">Array</span> prototype object</a>
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4.4)
              from its associated global environment.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                Note that some of the functions from the <span class="estype">Array</span> prototype object
                will not behave on a <a class="dfnref" href="#dfn-fixed-length">fixed length</a>
                platform array object as they do on an <span class="estype">Array</span> object, since
                attempting to assign to the “length” property will fail.
                Similarly, some of the functions from the <span class="estype">Array</span>
                prototype object will not perform any useful operation on
                <a class="dfnref" href="#dfn-read-only-array">read only arrays</a>.
              </p>
            </div>
            <p>
              The <a class="dfnref" href="#dfn-class-string">class string</a> of a
              platform array object <span class="rfc2119">MUST</span> be
              the <a class="dfnref" href="#dfn-type-name">type name</a> of the
              <a href="#idl-array">array type</a>.
            </p>
            <!--
            <p>
              Platform array objects <span class='rfc2119'>MUST</span> have a property named “length”
              whose value is a <span class='estype'>Number</span> that is the length
              of the array.  If the array is <a class='dfnref' href='#dfn-fixed-length'>fixed length</a>,
              then this property has attributes <span class='descriptor'>{ [[Writable]]: <span class='esvalue'>false</span>, [[Enumerable]]: <span class='esvalue'>false</span>, [[Configurable]]: <span class='esvalue'>false</span> }</span>.
              Otherwise, the array is <a class='dfnref' href='#dfn-variable-length'>variable length</a>,
              and the property has attributes <span class='descriptor'>{ [[Writable]]: <span class='esvalue'>true</span>, [[Enumerable]]: <span class='esvalue'>false</span>, [[Configurable]]: <span class='esvalue'>false</span> }</span>.
            </p>
            <p>
              Platform array objects <span class='rfc2119'>MUST</span> always have a property named
              <a href='http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8' class='dfnref external'>ToString</a>(<var>i</var>) for every integer index 0 ≤ <var>i</var> &lt; <var>n</var>,
              where <var>n</var> is the length of the array.  These properties have attributes
              <span class='descriptor'>{ [[Writable]]: <span class='esvalue'>false</span>, [[Enumerable]]: <span class='esvalue'>true</span>, [[Configurable]]: <span class='esvalue'>false</span> }</span> if the array is
              <a class='dfnref' href='#dfn-read-only-array'>read only</a> and
              <span class='descriptor'>{ [[Writable]]: <span class='esvalue'>true</span>, [[Enumerable]]: <span class='esvalue'>true</span>, [[Configurable]]: <span class='esvalue'>false</span> }</span> otherwise.  The values of these properties
              <span class='rfc2119'>MUST</span> be the result of <a class='dfnref' href='#dfn-convert-idl-to-ecmascript-value'>converting</a>
              the value of the array element at the corresponding index to an ECMAScript value.
            </p>
            -->

            <p>
              Platform array objects appear to have a “length” property and a property
              for each element of the array.  The values and behaviors of these properties are
              implemented by the internal <span class="prop">[[GetOwnProperty]]</span>,
              <span class="prop">[[DefineOwnProperty]]</span> and <span class="prop">[[Delete]]</span>
              methods, which are also defined below.
            </p>

            <p>
              Platform array objects cannot be fixed; if <code>Object.freeze</code>, <code>Object.seal</code>
              or <code>Object.preventExtensions</code> is called on one, the function
              <span class="rfc2119">MUST</span> <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
            </p>

            <p>
              An ECMAScript value <var>V</var> is <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL array value of type <span class="idltype"><var>T</var>[]</span> as follows:
            </p>
            <ul>
              <li>If <var>V</var> is a <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
                whose element type is <var>T</var>, then return the array that the platform array object
                represents.</li>
              <li>Let <var>values</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to a <a href="#idl-sequence">sequence</a> with element
                type <var>T</var>.</li>
              <li>Let <var>n</var> be the length of <var>values</var>.</li>
              <li>Return a new <a class="dfnref" href="#dfn-fixed-length">fixed length</a>
                array of length <var>n</var> whose element values are the same as those
                in <var>values</var>.</li>
            </ul>

            <p>
              An IDL array value <var>V</var> of type <span class="idltype"><var>T</var>[]</span> is
              <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to an
              ECMAScript value as follows:
            </p>
            <ul>
              <li>If <var>V</var> is already represented by a <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>,
                then the ECMAScript value is that platform array object.</li>
              <li>Otherwise, the ECMAScript value is a newly created platform array object that represents <var>V</var>.</li>
            </ul>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following IDL defines an interface that has an
                <span class="idltype">unsigned short[]</span> attribute.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[Constructor]
interface LotteryResults {
  readonly attribute unsigned short[] numbers;
};</code></pre></div></div>
              <p>
                Assuming that the array has a <a class="dfnref" href="#dfn-fixed-length">fixed length</a>
                of 6, the following ECMAScript code illustrates how the array
                attribute in the above interface would behave:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var results = new LotteryResults();  <span class="comment">// results is a new platform object</span>
                                     <span class="comment">// implementing the LotteryResults interface.</span>

var a = [4, 8, 15, 16, 23, 42];      <span class="comment">// Numbers will be assigned into the array.</span>
for (var i = 0; i &lt; 6; i++) {
  results.numbers[i] = a[i];
}

results.numbers = a;                 <span class="comment">// This has no effect, since numbers is</span>
                                     <span class="comment">// read only.</span>

a[0] = 5;                            <span class="comment">// Change the array.</span>
results.numbers[0];                  <span class="comment">// Evaluates to 4, since results.numbers is</span>
                                     <span class="comment">// not a reference to 'a'.</span>

results.numbers[0] = 5;              <span class="comment">// Modifies the array stored in the platform</span>
                                     <span class="comment">// object.</span>
results.numbers[0];                  <span class="comment">// Now evaluates to 5.</span>

results.numbers[0] = 6.25;           <span class="comment">// Assigns 6 to the first element of the array</span>
                                     <span class="comment">// since that is how 6.5 is converted to an</span>
                                     <span class="comment">// unsigned short.</span>

results.numbers.length = 7;          <span class="comment">// Has no effect, since numbers is</span>
                                     <span class="comment">// fixed length.</span>
results.numbers[6];                  <span class="comment">// Evaluates to undefined.</span>

results.numbers.slice(0, 2);         <span class="comment">// Evaluates to an Array [6, 8].</span>

results.numbers.push(108);           <span class="comment">// Has no effect, since the definition of</span>
                                     <span class="comment">// push() relies on calling [[Put]] on a</span>
                                     <span class="comment">// non-existent array index property</span>
                                     <span class="comment">// and on "length", both of which will</span>
                                     <span class="comment">// be silently ignored.</span>

delete results.numbers[3];           <span class="comment">// Has no effect and evaluates to false,</span>
                                     <span class="comment">// since the array index properties are</span>
                                     <span class="comment">// non-configurable.</span></code></pre></div></div>
              <p>
                If passing an <span class="estype">Array</span> object to a <a class="dfnref" href="#dfn-platform-object">platform object</a>
                expecting an IDL array value, a new <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
                will be created to represent an IDL array value determined from that <span class="estype">Array</span>.
                If the <span class="idltype">LotteryResults</span> interface is instead defined as:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[Constructor]
interface LotteryResults {
  attribute unsigned short[] numbers;
};</code></pre></div></div>
              <p>
                then an <span class="estype">Array</span> object can be assigned to the
                “numbers” property.  Unless the prose accompanying
                the interface said otherwise, this would result in a
                <a class="dfnref" href="#dfn-fixed-length">fixed length</a>
                array of whatever length the <span class="estype">Array</span>
                has being assigned to the IDL attribute.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var results = new LotteryResults();

results.numbers.length;       <span class="comment">// Evaluates to 6.</span>

var a = [1, 3, 5];

results.numbers = a;          <span class="comment">// Assigns a fixed length IDL array of length 3 to</span>
                              <span class="comment">// the numbers attribute.</span>

results.numbers;              <span class="comment">// This now evaluates to a platform array object</span>
                              <span class="comment">// that represents the fixed length IDL array,</span>
                              <span class="comment">// not the Array object assigned in the previous</span>
                              <span class="comment">// statement.</span>

results.numbers == a;         <span class="comment">// Evaluates to false.</span>

results.numbers.length;       <span class="comment">// Evaluates to 3.</span>
                            
results.numbers.push(7);      <span class="comment">// Silently ignored in non-strict mode.</span>
results.numbers.length;       <span class="comment">// So this still evaluates to 3.</span></code></pre></div></div>
            </div>

            <div id="platform-array-object-getownproperty" class="section">
              <h5>4.2.25.1. Platform array object [[GetOwnProperty]] method</h5>

              <p>
                The internal <span class="prop">[[GetOwnProperty]]</span> method of every
                <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
                <var>A</var> with element type <var>T</var>
                <span class="rfc2119">MUST</span> behave as follows when
                called with property name <var>P</var>:
              </p>

              <ol class="algorithm">
                <li>Let <var>length</var> be the length of the IDL array that <var>A</var> represents.</li>
                <li>If <var>P</var> is “length”, then:
                  <ol>
                    <li>Let <var>desc</var> be a newly created <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10">property descriptor</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.10) with no fields.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the <span class="estype">Number</span> value for <var>length</var>.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">false</span> if <var>A</var> represents a
                      <a class="dfnref" href="#dfn-read-only-array">read only</a> or <a class="dfnref" href="#dfn-fixed-length">fixed length</a> array, and <span class="esvalue">true</span> otherwise.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Enumerable]]</span> to <span class="esvalue">false</span>.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">false</span>.</li>
                    <li>Return <var>desc</var>.</li>
                  </ol>
                </li>
                <li>Otherwise, if <var>P</var> is an <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4">array index</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4), then:
                  <ol>
                    <li>Let <var>index</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                    <li>If <var>index</var> ≥ <var>length</var>, then return <span class="esvalue">undefined</span>.</li>
                    <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> the <var>index</var>th element of
                      the IDL array that <var>A</var> represents to an IDL value of type <var>T</var>.</li>
                    <li>Let <var>desc</var> be a newly created <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10">property descriptor</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.10) with no fields.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to <var>value</var>.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">false</span> if <var>A</var> represents a <a class="dfnref" href="#dfn-read-only-array">read only array</a>,
                      and <span class="esvalue">true</span> otherwise.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Enumerable]]</span> and <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                    <li>Return <var>desc</var>.</li>
                  </ol>
                </li>
                <li>Return the result of calling the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.12.1">default <span class="prop">[[GetOwnProperty]]</span> internal method</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.12.1) on <var>A</var> passing <var>P</var> as the argument.</li>
              </ol>
            </div>

            <div id="platform-array-object-defineownproperty" class="section">
              <h5>4.2.25.2. Platform array object [[DefineOwnProperty]] method</h5>

              <p>
                The internal <span class="prop">[[DefineOwnProperty]]</span> method of every
                <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
                <var>A</var> with element type <var>T</var>
                <span class="rfc2119">MUST</span> behave as follows when passed
                property name <var>P</var>, property descriptor <var>Desc</var> and
                boolean flag <var>Throw</var>.
                The term “Reject”
                is used in the same sense as that defined in ECMA-262, namely, to mean “If <var>Throw</var> is
                <span class="esvalue">true</span>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="esvalue">TypeError</span></a> exception,
                otherwise return <span class="esvalue">false</span>”.
              </p>

              <ol class="algorithm">
                <li>Initialize <var>oldLen</var> to be the length of the IDL array that <var>A</var> represents.</li>

                <li>If <var>P</var> is “length”, then:
                  <ol>
                    <li>If the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.2" class="dfnref external">IsDataDescriptor</a>(<var>Desc</var>) is <span class="esvalue">false</span>, then Reject.</li>
                    <li>Let <var>newLen</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>Desc</var>.<span class="prop">[[Value]]</span>).</li>
                    <li>If <var>newLen</var> is not equal to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3" class="dfnref external">ToNumber</a>(<var>Desc</var>.<span class="prop">[[Value]]</span>), then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">RangeError</span></a> exception.</li>
                    <li>If <var>A</var> represents a <a class="dfnref" href="#dfn-read-only-array">read only</a> or <a class="dfnref" href="#dfn-fixed-length">fixed length</a> IDL array, then Reject.</li>

                    <li>If <var>newLen</var> &gt; <var>oldLen</var>:
                      <ol>
                        <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                          <span class="esvalue">undefined</span> to type <var>T</var>.</li>
                        <li>Update the IDL array that <var>A</var> represents to have a length of <var>newLen</var>, and set every
                          value of the IDL array at indices in the range [<var>oldLen</var>, <var>newLen</var>) to <var>value</var>.</li>
                      </ol>
                    </li>

                    <li>Otherwise, if <var>newLen</var> &lt; <var>oldLen</var>, then update the IDL array that <var>A</var> represents to have a length of <var>newLen</var>, discarding elements
                      at indices in the range [<var>newLen</var>, <var>oldLen</var>).</li>

                    <li>Return <b>true</b>.</li>
                  </ol>
                </li>

                <li>Otherwise, if <var>P</var> is an <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4">array index</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4), then:

                  <ol>
                    <li>If the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.2" class="dfnref external">IsDataDescriptor</a>(<var>Desc</var>) is <span class="esvalue">false</span>, then Reject.</li>

                    <li>Let <var>index</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                    <li>If <var>index</var> ≥ <var>oldLen</var>, then:
                      <ol>
                        <li>If <var>A</var> represents a <a class="dfnref" href="#dfn-read-only-array">read only</a> or <a class="dfnref" href="#dfn-fixed-length">fixed length</a>
                          IDL array, then Reject.</li>
                        <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                          <span class="esvalue">undefined</span> to type <var>T</var>.</li>
                        <li>Update the IDL array that <var>A</var> represents to have a length of <var>index</var> + 1, and set every
                          value of the IDL array at indices in the range [<var>oldLen</var>, <var>index</var>) to <var>value</var>.</li>
                      </ol>
                    </li>

                    <li>If <var>A</var> represents a <a class="dfnref" href="#dfn-read-only-array">read only</a> IDL array, then Reject.</li>
                    <li>Let <var>newValue</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                      <var>Desc</var>.<span class="prop">[[Value]]</span> to an IDL value of type <var>T</var>.</li>
                    <li>Set the <var>index</var>th element of the IDL array that <var>A</var> represents to <var>newValue</var>.</li>

                    <li>Return <b>true</b>.</li>
                  </ol>
                </li>

                <li>Set <var>Desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                <li>Return the result of calling the <a class="external" href="http://people.mozilla.org/jorendorff/es6-draft.html#sec-8.12.9">default <span class="prop">[[DefineOwnProperty]]</span> internal method</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.12.9) on <var>A</var> passing <var>P</var>, <var>Desc</var>, and <var>Throw</var> as arguments.</li>
              </ol>
            </div>

            <div id="platform-array-object-delete" class="section">
              <h5>4.2.25.3. Platform array object [[Delete]] method</h5>

              <p>
                The internal <span class="prop">[[Delete]]</span> method of every
                <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>
                <var>A</var> with element type <var>T</var>
                <span class="rfc2119">MUST</span> behave as follows when passed
                property name <var>P</var> and boolean flag <var>Throw</var>.
                The term “Reject” is used as defined in
                <a href="#platform-array-object-defineownproperty">section 4.2.25.2</a> above.
              </p>

              <ol class="algorithm">
                <li>If <var>P</var> is “length”, then Reject.</li>
                <li>Let <var>length</var> be the length of the IDL array that <var>A</var> represents.</li>
                <li>If <var>P</var> is an <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4">array index</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4), then:
                  <ol>
                    <li>Let <var>index</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                    <li>If <var>index</var> &lt; <var>length</var>, then Reject.</li>
                    <li>Return <span class="esvalue">true</span>.</li>
                  </ol>
                </li>
                <li>If <var>P</var> has an own property with name <var>P</var>, then remove it.</li>
                <li>Return <span class="esvalue">true</span>.</li>
              </ol>
            </div>

          </div>

          <div id="es-union" class="section">
            <h4>4.2.26. Union types</h4>

            <p>
              IDL <a href="#idl-union">union type</a> values are
              represented by ECMAScript values that correspond to the union’s
              <a class="dfnref" href="#dfn-union-member-type">member types</a>.
            </p>
            <p>
              To <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">convert an ECMAScript value</a> <var>V</var> to an IDL <a href="#idl-union">union type</a>
              value is done as follows:
            </p>
            <ol class="algorithm">
              <li>If the <a class="dfnref" href="#dfn-union-type">union type</a>
                <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a> and
                <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>,
                then return the IDL value <span class="idlvalue">null</span>.</li>
              <li>
                Let <var>types</var> be the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>
                of the <a class="dfnref" href="#dfn-union-type">union type</a>.
              </li>
              <li>
                If <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, but not a
                <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>, then:
                <ol>
                  <li>If <var>types</var> includes an <a href="#idl-interface">interface type</a> that <var>V</var>
                    implements, then return the IDL value that is a reference to the object <var>V</var>.</li>
                  <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value
                    that is a reference to the object <var>V</var>.</li>
                </ol>
              </li>
              <li>
                If <var>V</var> is a <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>,
                a native <span class="estype">Array</span> object, or
                a <a class="dfnref" href="#dfn-platform-object">platform object</a> that
                <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>, then:
                <ol>
                  <li>If <var>types</var> includes an <a href="#idl-array">array type</a>, then return the result of
                    <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to that type.</li>
                  <li>If <var>types</var> includes a <a href="#idl-sequence">sequence type</a>, then return the result of
                    <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to that type.</li>
                  <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value
                    that is a reference to the object <var>V</var>.</li>
                </ol>
              </li>
              <li>
                If <var>V</var> is a <span class="estype">Date</span> object, then:
                <ol>
                  <li>If <var>types</var> includes <a class="idltype" href="#idl-Date">Date</a>, then return the
                    result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to <a class="idltype" href="#idl-Date">Date</a>.</li>
                  <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value
                    that is a reference to the object <var>V</var>.</li>
                </ol>
              </li>
              <li>
                If <var>V</var> is any other type of object, then:
                <ol>
                  <li>If <var>types</var> includes a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>
                    type, then return the result of
                    <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to that interface type.</li>
                  <li>If <var>types</var> includes a <a class="dfnref" href="#dfn-callback-function">callback function</a>
                    type, then return the result of
                    <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to that callback function type.</li>
                  <li>If <var>types</var> includes a <a href="#idl-dictionary">dictionary type</a>, then return the
                    result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to that dictionary type.</li>
                  <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value
                    that is a reference to the object <var>V</var>.</li>
                </ol>
              </li>
              <li>
                If <var>types</var> includes <a class="idltype" href="#idl-DOMString">DOMString</a>, an
                <a href="#idl-enumeration">enumeration type</a> or <a class="idltype" href="#idl-ByteString">ByteString</a>,
                then return the result of
                <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that type.
              </li>
              <li>
                If <var>types</var> includes a <a class="dfnref" href="#dfn-primitive-type">primitive type</a>,
                then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that <a class="dfnref" href="#dfn-primitive-type">primitive type</a>.
              </li>
              <li>
                <a href="#ecmascript-throw" class="dfnref external">Throw a <span class="estype">TypeError</span></a>.
              </li>
            </ol>
            <p>
              An IDL union type value is
              <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted to an ECMAScript value</a>
              as follows.  If the value is an <a class="idltype" href="#idl-object">object</a>
              reference to a special object that represents an ECMAScript <span class="esvalue">undefined</span>
              value, then it is converted to the ECMAScript
              <span class="esvalue">undefined</span> value.  Otherwise,
              the rules for converting the <a class="dfnref" href="#dfn-specific-type">specific type</a>
              of the IDL union type value as described in this section (4.2).
            </p>
          </div>

          <div id="es-Date" class="section">
            <h4>4.2.27. Date</h4>

            <p>
              IDL <a class="idltype" href="#idl-Date">Date</a> values are represented by
              ECMAScript <span class="estype">Date</span> objects.
            </p>
            <p>
              An ECMAScript value <var>V</var> is
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a>
              to an IDL <a class="idltype" href="#idl-Date">Date</a> value
              by running the following algorithm:
            </p>
            <ol class="algorithm">
              <li>If <var>V</var> is not an ECMAScript <span class="estype">Date</span> object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>If the time value of <var>V</var> is <span class="esvalue">NaN</span>, then return the <span class="idlvalue">undefined</span> IDL <a class="idltype" href="#idl-Date">Date</a> value.</li>
              <li>Return the IDL <a class="idltype" href="#idl-Date">Date</a> value that represents the same time value as <var>V</var>.</li>
            </ol>
            <p>
              An IDL <a class="idltype" href="#idl-Date">Date</a> value <var>V</var> is <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a>
              to an ECMAScript value by running the following the algorithm:
            </p>
            <ol class="algorithm">
              <li>If <var>V</var> is the <span class="idlvalue">undefined</span> <a class="idltype" href="#idl-Date">Date</a> value,
              then return a newly constructed ECMAScript <span class="estype">Date</span> object whose time value is
              <span class="esvalue">NaN</span>.</li>
              <li>Otherwise, return a newly constructed ECMAScript <span class="estype">Date</span> object that represents
              the same millisecond as <var>V</var>.</li>
            </ol>
            <p>
              <a class="dfnref" href="#dfn-platform-object">Platform objects</a> returning an ECMAScript <span class="estype">Date</span> object from <a class="dfnref" href="#dfn-attribute">attributes</a>,
              <a class="dfnref" href="#dfn-operation">operations</a> or <a class="dfnref" href="#dfn-exception-field">exception field</a>
              do not hold on to a reference to the <span class="estype">Date</span> object.  A script that modifies a <span class="estype">Date</span> object
              so retrieved cannot affect the platform object it was retrieved from.
            </p>
          </div>

        </div>

        <div id="es-extended-attributes" class="section">
          <h3>4.3. ECMAScript-specific extended attributes</h3>

          <p>
            This section defines a number of
            <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
            whose presence affects only the ECMAScript binding.
          </p>

          <div id="ArrayClass" class="section">
            <h4>4.3.1. [ArrayClass]</h4>

            <p>
              If the <a class="xattr" href="#ArrayClass">[ArrayClass]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>
              that is not defined to <a class="dfnref" href="#dfn-inherit">inherit</a>
              from another, it indicates that the internal <span class="prop">[[Prototype]]</span>
              property of its <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              will be the <span class="estype">Array</span> prototype object rather than
              the <span class="estype">Object</span> prototype object.  This allows
              <span class="estype">Array</span> methods to be used more easily
              with objects implementing the interface.
            </p>
            <p>
              The <a class="xattr" href="#ArrayClass">[ArrayClass]</a> extended attribute
              <span class="rfc2119">MUST</span> <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
              It <span class="rfc2119">MUST NOT</span> be used on an interface that
              has any <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                Interfaces using <a class="xattr" href="#ArrayClass">[ArrayClass]</a> will
                need to define a “length” <a class="dfnref" href="#dfn-attribute">attribute</a>
                of type <span class="estype">unsigned long</span> that exposes the length
                of the array-like object, in order for the inherited <span class="estype">Array</span>
                methods to operate correctly.  Such interfaces would typically also
                <a class="dfnref" href="#dfn-support-indexed-properties">support indexed properties</a>,
                which would provide access to the array elements.
              </p>
            </div>
            <p>
              See <a href="#interface-prototype-object">section 4.4.3</a> for the
              specific requirements that the use of <a class="xattr" href="#ArrayClass">[ArrayClass]</a>
              entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                defines two <a class="dfnref" href="#dfn-interface">interfaces</a>
                that use <a class="xattr" href="#ArrayClass">[ArrayClass]</a>.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[ArrayClass]
interface ItemList {
  attribute unsigned long length;
  getter object getItem(unsigned long index);
  creator setter object setItem(unsigned long index, object item);
  deleter void removeItem(unsigned long index);
};

[ArrayClass]
interface ImmutableItemList {
  readonly attribute unsigned long length;
  getter object getItem(unsigned long index);
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of the above two interfaces,
                with appropriate definitions for getItem, setItem and removeItem,
                <span class="estype">Array</span> methods to inspect and
                modify the array-like object can be used.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var list = getItemList();  <span class="comment">// Obtain an instance of ItemList.</span>

list.concat();             <span class="comment">// Clone the ItemList into an Array.</span>
list.pop();                <span class="comment">// Remove an item from the ItemList.</span>
list.unshift({ });         <span class="comment">// Insert an item at index 0.</span></code></pre></div></div>
              <p>
                <span class="idltype">ImmutableItemList</span> has a read only
                length <a class="dfnref" href="#dfn-attribute">attribute</a>
                and no indexed property <a class="dfnref" href="#dfn-indexed-property-setter">setter</a>,
                <a class="dfnref" href="#dfn-indexed-property-creator">creator</a> or
                <a class="dfnref" href="#dfn-indexed-property-deleter">deleter</a>.  The
                mutating <span class="estype">Array</span> methods will generally not
                succeed on objects implementing <span class="idltype">ImmutableItemList</span>.
                The exact behavior depends on the definition of <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4.4">the <span class="estype">Array</span> methods
                  themselves</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4.4).
              </p>
            </div>
          </div>

          <div id="Clamp" class="section">
            <h4>4.3.2. [Clamp]</h4>

            <p>
              If the <a class="xattr" href="#Clamp">[Clamp]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-operation">operation</a> argument,
              writable <a class="dfnref" href="#dfn-attribute">attribute</a> or
              <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
              whose type is one of the <a class="dfnref" href="#dfn-integer-type">integer types</a>,
              it indicates that when an ECMAScript <span class="estype">Number</span> is
              converted to the IDL type, out of range values will be clamped to the range
              of valid values, rather than using the operators that use a modulo operation
              (<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.5" class="dfnref external">ToInt32</a>, <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>, etc.).
            </p>
            <p>
              The <a class="xattr" href="#Clamp">[Clamp]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              The <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a>
              attribute, or an attribute, operation argument or dictionary member
              that is not of an integer type.  It also <span class="rfc2119">MUST NOT</span>
              be used in conjunction with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a>
              extended attribute.
            </p>
            <p>
              See the rules for converting ECMAScript values to the various IDL integer
              types in <a href="#es-type-mapping">section 4.2</a>
              for the specific requirements that the use of
              <a class="xattr" href="#Clamp">[Clamp]</a> entails.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                In the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>,
                two <a class="dfnref" href="#dfn-operation">operations</a> are declared that
                take three <a class="idltype" href="#idl-octet">octet</a> arguments; one uses
                the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                on all three arguments, while the other does not:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface GraphicsContext {
  void setColor(octet red, octet green, octet blue);
  void setColorClamped([Clamp] octet red, [Clamp] octet green, [Clamp] octet blue);
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of the IDL, a call to setColorClamped with
                <span class="estype">Number</span> values that are out of range for an
                <a class="idltype" href="#idl-octet">octet</a> are clamped to the range [0, 255].
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">// Get an instance of GraphicsContext.
var context = getGraphicsContext();

// Calling the non-[Clamp] version uses ToUint8 to coerce the Numbers to octets.
// This is equivalent to calling setColor(255, 255, 1).
context.setColor(-1, 255, 257);

// Call setColorClamped with some out of range values.
// This is equivalent to calling setColorClamped(0, 255, 255).
context.setColorClamped(-1, 255, 257);</code></pre></div></div>
            </div>
          </div>

          <div id="Constructor" class="section">
            <h4>4.3.3. [Constructor]</h4>

            <p>
              If the <a class="xattr" href="#Constructor">[Constructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that
              the <a class="dfnref" href="#dfn-interface-object">interface object</a> for this interface
              will have an <span class="prop">[[Construct]]</span> internal method,
              allowing objects implementing the interface to be constructed.
              Multiple <a class="xattr" href="#Constructor">[Constructor]</a> extended
              attributes may appear on a given interface.
            </p>
            <p>
              The <a class="xattr" href="#Constructor">[Constructor]</a>
              extended attribute <span class="rfc2119">MUST</span> either
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a> or
              <a class="dfnref" href="#dfn-xattr-argument-list">take an argument list</a>.
              The bare form, <code>[Constructor]</code>, has the same meaning as
              using an empty argument list, <code>[Constructor()]</code>.  For each
              <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute
              on the interface, there will be a way to construct an object that implements
              the interface by passing the specified arguments.
            </p>
            <p>
              If the <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute
              is specified on an interface, then the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              extended attribute <span class="rfc2119">MUST NOT</span> also be specified on that interface.
            </p>
            <p>
              The <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
            </p>
            <p>
              See <a href="#es-interface-call">section 4.4.1.1</a>
              below for details on how a constructor
              is to be implemented.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following IDL defines two interfaces.  The second has the
                <a class="xattr" href="#Constructor">[Constructor]</a> extended
                attribute, while the first does not.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface NodeList {
  Node item(unsigned long index);
  readonly attribute unsigned long length;
};

[Constructor,
 Constructor(float radius)]
interface Circle {
  attribute float r;
  attribute float cx;
  attribute float cy;
  readonly attribute float circumference;
};</code></pre></div></div>
              <p>
                An ECMAScript implementation supporting these interfaces would
                have a <span class="prop">[[Construct]]</span> property on the
                <span class="idltype">Circle</span> interface object which would
                return a new object that implements the interface.  It would take
                either zero or one argument.  The
                <span class="idltype">NodeList</span> interface object would not
                have a <span class="prop">[[Construct]]</span> property.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var x = new Circle();      <span class="comment">// The uses the zero-argument constructor to create a</span>
                           <span class="comment">// reference to a platform object that implements the</span>
                           <span class="comment">// Circle interface.</span>

var y = new Circle(1.25);  <span class="comment">// This also creates a Circle object, this time using</span>
                           <span class="comment">// the one-argument constructor.</span>

var z = new NodeList();    <span class="comment">// This would throw a TypeError, since no</span>
                           <span class="comment">// [Constructor] is declared.</span></code></pre></div></div>
            </div>
          </div>

          <div id="EnforceRange" class="section">
            <h4>4.3.4. [EnforceRange]</h4>

            <p>
              If the <a class="xattr" href="#EnforceRange">[EnforceRange]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-operation">operation</a> argument,
              writable <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> or
              <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
              whose type is one of the <a class="dfnref" href="#dfn-integer-type">integer types</a>,
              it indicates that when an ECMAScript <span class="estype">Number</span> is
              converted to the IDL type, out of range values will cause an exception to
              be thrown, rather than converted to being a valid value using the operators that use a modulo operation
              (<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.5" class="dfnref external">ToInt32</a>, <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>, etc.).  The <span class="estype">Number</span>
              will be rounded towards zero before being checked against its range.
            </p>
            <p>
              The <a class="xattr" href="#EnforceRange">[EnforceRange]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              The <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a>
              attribute, a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>,
              or an attribute, operation argument or dictionary member
              that is not of an integer type.  It also <span class="rfc2119">MUST NOT</span>
              be used in conjunction with the <a class="xattr" href="#Clamp">[Clamp]</a>
              extended attribute.
            </p>
            <p>
              See the rules for converting ECMAScript values to the various IDL integer
              types in <a href="#es-type-mapping">section 4.2</a>
              for the specific requirements that the use of
              <a class="xattr" href="#EnforceRange">[EnforceRange]</a> entails.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                In the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>,
                two <a class="dfnref" href="#dfn-operation">operations</a> are declared that
                take three <a class="idltype" href="#idl-octet">octet</a> arguments; one uses
                the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                on all three arguments, while the other does not:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface GraphicsContext {
  void setColor(octet red, octet green, octet blue);
  void setColorEnforcedRange([EnforceRange] octet red, [EnforceRange] octet green, [EnforceRange] octet blue);
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of the IDL, a call to setColorEnforcedRange with
                <span class="estype">Number</span> values that are out of range for an
                <a class="idltype" href="#idl-octet">octet</a> will result in an exception being
                thrown.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">// Get an instance of GraphicsContext.
var context = getGraphicsContext();

// Calling the non-[EnforceRange] version uses ToUint8 to coerce the Numbers to octets.
// This is equivalent to calling setColor(255, 255, 1).
context.setColor(-1, 255, 257);

// When setColorEnforcedRange is called, Numbers are rounded towards zero.
// This is equivalent to calling setColor(0, 255, 255).
context.setColorEnforcedRange(-0.9, 255, 255.2);

// The following will cause a TypeError to be thrown, since even after
// rounding the first and third argument values are out of range.
context.setColorEnforcedRange(-1, 255, 256);</code></pre></div></div>
            </div>
          </div>

          <div id="ImplicitThis" class="section">
            <h4>4.3.5. [ImplicitThis]</h4>
            <p>
              If the <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
              it indicates that when a <span class="estype">Function</span> corresponding
              to one of the interface’s <a class="dfnref" href="#dfn-operation">operations</a>
              is invoked with the <span class="esvalue">null</span> or <span class="esvalue">undefined</span>
              value as the <span class="esvalue">this</span> value, that the ECMAScript global
              object will be used as the <span class="esvalue">this</span> value instead.
              This is regardless of whether the calling code is in strict mode.
            </p>
            <p>
              The <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              See <a href="#es-operations">section 4.4.7</a>
              for the specific requirements that the use of
              <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a> entails.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>The <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              is intended for use on the <span class="idltype">Window</span>
              <a class="dfnref" href="#dfn-interface">interface</a> as defined
              in HTML5 (<a href="#ref-HTML5">[HTML5]</a>, section 5.2).</p>
            </div>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>In the following example, the <span class="idltype">Window</span>
              <a class="dfnref" href="#dfn-interface">interface</a> is defined
              with the <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[ImplicitThis]
interface Window {
  ...
  attribute DOMString name;
  void alert(DOMString message);
};</code></pre></div></div>
              <p>Since the <span class="idltype">Window</span> object is used as
              the ECMAScript global object, calls to its functions can be made
              without an explicit object, even in strict mode:</p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">"use strict";

window.alert("hello");      <span class="comment">// Calling alert with an explicit window object works.</span>
alert("hello");             <span class="comment">// This also works, even though we are in strict mode.</span>
alert.call(null, "hello");  <span class="comment">// As does passing null explicitly as the this value.</span>

<span class="comment">// This does not apply to getters for attributes on the interface, though.</span>
<span class="comment">// The following will throw a TypeError.</span>
Object.getOwnPropertyDescriptor(Window.prototype, "name").get.call(null);</code></pre></div></div>
            </div>
          </div>

          <div id="LenientThis" class="section">
            <h4>4.3.6. [LenientThis]</h4>
            <p>
              If the <a class="xattr" href="#LenientThis">[LenientThis]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>,
              it indicates that invocations of the attribute’s getter or setter
              with a <span class="esvalue">this</span> value that is not an
              object that implements the <a class="dfnref" href="#dfn-interface">interface</a>
              on which the attribute appears will be ignored.
            </p>
            <p>
              The <a class="xattr" href="#LenientThis">[LenientThis]</a> extended attribute
              <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
              It <span class="rfc2119">MUST NOT</span> be used on a
              <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Specifications <span class="rfc2119">SHOULD NOT</span> use <a href="#LenientThis" class="xattr">[LenientThis]</a>
                unless required for compatibility reasons.  Specification authors who
                wish to use this feature are strongly advised to discuss this on the 
                <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.
              </p>
            </div>
            <p>
              See the <a href="#es-attributes">Attributes</a> section below for how
              <a class="xattr" href="#LenientThis">[LenientThis]</a>
              is to be implemented.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following IDL fragment defines an interface that uses the
                <a class="xattr" href="#LenientThis">[LenientThis]</a> extended
                attribute.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Example {
  [LenientThis] attribute DOMString x;
  attribute DOMString y;
};</code></pre></div></div>
              <p>
                An ECMAScript implementation that supports this interface will
                allow the getter and setter of the accessor property that corresponds
                to x to be invoked with something other than an <span class="idltype">Example</span>
                object.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var example = getExample();  <span class="comment">// Get an instance of Example.</span>
var obj = { };

<span class="comment">// Fine.</span>
example.x;

<span class="comment">// Ignored, since the this value is not an Example object and [LenientThis] is used.</span>
Object.getOwnPropertyDescriptor(Example.prototype, "x").get.call(obj);

<span class="comment">// Also ignored, since Example.prototype is not an Example object and [LenientThis] is used.</span>
Example.prototype.x;

<span class="comment">// Throws a TypeError, since Example.prototype is not an Example object.</span>
Example.prototype.y;</code></pre></div></div>
            </div>
          </div>

          <div id="NamedConstructor" class="section">
            <h4>4.3.7. [NamedConstructor]</h4>
            <p>
              If the <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
              it indicates that the ECMAScript global object will have a property with the
              specified name whose value is a constructor function that can
              create objects that implement the interface.
              Multiple <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended
              attributes may appear on a given interface.
            </p>
            <p>
              The <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              extended attribute <span class="rfc2119">MUST</span> either
              <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a> or
              <a class="dfnref" href="#dfn-xattr-named-argument-list">take a named argument list</a>.
              The first form, <code>[NamedConstructor=<a class="sym" href="#prod-identifier">identifier</a>]</code>, has the same meaning as
              using an empty argument list, <code>[NamedConstructor=<a class="sym" href="#prod-identifier">identifier</a>()]</code>.  For each
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute
              on the interface, there will be a way to construct an object that implements
              the interface by passing the specified arguments to the constructor function
              that is the value of the aforementioned property.
            </p>
            <p>
              The identifier used for the named constructor <span class="rfc2119">MUST NOT</span>
              be the same as that used by an <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              extended attribute on another interface, <span class="rfc2119">MUST NOT</span>
              be the same as an identifier of an interface (or <a class="dfnref" href="#dfn-exception">exception</a>)
              that has an <a class="dfnref" href="#dfn-interface-object">interface object</a>
              (or <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a>),
              and <span class="rfc2119">MUST NOT</span> be one of the
              <a class="dfnref" href="#dfn-reserved-identifier">reserved identifiers</a>.
            </p>
            <p>
              The <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
            </p>
            <p>
              See <a href="#named-constructors">section 4.4.2</a>
              below for details on how named constructors
              are to be implemented.
            </p>

            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following IDL defines an interface that uses the
                <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended
                attribute.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[NamedConstructor=Audio,
 NamedConstructor=Audio(DOMString src)]
interface HTMLAudioElement : HTMLMediaElement {
  <span class="comment">// ...</span>
};</code></pre></div></div>
              <p>
                An ECMAScript implementation that supports this interface will
                allow the construction of <span class="estype">HTMLAudioElement</span>
                objects using the <span class="estype">Audio</span> constructor.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">typeof Audio;                   <span class="comment">// Evaluates to 'function'.</span>

var a1 = new Audio();           <span class="comment">// Creates a new object that implements</span>
                                <span class="comment">// HTMLAudioElement, using the zero-argument</span>
                                <span class="comment">// constructor.</span>

var a2 = new Audio('a.flac');   <span class="comment">// Creates an HTMLAudioElement using the</span>
                                <span class="comment">// one-argument constructor.</span></code></pre></div></div>
            </div>
          </div>

          <div id="NoInterfaceObject" class="section">
            <h4>4.3.8. [NoInterfaceObject]</h4>

            <p>
              If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
              it indicates that an
              <a class="dfnref" href="#dfn-interface-object">interface object</a>
              will not exist for the interface in the ECMAScript binding.  Similarly,
              if it appears on an <a class="dfnref" href="#dfn-exception">exception</a>
              it indicates that an
              <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a>
              will not exist for the exception in the ECMAScript binding.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
                <span class="rfc2119">SHOULD NOT</span> be used on interfaces that are not
                solely used as <a class="dfnref" href="#dfn-supplemental-interface">supplemental</a> interfaces,
                unless there are clear Web compatibility reasons for doing so.  Specification authors who
                wish to use this feature are strongly advised to discuss this on the 
                <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.
              </p>
            </div>
            <p>
              The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
              <span class="rfc2119">MUST</span> <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
              is specified on an interface, then the <a class="xattr" href="#Constructor">[Constructor]</a>
              extended attribute <span class="rfc2119">MUST NOT</span> also be specified on that interface.
              A <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute is fine,
              however.
            </p>
            <p>
              The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be specified on an interface that has any
              <a class="dfnref" href="#dfn-static-operation">static operations</a> defined on it.
            </p>
            <p>
              The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be specified on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>,
              as <a class="dfnref" href="#dfn-interface-object">interface objects</a> never exist
              for callback interfaces.
            </p>
            <p>
              See <a href="#es-interfaces">section 4.2.19</a>
              and <a href="#es-exceptions">section 4.9</a>
              for the specific requirements that the use of
              <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL
                  fragment</a> defines two interfaces, one whose interface object
                is exposed on the ECMAScript global object, and one whose isn’t:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Storage {
  void addEntry(unsigned long key, any value);
};

[NoInterfaceObject]
interface Query {
  any lookupEntry(unsigned long key);
};</code></pre></div></div>
              <p>
                An ECMAScript implementation of the above IDL would allow
                manipulation of <span class="idltype">Storage</span>’s
                prototype, but not <span class="idltype">Query</span>’s.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">typeof Storage;                        <span class="comment">// evaluates to "object"</span>

<span class="comment">// Add some tracing alert() call to Storage.addEntry.</span>
var fn = Storage.prototype.addEntry;
Storage.prototype.addEntry = function(key, value) {
  alert('Calling addEntry()');
  return fn.call(this, key, value);
};

typeof Query;                          <span class="comment">// evaluates to "undefined"</span>
var fn = Query.prototype.lookupEntry;  <span class="comment">// exception, Query isn’t defined</span>
</code></pre></div></div>
            </div>
          </div>

          <div id="OverrideBuiltins" class="section">
            <h4>4.3.9. [OverrideBuiltins]</h4>

            <p>
              If the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
              it indicates that for a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing the interface,
              properties corresponding to all of
              the object’s <a class="dfnref" href="#dfn-supported-property-names">supported property names</a>
              will appear to be on the object,
              regardless of what other properties exist on the object or its
              prototype chain.  This means that named properties will always shadow
              any properties that would otherwise appear on the object.
              This is in contrast to the usual behavior, which is for named properties
              to be exposed only if there is no property with the
              same name on the object itself or somewhere on its prototype chain.
            </p>
            <p>
              The <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>
              and <span class="rfc2119">MUST NOT</span> appear on an interface
              that does not define a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>
              or that also is declared with the <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              extended attribute.  If the extended attribute is specified on
              a <a class="dfnref" href="#dfn-partial-interface">partial interface</a>
              definition, then that partial interface definition <span class="rfc2119">MUST</span>
              be the part of the interface definition that defines
              the <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.
            </p>
            <p>
              See <a href="#indexed-and-named-properties">section 4.6.1</a>
              and <a href="#defineownproperty">section 4.6.3</a>
              for the specific requirements that the use of
              <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                defines two <a class="dfnref" href="#dfn-interface">interfaces</a>,
                one that has a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>
                and one that does not.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface StringMap {
  readonly attribute unsigned long length;
  getter DOMString lookup(DOMString key);
};

[OverrideBuiltins]
interface StringMap2 {
  readonly attribute unsigned long length;
  getter DOMString lookup(DOMString key);
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of these two interfaces,
                getting certain properties on objects implementing
                the interfaces will result in different values:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code"><span class="comment">// Obtain an instance of StringMap.  Assume that it has "abc", "length" and</span>
<span class="comment">// "toString" as supported property names.</span>
var map1 = getStringMap();  

<span class="comment">// This invokes the named property getter.</span>
map1.abc;

<span class="comment">// This fetches the "length" property on the object that corresponds to the</span>
<span class="comment">// length attribute.</span>
map1.length;

<span class="comment">// This fetches the "toString" property from the object's prototype chain.</span>
map1.toString;


<span class="comment">// Obtain an instance of StringMap2.  Assume that it also has "abc", "length"</span>
<span class="comment">// and "toString" as supported property names.</span>
var map2 = getStringMap2();  

<span class="comment">// This invokes the named property getter.</span>
map2.abc;

<span class="comment">// This also invokes the named property getter, despite the fact that the "length"</span>
<span class="comment">// property on the object corresponds to the length attribute.</span>
map2.length;

<span class="comment">// This too invokes the named property getter, despite the fact that "toString" is</span>
<span class="comment">// a property in map2's prototype chain.</span>
map2.toString;</code></pre></div></div>
            </div>
          </div>

          <!--
          <div id='PrototypeRoot' class='section'>
            <h4>[PrototypeRoot]</h4>

            <div class='ednote'>
              <p>Ian suggests that <span class='xattr'>[PrototypeRoot]</span> might not need to exist.
                <a href='http://www.w3.org/mid/Pine.LNX.4.62.0906200730520.16244@hixie.dreamhostps.com'>(Mail.)</a></p>
            </div>
            <p>
              If the <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>
              appears on an <a class='dfnref' href='#dfn-interface'>interface</a>
              <var>A</var>, it indicates that it serves as the root of a prototype
              ancestor hierarchy.  For any interface <var>B</var> that has
              <var>A</var> as an ancestor, each interface in the inheritance
              tree starting with an interface that <var>B</var> inherits from and
              ending with <var>A</var> will be a
              <a class='dfnref' href='#dfn-prototype-ancestor'>prototype ancestor</a>
              of <var>B</var>.  It also plays a role in determining the value
              of a host object’s internal <span class='prop'>[[Prototype]]</span>
              property value when the object implements more than one interface.
              See <a href='#interface-prototype-object'>section <?sref interface-prototype-object?></a>
              and <a href='#host-objects'>section <?sref host-objects?></a> for details.
            </p>
            <p>
              The <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              extended attribute <span class='rfc2119'>MUST</span> <a class='dfnref' href='#dfn-xattr-no-arguments'>take no arguments</a>,
              and <span class='rfc2119'>MUST NOT</span> appear on an
              <a class='dfnref' href='#dfn-interface'>interface</a> that
              <a class='dfnref' href='#dfn-inherit'>inherits</a> from another
              interface.  An interface inheritance hierarchy
              <span class='rfc2119'>MUST NOT</span> have multiple paths from
              one interface to another that has the
              <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              extended attribute.
            </p>
            <div class='example'>
              <p>
                The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
                defines a hierarchy of <a class='dfnref' href='#dfn-interface'>interfaces</a>
                whose rootmost interface is annotated with the
                <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
                <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>.
                Other interfaces are defined to be implemented on objects that
                implement this prototype root interface, but properties for
                these other interfaces will be made available in the prototype
                chain through a <a class='dfnref' href='#dfn-mixin-prototype-object'>mixin prototype object</a>.
              </p>
              <x:codeblock language='idl'>[PrototypeRoot]
interface Node {
  readonly attribute unsigned short nodeType;
};

interface Element : Node {
  void appendChild(Node n);
  <span class='comment'>// ...</span>
};

interface HTMLElement : Element {
  void focus();
  <span class='comment'>// ...</span>
};

interface EventTarget {
  void addEventListener(/* ... */);
  <span class='comment'>// ...</span>
};

Node implements EventTarget;</x:codeblock>
              <p>
                An ECMAScript implementation implementing these interfaces would
                have a prototype chain as follows, where <var>E</var> is an
                instance of <span class='idltype'>HTMLElement</span>:
              </p>
              <div class='diagram'>
                <object data='PrototypeRoot-example.svg' type='image/svg+xml' style='width: 37em; height: 45em' width='1' height='1'>
                  <img src='PrototypeRoot-example.png' width='500' height='608' alt='The prototype of E is the mixin prototype object for E.  This mixin prototype object has an "addEventListener" property.  The prototype of the mixin prototype object is the HTMLElement prototype object, whose prototype is the Element prototype object, whose prototype is the Node prototype object, whose prototype is the Object prototype object.'/>
                </object>
              </div>
            </div>
          </div>
          -->

          <div id="PutForwards" class="section">
            <h4>4.3.10. [PutForwards]</h4>

            <p>
              If the <a class="xattr" href="#PutForwards">[PutForwards]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
              <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> declaration whose type is
              an <a href="#idl-interface">interface type</a>,
              it indicates that assigning to the attribute will have specific behavior.
              Namely, the assignment is “forwarded” to the attribute (specified by
              the extended attribute argument) on the object that is currently
              referenced by the attribute being assigned to.
            </p>
            <p>
              The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended
              attribute <span class="rfc2119">MUST</span> <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a>.
              Assuming that:
            </p>
            <ul>
              <li>
                <var>A</var> is the <a class="dfnref" href="#dfn-attribute">attribute</a>
                on which the <a class="xattr" href="#PutForwards">[PutForwards]</a>
                extended attribute appears,
              </li>
              <li>
                <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>
                on which <var>A</var> is declared,
              </li>
              <li>
                <var>J</var> is the <a href="#idl-interface">interface type</a>
                that <var>A</var> is declared to be of, and
              </li>
              <li>
                <var>N</var> is the <a class="dfnref" href="#dfn-identifier">identifier</a>
                argument of the extended attribute,
              </li>
            </ul>
            <p>
              then there <span class="rfc2119">MUST</span> be another
              <a class="dfnref" href="#dfn-attribute">attribute</a> <var>B</var>
              declared on <var>J</var> whose <a class="dfnref" href="#dfn-identifier">identifier</a>
              is <var>N</var>.  Assignment of a value to the attribute <var>A</var>
              on an object implementing <var>I</var> will result in that value
              being assigned to attribute <var>B</var> of the object that <var>A</var>
              references, instead.
            </p>
            <p>
              Note that <a class="xattr" href="#PutForwards">[PutForwards]</a>-annotated
              <a class="dfnref" href="#dfn-attribute">attributes</a> can be
              chained.  That is, an attribute with the <a class="xattr" href="#PutForwards">[PutForwards]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              can refer to an attribute that itself has that extended attribute.
              There <span class="rfc2119">MUST NOT</span> exist a cycle in a
              chain of forwarded assignments.  A cycle exists if, when following
              the chain of forwarded assignments, a particular attribute on
              an <a class="dfnref" href="#dfn-interface">interface</a> is
              encountered more than once.
            </p>
            <p>
              An attribute with the <a class="xattr" href="#PutForwards">[PutForwards]</a>
              extended attribute <span class="rfc2119">MUST NOT</span> also be declared
              with the <a class="xattr" href="#Replaceable">[Replaceable]</a>
              extended attribute.
            </p>
            <p>
              The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on a
              <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
            </p>
            <p>
              The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on an attribute declared on
              a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
            </p>
            <p>
              See the <a href="#es-attributes">Attributes</a> section below for how
              <a class="xattr" href="#PutForwards">[PutForwards]</a>
              is to be implemented.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines interfaces for names and people.
                The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended
                attribute is used on the <span class="idlattr">name</span> attribute
                of the <span class="idltype">Person</span> interface to indicate
                that assignments to that attribute result in assignments to the
                <span class="idlattr">full</span> attribute of the
                <span class="idltype">Person</span> object:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Name {
  attribute DOMString full;
  attribute DOMString family;
  attribute DOMString given;
};

interface Person {
  [PutForwards=full] readonly attribute Name name;
  attribute unsigned short age;
};</code></pre></div></div>
              <p>
                In the ECMAScript binding, this would allow assignments to the
                “name” property:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var p = getPerson();           <span class="comment">// Obtain an instance of Person.</span>

p.name = 'John Citizen';       <span class="comment">// This statement...</span>
p.name.full = 'John Citizen';  <span class="comment">// ...has the same behavior as this one.</span></code></pre></div></div>
            </div>
          </div>

          <div id="Replaceable" class="section">
            <h4>4.3.11. [Replaceable]</h4>

            <p>
              If the <a class="xattr" href="#Replaceable">[Replaceable]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
              <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>,
              it indicates that setting the corresponding property on the
              <a class="dfnref" href="#dfn-platform-object">platform object</a> will result in
              an own property with the same name being created on the object
              which has the value being assigned.  This property will shadow
              the accessor property corresponding to the attribute, which
              exists on the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.
            </p>
            <p>
              The <a class="xattr" href="#Replaceable">[Replaceable]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              An attribute with the <a class="xattr" href="#Replaceable">[Replaceable]</a>
              extended attribute <span class="rfc2119">MUST NOT</span> also be declared
              with the <a class="xattr" href="#PutForwards">[PutForwards]</a>
              extended attribute.
            </p>
            <p>
              The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on a
              <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
            </p>
            <p>
              The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be used on an attribute declared on
              a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
            </p>
            <p>
              See <a href="#es-attributes">section 4.4.6</a>
              for the specific requirements that the use of
              <a class="xattr" href="#Replaceable">[Replaceable]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
                defines an <a class="dfnref" href="#dfn-interface">interface</a>
                with an <a class="dfnref" href="#dfn-operation">operation</a>
                that increments a counter, and an <a class="dfnref" href="#dfn-attribute">attribute</a>
                that exposes the counter’s value, which is initially 0:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Counter {
  [Replaceable] readonly attribute unsigned long value;
  void increment();
};</code></pre></div></div>
              <p>
                Assigning to the “value” property
                on a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing <span class="idltype">Counter</span>
                will shadow the property that corresponds to the
                <a class="dfnref" href="#dfn-attribute">attribute</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var counter = getCounter();                              <span class="comment">// Obtain an instance of Counter.</span>
counter.value;                                           <span class="comment">// Evaluates to 0.</span>

counter.hasOwnProperty("value");                         <span class="comment">// Evaluates to false.</span>
Object.getPrototypeOf(counter).hasOwnProperty("value");  <span class="comment">// Evaluates to true.</span>

counter.increment();
counter.increment();
counter.value;                                           <span class="comment">// Evaluates to 2.</span>

counter.value = 'a';                                     <span class="comment">// Shadows the property with one that is unrelated</span>
                                                         <span class="comment">// to Counter::value.</span>

counter.hasOwnProperty("value");                         <span class="comment">// Evaluates to true.</span>

counter.increment();
counter.value;                                           <span class="comment">// Evaluates to 'a'.</span>

delete counter.value;                                    <span class="comment">// Reveals the original property.</span>
counter.value;                                           <span class="comment">// Evaluates to 3.</span></code></pre></div></div>
            </div>
          </div>

          <div id="NamedPropertiesObject" class="section">
            <h4>4.3.12. [NamedPropertiesObject]</h4>

            <p>
              If the <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
              then for objects that <a class="dfnref" href="#dfn-support-named-properties">support named properties</a>
              these properties will be exposed on an object in the prototype chain
              rather than on the object itself, which is the normal behavior.  The result of this
              is that the named properties will appear to be replaceable.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Specifications <span class="rfc2119">SHOULD NOT</span> use <a href="#NamedPropertiesObject" class="xattr">[NamedPropertiesObject]</a>
                unless required for compatibility reasons.  Specification authors who
                wish to use this feature are strongly advised to discuss this on the 
                <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.
              </p>
            </div>
            <p>
              The <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              If the <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              is used on an <a class="dfnref" href="#dfn-interface">interface</a>, then:
            </p>
            <ul>
              <li>The interface <span class="rfc2119">MUST</span> define a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.</li>
              <li>The interface <span class="rfc2119">MUST NOT</span> define a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a>,
                <a class="dfnref" href="#dfn-named-property-creator">creator</a> or <a class="dfnref" href="#dfn-named-property-deleter">deleter</a>.</li>
              <li>The interface <span class="rfc2119">MUST NOT</span> also be declared with the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
                extended attribute.</li>
              <li>The interface <span class="rfc2119">MUST NOT</span> <a class="dfnref" href="#dfn-inherit">inherit</a> from another interface with the
                <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a> or <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
                extended attribute.</li>
            </ul>
            <p>
              If <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a> is specified on
              a <a class="dfnref" href="#dfn-partial-interface">partial interface</a>
              definition, then that partial interface definition <span class="rfc2119">MUST</span>
              be the part of the interface definition that defines
              the <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.
            </p>
            <p>
              The <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> <span class="rfc2119">MUST NOT</span>
              be used on an <a class="dfnref" href="#dfn-interface">interface</a> that can have more
              than one object implementing it in the same ECMAScript global environment.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>This is because the <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>,
                which exposes the named properties, is in the prototype chain, and it would not make
                sense for more than one object’s named properties to be exposed on an object that
                all of those objects inherit from.</p>
            </div>
            <p>
              See <a href="#named-properties-object">section 4.4.4</a>,
              <a href="#getownproperty">section 4.6.2</a> and
              <a href="#defineownproperty">section 4.6.3</a>
              for the specific requirements that the use of
              <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                This <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> is intended
                to be used by the <span class="idltype">Window</span> interface as defined in
                HTML5 (<a href="#ref-HTML5">[HTML5]</a>, section 5.2). The interface exposes frames as properties on the <span class="idltype">Window</span>
                object.  Since the <span class="idltype">Window</span> object also serves as the
                ECMAScript global object, variable declarations or assignments to the named properties
                will result in them being replaced by the new value.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[NamedPropertiesObject]
interface Window {
  getter any (DOMString name);
  // ...
};</code></pre></div></div>
              <p>
                The following HTML document illustrates how the named properties on the
                <span class="idltype">Window</span> object can be shadowed:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">HTML</span></div><div class="blockContent"><pre class="code"><code class="html-code">&lt;!DOCTYPE html&gt;
&lt;title&gt;Shadowing named properties on Window&lt;/title&gt;
&lt;iframe name=abc&gt;&lt;/iframe&gt;
&lt;script&gt;
window.abc;    <span class="comment">// Evaluates to the iframe's Window object.</span>
abc = 1;       <span class="comment">// Shadows the named property.</span>
window.abc;    <span class="comment">// Evaluates to 1.</span>
&lt;/script&gt;</code></pre></div></div>
            </div>
          </div>

          <div id="TreatNonCallableAsNull" class="section">
            <h4>4.3.13. [TreatNonCallableAsNull]</h4>

            <p>
              If the <a class="xattr" href="#TreatNonCallableAsNull">[TreatNonCallableAsNull]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on a <a class="dfnref" href="#dfn-callback-function">callback function</a>,
              then it indicates that any value assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a>
              whose type is a <a class="dfnref" href="#dfn-nullable-type">nullable</a>
              <a class="dfnref" href="#dfn-callback-function">callback function</a>
              that is not a callable object will be converted to
              the <span class="idlvalue">null</span> value.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Specifications <span class="rfc2119">SHOULD NOT</span> use <a href="#TreatNonCallableAsNull" class="xattr">[TreatNonCallableAsNull]</a>
                unless required to specify the behavior of legacy APIs or for consistency with these
                APIs.  Specification authors who
                wish to use this feature are strongly advised to discuss this on the 
                <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.  At the time of writing, the only known
                valid use of <a href="#TreatNonCallableAsNull" class="xattr">[TreatNonCallableAsNull]</a>
                is for the <a class="dfnref" href="#dfn-callback-function">callback functions</a> used as the type
                of <a href="http://www.w3.org/TR/2011/WD-html5-20110525/webappapis.html#event-handler-attributes">event handler IDL attributes</a>
                (<a href="#ref-HTML5">[HTML5]</a>, section 6.1.6.1)
                such as <code>onclick</code> and <code>onerror</code>.
              </p>
            </div>
            <p>
              See <a href="#es-nullable-type">section 4.2.23</a>
              for the specific requirements that the use of
              <a class="xattr" href="#TreatNonCallableAsNull">[TreatNonCallableAsNull]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has one
                attribute whose type is a <a class="xattr" href="#TreatNonCallableAsNull">[TreatNonCallableAsNull]</a>-annotated
                <a class="dfnref" href="#dfn-callback-function">callback function</a> and another whose type is a
                <a class="dfnref" href="#dfn-callback-function">callback function</a> without the <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[TreatNonCallableAsNull]
callback OccurrenceHandler = void (DOMString details);

callback ErrorHandler = void (DOMString details);

interface Manager {
  attribute OccurrenceHandler? handler1;
  attribute ErrorHandler? handler2;
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation, assigning a value that is not
                callable (such as a <span class="estype">Number</span> value)
                to handler1 will have different behavior from that when assigning
                to handler2:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var manager = getManager();  <span class="comment">// Get an instance of Manager.</span>

manager.handler1 = function() { };
manager.handler1;            <span class="comment">// Evaluates to the function.</span>

try {
  manager.handler1 = 123;    <span class="comment">// Throws a TypeError.</span>
} catch (e) {
}

manager.handler2 = function() { };
manager.handler2;            <span class="comment">// Evaluates to the function.</span>

manager.handler2 = 123;
manager.handler2;            <span class="comment">// Evaluates to null.</span></code></pre></div></div>
            </div>
          </div>

          <div id="TreatNullAs" class="section">
            <h4>4.3.14. [TreatNullAs]</h4>

            <p>
              If the <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on an <a class="dfnref" href="#dfn-attribute">attribute</a>
              or <a class="dfnref" href="#dfn-operation">operation</a> argument whose type is
              <a class="idltype" href="#idl-DOMString">DOMString</a>,
              it indicates that a <span class="esvalue">null</span> value
              assigned to the attribute or passed as the operation argument will be
              handled differently from its default handling.  Instead of being stringified
              to “null”, which is the default,
              it will be converted to the empty string “”.
            </p>
            <p>
              If <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> is specified on
              an operation itself, and that operation is on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>,
              then it indicates that a <a href="#es-user-objects">user object implementing the interface</a> will have the return
              value of the function that implements the operation handled in the same way as for operation arguments
              and attributes, as above.
            </p>
            <p>
              The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>
              extended attribute <span class="rfc2119">MUST</span> <a class="dfnref" href="#dfn-xattr-identifier">take the identifier</a>
              <code>EmptyString</code>.
            </p>
            <p>
              The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute
              <span class="rfc2119">MUST NOT</span> be specified on an operation argument,
              attribute or operation return value whose type is not <a class="idltype" href="#idl-DOMString">DOMString</a>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>This means that even an attribute of type <span class="idltype">DOMString?</span> must not
              use <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>, since <span class="idlvalue">null</span>
              is a valid value of that type.</p>
            </div>
            <p>
              The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute
              also <span class="rfc2119">MUST NOT</span> be specified on an operation on
              a non-callback interface.
            </p>
            <p>
              See <a href="#es-DOMString">section 4.2.16</a>
              for the specific requirements that the use of
              <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has one
                attribute with the <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>
                extended attribute, and one operation with an argument that has
                the extended attribute:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dog {
  attribute DOMString name;
  [TreatNullAs=EmptyString] attribute DOMString owner;

  boolean isMemberOfBreed([TreatNullAs=EmptyString] DOMString breedName);
};</code></pre></div></div>
              <p>
                An ECMAScript implementation implementing the <span class="idltype">Dog</span>
                interface would convert a <span class="esvalue">null</span> value
                assigned to the “name” property or passed as the
                argument to the <code>isMemberOfBreed</code> function
                to the empty string rather than <code>"null"</code>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var d = getDog();         <span class="comment">// Assume d is a platform object implementing the Dog</span>
                          <span class="comment">// interface.</span>

d.name = null;            <span class="comment">// This assigns the string "null" to the .name</span>
                          <span class="comment">// property.</span>

d.owner = null;           <span class="comment">// This assigns the string "" to the .owner property.</span>

d.isMemberOfBreed(null);  <span class="comment">// This passes the string "" to the isMemberOfBreed</span>
                          <span class="comment">// function.</span></code></pre></div></div>
            </div>
          </div>

          <div id="TreatUndefinedAs" class="section">
            <h4>4.3.15. [TreatUndefinedAs]</h4>

            <p>
              The <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              has two uses.
            </p>
            <p>
              The first use is to control how the <span class="esvalue">undefined</span>
              value is converted into a <a class="idltype" href="#idl-DOMString">DOMString</a>.
              If the extended attribute
              appears on an <a class="dfnref" href="#dfn-attribute">attribute</a>
              or <a class="dfnref" href="#dfn-operation">operation</a> argument whose type is
              <a class="idltype" href="#idl-DOMString">DOMString</a> or <span class="idltype">DOMString?</span>,
              and it is specified as <code>[TreatUndefinedAs=EmptyString]</code> or
              <code>[TreatUndefinedAs=Null]</code>,
              it indicates that an <span class="esvalue">undefined</span> value
              assigned to the corresponding property or passed as an argument to
              the corresponding function will be handled differently from its
              default handling, which is to stringify to
              “undefined”:
            </p>
            <ul>
              <li>
                If the argument to <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
                is <code>EmptyString</code>, then the value assigned to the
                attribute or passed as the operation argument will be the empty string,
                “”.
              </li>
              <li>
                Otherwise, if the argument to <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
                is <code>Null</code>, then the value assigned to the
                attribute or passed as the operation argument will be the
                <span class="idlvalue">null</span> value.
              </li>
            </ul>
            <p>
              If <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a> is specified on
              an operation itself, then it indicates that a <a href="#es-user-objects">user object
                implementing the interface</a> will have the return
              value of the function that implements the operation
              handled in the same way as for operation arguments
              and attributes, as above.
            </p>
            <p>
              The second use for <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
              is to control how <span class="esvalue">undefined</span> values passed
              to a function corresponding to an <a class="dfnref" href="#dfn-operation">operation</a>
              are treated.  If it is specified as <code>[TreatUndefinedAs=Missing]</code> on
              an <a class="dfnref" href="#dfn-optional-argument">optional</a> operation argument, then an explicit <span class="esvalue">undefined</span> value
              will cause the function call to be treated as if the argument had been omitted.
            </p>
            <p>
              The <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
              extended attribute <span class="rfc2119">MUST</span> <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a>:
              <code>EmptyString</code>, <code>Null</code> or <code>Missing</code>.
            </p>
            <p>
              <code>[TreatUndefinedAs=Null]</code>
              <span class="rfc2119">MUST NOT</span> be specified on operation argument,
              attribute or operation return value whose type is not <span class="idltype">DOMString?</span>,
              and <code>[TreatUndefinedAs=EmptyString]</code>
              <span class="rfc2119">MUST NOT</span> be specified on operation argument,
              attribute or operation return value whose type is neither
              <a class="idltype" href="#idl-DOMString">DOMString</a> nor <span class="idltype">DOMString?</span>.
            </p>
            <p>
              The <code>[TreatUndefinedAs]</code> extended attribute
              also <span class="rfc2119">MUST NOT</span> be specified on an operation on
              a non-callback interface.
            </p>
            <p>
              <code>[TreatUndefinedAs=Missing]</code> <span class="rfc2119">MUST NOT</span>
              be specified on an operation itself and <span class="rfc2119">MUST NOT</span> be
              specified on a non-optional operation argument.  When specified on an operation argument,
              then any following arguments <span class="rfc2119">MUST</span> also be annotated with
              <code>[TreatUndefinedAs=Missing]</code>.
            </p>
            <div class="warning"><div class="warningHeader">Warning</div>
              <p>
                Specifications <span class="rfc2119">SHOULD NOT</span> use <code>[TreatUndefinedAs=Missing]</code>
                unless required for compatibility reasons.  Specification authors who
                wish to use this feature are strongly advised to discuss this on the 
                <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>
                mailing list before proceeding.
              </p>
            </div>
            <p>
              See <a href="#es-DOMString">section 4.2.16</a>
              and <a href="#es-nullable-type">section 4.2.23</a>
              for the specific requirements that the use of
              <code>[TreatUndefinedAs=Null]</code>
              and <code>[TreatUndefinedAs=EmptyString]</code>
              entails.  See the <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>
              for how <code>[TreatUndefinedAs=Missing]</code> is handled.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has one
                attribute with the <a class="xattr" href="#TreatUndefinedAs">[TreatUndefinedAs]</a>
                extended attribute, and one operation with an argument that has
                the extended attribute:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Cat {
  attribute DOMString name;
  [TreatUndefinedAs=Null] attribute DOMString? owner;

  boolean isMemberOfBreed([TreatUndefinedAs=EmptyString] DOMString breedName);
};</code></pre></div></div>
              <p>
                An ECMAScript implementation implementing the <span class="idltype">Cat</span>
                interface would convert an <span class="esvalue">undefined</span> value
                assigned to the “name” and “owner”
                properties and passed as the argument to the <code>isMemberOfBreed</code> function
                all differently; the value would be converted to the string
                “undefined”, the <span class="idlvalue">null</span>
                value, and the empty string “”, respectively:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var c = getCat();              <span class="comment">// Obtain an instance of Cat.</span>

c.name = undefined;            <span class="comment">// This assigns the string "undefined" to the</span>
                               <span class="comment">// .name property.</span>

c.owner = undefined;           <span class="comment">// This assigns the null value to the</span>
                               <span class="comment">// .owner property.</span>

c.isMemberOfBreed(undefined);  <span class="comment">// This passes the string "" to the</span>
                               <span class="comment">// isMemberOfBreed function.</span></code></pre></div></div>
            </div>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface with
                an operation that uses <code>[TreatUndefinedAs=Missing]</code>.
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">interface A {
  void f(float x, [TreatUndefinedAs=Missing] optional float y);
};</code></pre></div></div>
              <p>
                If f is called as <code>f(1, undefined)</code> then it will have the same behavior
                as if it were called as <code>f(1)</code>.
              </p>
            </div>
          </div>

          <div id="Unforgeable" class="section">
            <h4>4.3.16. [Unforgeable]</h4>

            <p>
              If the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
              <a class="dfnref" href="#dfn-attribute">attribute</a>, it indicates
              that the attribute will be reflected as an ECMAScript property in
              a way that means its behavior cannot be modified and that performing
              a property lookup on the object will always result in the attribute’s
              property value being returned.  In particular, the property will be
              non-configurable and, if it is a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>,
              will exist as an own property on the object itself rather than on its prototype.
            </p>
            <p>
              The <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
              extended attribute <span class="rfc2119">MUST</span>
              <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
            </p>
            <p>
              The <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
              extended attribute <span class="rfc2119">MUST NOT</span> appear on
              anything other than a read only attribute.  It also <span class="rfc2119">MUST NOT</span>
              appear on an attribute on interface <var>A</var> if there exists
              another interface <var>B</var> that 
              has <var>A</var> as an <a class="dfnref" href="#dfn-inherited-interfaces">inherited interface</a>.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>For example, the following IDL would be invalid:</p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface A {
  [Unforgeable] readonly attribute DOMString key;
};

interface B : A { };</code></pre></div></div>
            </div>
            <p>
              See <a href="#es-attributes">section 4.4.6</a>,
              <a href="#indexed-and-named-properties">section 4.6.1</a> and
              <a href="#defineownproperty">section 4.6.3</a>
              for the specific requirements that the use of
              <a class="xattr" href="#Unforgeable">[Unforgeable]</a> entails.
            </p>
            <div class="example"><div class="exampleHeader">Example</div>
              <p>
                The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines
                an interface that has two <a class="dfnref" href="#dfn-attribute">attributes</a>,
                one of which is designated as <a class="xattr" href="#Unforgeable">[Unforgeable]</a>:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface System {
  [Unforgeable] readonly attribute DOMString username;
  readonly attribute Date loginTime; 
};</code></pre></div></div>
              <p>
                In an ECMAScript implementation of the interface, the username attribute will be exposed as a non-configurable property on the
                object itself:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var system = getSystem();                      <span class="comment">// Get an instance of System.</span>

system.hasOwnProperty("username");             <span class="comment">// Evaluates to true.</span>
system.hasOwnProperty("loginTime");            <span class="comment">// Evaluates to false.</span>
System.prototype.hasOwnProperty("username");   <span class="comment">// Evaluates to false.</span>
System.prototype.hasOwnProperty("loginTime");  <span class="comment">// Evaluates to true.</span>

try {
  <span class="comment">// This call would fail, since the property is non-configurable.</span>
  Object.defineProperty(system, "username", { value: "administrator" });
} catch (e) { }

<span class="comment">// This defineProperty call would succeed, because System.prototype.loginTime</span>
<span class="comment">// is configurable.</span>
var forgedLoginTime = new Date(new Date() - 3600000);
Object.defineProperty(System.prototype, "loginTime", { value: forgedLoginTime });

system.loginTime;  <span class="comment">// So this now evaluates to forgedLoginTime.</span></code></pre></div></div>
            </div>
          </div>
        </div>

        <div id="es-interfaces" class="section">
          <h3>4.4. Interfaces</h3>

          <p>
            For every <a class="dfnref" href="#dfn-interface">interface</a> that:
          </p>
          <ul>
            <li>is a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>
              that has <a class="dfnref" href="#dfn-constant">constants</a> declared on it, or</li>
            <li>is a non-callback <a class="dfnref" href="#dfn-interface">interface</a>
              that is not declared with the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
          </ul>
          <p>
            a corresponding property <span class="rfc2119">MUST</span> exist on the
            ECMAScript global object.
            The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the interface,
            and its value is an object called the <dfn id="dfn-interface-object">interface object</dfn>.
          </p>
          <p>
            The property has the attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>.
            The characteristics of an interface object are described in <a href="#interface-object">section 4.4.1</a>
            below.
          </p>
          
          <p>
            In addition, for every <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
            extended attribute on an interface, a corresponding property <span class="rfc2119">MUST</span>
            exist on the ECMAScript global object.  The name of the property is the
            <a class="sym" href="#prod-identifier">identifier</a> that occurs directly after the
            “<span class="sym">=</span>”, and its value is an object called a
            <dfn id="dfn-named-constructor">named constructor</dfn>, which allows
            construction of objects that implement the interface.  The property has the
            attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>.
            The characteristics of a named constructor are described in
            <a href="#named-constructors">section 4.4.2</a>
            below.
          </p>

          <div id="interface-object" class="section">
            <h4>4.4.1. Interface object</h4>

            <p>
              The interface object for a given non-callback <a class="dfnref" href="#dfn-interface">interface</a>
              is a <a class="dfnref" href="#dfn-function-object">function object</a>.
              It has properties that correspond to
              the <a class="dfnref" href="#dfn-constant">constants</a> and
              <a class="dfnref" href="#dfn-static-operation">static operations</a>
              defined on that interface, as described in sections
              <a href="#es-constants">4.4.5</a> and
              <a href="#es-operations">4.4.7</a>
              below.
            </p>
            <p>
              The value of the “prototype” property of an interface object for a non-callback interface
              <span class="rfc2119">MUST</span> be an object called the <dfn id="dfn-interface-prototype-object">interface prototype
                object</dfn>.  This object has properties
              that correspond to the <a class="dfnref" href="#dfn-regular-attribute">regular attributes</a> and
              <a class="dfnref" href="#dfn-regular-operation">regular operations</a> defined on the interface,
              and is described in more detail in
              <a href="#interface-prototype-object">section 4.4.3</a>
              below.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>Since an interface object for a non-callback interface is a <a class="dfnref" href="#dfn-function-object">function object</a>,
                it will have a “prototype” property with attributes
                <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>.</p>
            </div>
            <p>
              The interface object for a callback interface <span class="rfc2119">MUST NOT</span> be
              a <a class="dfnref" href="#dfn-function-object">function object</a> and <span class="rfc2119">MUST NOT</span>
              have a “prototype” property.  The internal <span class="esprop">[[Prototype]]</span> property
              of an interface object for a callback interface <span class="rfc2119">MUST</span> be
              the Object.prototype object.
            </p>

            <div id="es-interface-call" class="section">
              <h5>4.4.1.1. Interface object [[Call]] method</h5>

              <p>
                If the <a class="dfnref" href="#dfn-interface">interface</a> is declared with a
                <a class="xattr" href="#Constructor">[Constructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                then the <a class="dfnref" href="#dfn-interface-object">interface object</a>
                can be called as a function to create an object that implements that
                interface.  Interfaces that do not have a constructor will throw
                an exception when called as a function.
              </p>
                <!--
              <p>
                then the interface object <span class='rfc2119'>MUST</span> have a
                <span class='prop'>[[Call]]</span> internal property, which allows
                construction of objects that implement the given interface.
                -->
                <!--  The behavior
                of this <span class='prop'>[[Construct]]</span> method is not
                necessarily the same as that described for <span class='estype'>Function</span> objects in
                section 13.2.2 of the
                <cite>ECMAScript Language Specification, 5th Edition</cite>
                <a href='#ref-ECMA-262'>[ECMA-262]</a>, but it
                <span class='rfc2119'>MUST</span> return an object that implements
                the given interface if it returns normally (that is, if it does not
                throw an exception).
              </p>-->
              <p>
                In order to define how overloaded constructor invocations are resolved, the
                <dfn id="dfn-overload-resolution-algorithm">overload resolution algorithm</dfn>
                is defined.  Its input is an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>,
                <var>S</var>, and a list of ECMAScript values, <var>arg</var><sub>0..<var>n</var>−1</sub>.
                Its output is a pair consisting of the <a class="dfnref" href="#dfn-operation">operation</a> or
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> of one of <var>S</var>’s entries
                and a list of IDL values.  The algorithm behaves as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>maxarg</var> be the length of the longest type list of the entries in <var>S</var>.</li>
                <li>Initialize <var>argcount</var> to be min(<var>maxarg</var>, <var>n</var>).</li>

                <li>Initialize <var>j</var> to <var>n</var>−1.</li>
                <li>While <var>j</var> ≥ 0 and <var>arg</var><sub><var>j</var></sub> is <span class="estype">undefined</span>:
                  <ol>
                    <li>If <var>S</var> has one or more entries whose type list is of length <var>j</var>, then:
                      <ol>
                        <li>If <var>S</var> has one or more entries whose type list is longer than <var>j</var>,
                          and at least one of those entries has the <code>[TreatUndefinedAs=Missing]</code>
                          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                          on its arguments at indices <var>j</var> and above, then set <var>argcount</var> to <var>j</var>.</li>
                      </ol>
                    </li>
                    <li>Set <var>j</var> to <var>j</var>−1.</li>
                  </ol>
                </li>

                <li>Initialize <var>k</var> to <var>argcount</var>.</li>

                <li>Remove from <var>S</var> all entries whose type list is not of length <var>argcount</var>.</li>

                <li>If <var>S</var> is empty, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>

                <!--
                <li>Initialize <var>i</var> to be the lowest type list index of the entries in <var>S</var> for which all
                  types at that index are <a class='dfnref' href='#dfn-exactly-matchable-types'>exactly matchable</a>, or
                  −1 if there is no such index.</li>
                  -->

                <li>Initialize <var>d</var> to −1.</li>

                <li>If there is more than one entry in <var>S</var>, then set
                  <var>d</var> to be the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a>
                  for the entries of <var>S</var>.</li>

                <li>Initialize <var>values</var> to be an empty list of IDL values.</li>

                <li>Initialize <var>i</var> to 0.</li>

                <li>While <var>i</var> &lt; <var>d</var>:
                  <ol>
                    <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.</li>
                    <li>Let <var>type</var> be the type at index <var>i</var> in the type list of any entry in <var>S</var>.
                      <div class="note"><div class="noteHeader">Note</div><p>All entries in <var>S</var> at this point have the same type at index <var>i</var>.</p></div></li>
                    <li>Append to <var>values</var> the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                      <var>V</var> to IDL type <var>type</var>.</li>
                    <li>Set <var>i</var> to <var>i</var> + 1.</li>
                  </ol>
                </li>

                <li>If <var>i</var> = <var>d</var>, then:
                  <ol>
                    <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.
                      <div class="note"><div class="noteHeader">Note</div><p>This is the argument that will be used to resolve which overload is selected.</p></div></li>

                    <li>If <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>,
                      and any entry in <var>S</var> has a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>,
                      a <a class="dfnref" href="#dfn-union-type">union type</a> that <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a>
                      or a <a href="#idl-dictionary">dictionary type</a>
                      at position <var>i</var> of its type list, then remove from <var>S</var> all other entries.</li>

                    <li>
                      Otherwise: if <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a> – but not a
                      <a class="dfnref" href="#dfn-platform-array-object">platform array object</a> – and
                      there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li>an <a href="#idl-interface">interface type</a> that <var>V</var> implements</li>
                        <li><a class="idltype" href="#idl-object">object</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or a <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                           that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if <var>V</var> is a <a class="dfnref" href="#dfn-platform-array-object">platform array object</a>,
                      a native <span class="estype">Array</span> object, or
                      a <a class="dfnref" href="#dfn-platform-object">platform object</a> that
                      <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>; and
                      there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li>an <a href="#idl-array">array type</a></li>
                        <li>a <a href="#idl-sequence">sequence type</a></li>
                        <li><a class="idltype" href="#idl-object">object</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                          that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if <var>V</var> is a <span class="estype">Date</span> object and
                      there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li><a class="idltype" href="#idl-Date">Date</a></li>
                        <li><a class="idltype" href="#idl-object">object</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                           that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if <var>V</var> is any other type of object and
                      there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li>a <a class="dfnref" href="#dfn-callback-interface">callback interface</a> type</li>
                        <li>a <a class="dfnref" href="#dfn-callback-function">callback function</a> type</li>
                        <li>a <a href="#idl-dictionary">dictionary type</a></li>
                        <li><a class="idltype" href="#idl-object">object</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                           that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li><a class="idltype" href="#idl-DOMString">DOMString</a></li>
                        <li>an <a href="#idl-enumeration">enumeration type</a></li>
                        <li><a class="idltype" href="#idl-ByteString">ByteString</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                           that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
                      <ul>
                        <li>a <a class="dfnref" href="#dfn-primitive-type">primitive type</a></li>
                        <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> <a class="dfnref" href="#dfn-primitive-type">primitive type</a></li>
                        <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type
                          that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
                      </ul>
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: if there is an entry in <var>S</var> that has <a class="idltype" href="#idl-any">any</a> at position <var>i</var>
                      of its type list,
                      then remove from <var>S</var> all other entries.
                    </li>

                    <li>
                      Otherwise: 
                      <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                    </li>
                  </ol>
                </li>

                <li>
                  While <var>i</var> &lt; <var>argcount</var>:
                  <ol>
                    <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.</li>
                    <li>Let <var>type</var> be the type at index <var>i</var> in the type list of the single entry in <var>S</var>.</li>
                    <li>Append to <var>values</var> the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                      <var>V</var> to IDL type <var>type</var>.</li>
                    <li>Set <var>i</var> to <var>i</var> + 1.</li>
                  </ol>
                </li>

                <li>Let <var>callable</var> be the <a class="dfnref" href="#dfn-operation">operation</a> or <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                  of the single entry in <var>S</var>.</li>

                <li>
                  While <var>i</var> is less than the length of the number of arguments <var>callable</var> is declared to take,
                    and the argument at index <var>i</var> is declared with a <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>:
                  <ol>
                    <li>Append to <var>values</var> that <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>.</li>
                    <li>Set <var>i</var> to be <var>i</var> + 1.</li>
                  </ol>
                </li>

                <li>Return the pair &lt;<var>callable</var>, <var>values</var>&gt;.</li>
              </ol>
              <div class="note"><div class="noteHeader">Note</div>
                <p>
                  The overload resolution algorithm performs both the identification
                  of which overloaded operation, constructor, etc. is being called,
                  and the conversion of the ECMAScript argument values to their
                  corresponding IDL values.  Informally, it operates as follows.
                </p>
                <p>First, the selection of valid overloads is done by considering
                  the number of ECMAScript arguments that were passed in to the function:</p>
                <ul>
                  <li>If there are more arguments passed in than the longest
                    overload argument list, then they are ignored.</li>
                  <li>Any trailing <span class="esvalue">undefined</span> values
                    are ignored if there is an overload that has
                    <code>[TreatUndefinedAs=Missing]</code> on the corresponding argument.</li>
                  <li>After ignoring these trailing arguments, only overloads
                    that can take this exact number of arguments are considered.
                    If there are none, then a <span class="estype">TypeError</span> is thrown.</li>
                </ul>
                <p>Once we have a set of possible overloads with the right number
                  of arguments, the ECMAScript values are converted from left to right.
                  The nature of the restrictions on overloading means that if we
                  have multiple possible overloads at this point, then there will
                  be one position in the argument list that will be used to
                  distinguish which overload we will finally select; this is
                  the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing
                    argument index</a>.  All arguments
                  to the left of this one, in all the overloads we are still considering
                  at this point, will have the same type at a given argument index.</p>
                <p>So we convert all of the arguments from index 0 up to the
                  distinguishing argument index.  Once we come to the distinguishing
                  argument index, we inspect the type of the ECMAScript value
                  that is passed in to determine which IDL type it may correspond to.
                  This allows us to select the final overload that will
                  be invoked.  If there is no valid overload for the type of
                  value passed in here, then we throw a <span class="estype">TypeError</span>.
                  The inspection of the value does not have any side effects;
                  the only side effects that come from running the overload resolution
                  algorithm are those that come from converting the ECMAScript values
                  to IDL values. After this, we convert the remaining argument values, still
                  from left to right.</p>
                <p>If at the end of this process, we have selected an overload
                  that has <a class="dfnref" href="#dfn-optional-argument-default-value">optional argument default values</a>
                  for arguments that follow the explicit arguments that we have
                  just converted, then we include those default values in
                  the list of argument values we return from the algorithm.</p>
              </div>
              <div class="note"><div class="noteHeader">Note</div>
                <p>
                  In general, an explicit <span class="esvalue">undefined</span> passed to an operation 
                  is not treated the same as a missing optional argument (unless <code>[TreatUndefinedAs=Missing]</code>
                  is specified in the IDL).  This is inline with the current
                  proposed behavior for parameter default values in ECMAScript 6th edition.  However,
                  there is a possibility that ES6 will change, in which case the treatment of <span class="esvalue">undefined</span>
                  might be revisited.
                </p>
              </div>
              <p>
                The internal <span class="prop">[[Call]]</span> method
                of the interface object behaves as follows, assuming
                <var>arg</var><sub>0..<var>n</var>−1</sub> is the list
                of argument values passed to the constructor, and <var>I</var>
                is the <a class="dfnref" href="#dfn-interface">interface</a>:
              </p>
              <ol class="algorithm">
                <li>
                  If <var>I</var> was not declared with a <a class="xattr" href="#Constructor">[Constructor]</a>
                  <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then
                  <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                </li>
                <li>
                  Let <var>id</var> be the identifier of interface <var>I</var>.
                </li>
                <li>
                  Initialize <var>S</var> to the
                  <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                  for constructors with <a class="dfnref" href="#dfn-identifier">identifier</a>
                  <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                  <var>I</var> and with argument count <var>n</var>.
                </li>
                <li>
                  Let &lt;<var>constructor</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
                  <var>arg</var><sub>0..<var>n</var>−1</sub> to the
                  <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
                </li>
                <li>
                  Let <var>R</var> be the result of performing the actions listed in the description of
                  <var>constructor</var> with <var>values</var> as the argument values.
                </li>
                <li>
                  Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                  <var>R</var> to an ECMAScript <a href="#idl-interface">interface type</a> value
                  <var>I</var>.
                </li>
              </ol>
              <p>
                If the internal <span class="prop">[[Call]]</span> method
                of the <a class="dfnref" href="#dfn-interface-object">interface object</a>
                returns normally, then it <span class="rfc2119">MUST</span>
                return an object that implements interface <var>I</var>.
                This object also <span class="rfc2119">MUST</span> be
                associated with the ECMAScript global environment associated
                with the interface object.
              </p>
              <p>
                Interface objects for interfaces <span class="rfc2119">MUST</span> have a property named “length”
                with attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>
                whose value is a <span class="estype">Number</span>.
                If the <a class="xattr" href="#Constructor">[Constructor]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                does not appear on the interface definition, then the value is 0.
                Otherwise, the value is determined as follows:
              </p>
              <ol class="algorithm">
                <li>
                  Let <var>id</var> be the identifier of interface <var>I</var>.
                </li>
                <li>
                  Initialize <var>S</var> to the
                  <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                  for constructors with
                  <a class="dfnref" href="#dfn-identifier">identifier</a>
                  <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                  <var>I</var> and with argument count 0.
                </li>
                <li>
                  Return the maximum argument list length of the constructors in the entries of <var>S</var>.
                </li>
              </ol>
            </div>

            <!--
            <div id='es-interface-hasinstance' class='section'>
              <h5>Interface object [[HasInstance]] method</h5>

              <p>
                The internal <span class='prop'>[[HasInstance]]</span> method of every
                <a class='dfnref' href='#dfn-interface-object'>interface object</a>
                <var>A</var> <span class='rfc2119'>MUST</span> behave as follows,
                assuming <var>V</var> is the object
                argument passed to <span class='prop'>[[HasInstance]]</span>:
              </p>
              <ol class='algorithm'>
                <li>If <var>V</var> is not an object, return <span class='esvalue'>false</span>.</li>
                <li>Let <var>O</var> be the result of calling the <span class='prop'>[[Get]]</span> method of <var>A</var> with property name “prototype”.</li>
                <li>If <var>O</var> is not an object, <a href='#ecmascript-throw' class='dfnref external'>throw a <span class='estype'>TypeError</span></a> exception.</li>
                <li>If <var>V</var> is a host object that implements the
                  interface for which <var>O</var> is the <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>,
                  return <span class='esvalue'>true</span>.</li>
                <li>Repeat:
                  <ol>
                    <li>Set <var>V</var> to the value of the <span class='prop'>[[Prototype]]</span> internal property of <var>V</var>.</li>
                    <li>If <var>V</var> is <span class='esvalue'>null</span>, return <span class='esvalue'>false</span>.</li>
                    <li>If <var>O</var> and <var>V</var> refer to the same object,
                      return <span class='esvalue'>true</span>.</li>
                  </ol>
                </li>
              </ol>
            </div>
            -->
          </div>

          <div id="named-constructors" class="section">
            <h4>4.4.2. Named constructors</h4>

            <p>
              A <a class="dfnref" href="#dfn-named-constructor">named constructor</a>
              that exists due to one or more
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
              with a given <a class="dfnref" href="#dfn-identifier">identifier</a>
              is a <a class="dfnref" href="#dfn-function-object">function object</a>.
              It <span class="rfc2119">MUST</span> have a <span class="prop">[[Call]]</span>
              internal property, which allows construction of objects that
              implement the interface on which the
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              extended attributes appear.  It behaves as follows, assuming
              <var>arg</var><sub>0..<var>n</var>−1</sub> is the list
              of argument values passed to the constructor, <var>id</var>
              is the identifier of the constructor specified in the
              extended attribute <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument list</a>,
              and <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>
              on which the <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              extended attribute appears:
            </p>
            <ol class="algorithm">
              <li>
                Initialize <var>S</var> to the
                <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                for constructors with <a class="dfnref" href="#dfn-identifier">identifier</a>
                <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                <var>I</var> and with argument count <var>n</var>.
              </li>
              <li>
                Let &lt;<var>constructor</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
                <var>arg</var><sub>0..<var>n</var>−1</sub> to the
                <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
              </li>
              <li>
                Let <var>R</var> be the result of performing the actions listed in the description of
                <var>constructor</var> with <var>values</var> as the argument values.
              </li>
              <li>
                Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                <var>R</var> to an ECMAScript
                <a href="#idl-interface">interface type</a> value
                <var>I</var>.
              </li>
            </ol>
            <p>
              If the internal <span class="prop">[[Call]]</span> method
              of the <a class="dfnref" href="#dfn-named-constructor">named constructor</a>
              returns normally, then it <span class="rfc2119">MUST</span>
              return an object that implements interface <var>I</var>.
              This object also <span class="rfc2119">MUST</span> be
              associated with the ECMAScript global environment associated
              with the <a class="dfnref" href="#dfn-named-constructor">named constructor</a>.
            </p>
            <p>
              A named constructor <span class="rfc2119">MUST</span> have a property named “length”
              with attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>
              whose value is a <span class="estype">Number</span> determined as follows:
            </p>
            <ol class="algorithm">
              <li>
                Initialize <var>S</var> to the
                <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                for constructors with
                <a class="dfnref" href="#dfn-identifier">identifier</a>
                <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                <var>I</var> and with argument count 0.
              </li>
              <li>
                Return the maximum argument list length of the constructors in the entries of <var>S</var>.
              </li>
            </ol>
            <p>
              A named constructor <span class="rfc2119">MUST</span> also have a property named
              “prototype” with attributes
              <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>
              whose value is the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              for the <a class="dfnref" href="#dfn-interface">interface</a> on which the
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
              appears.
            </p>
          </div>

          <div id="interface-prototype-object" class="section">
            <h4>4.4.3. Interface prototype object</h4>

            <p>
              There <span class="rfc2119">MUST</span> exist an
              <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype
                object</a> for every non-callback <a class="dfnref" href="#dfn-interface">interface</a>
              defined, regardless of whether the interface was declared with the
              <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.
              The interface prototype object for a particular interface has
              properties that correspond to the <a class="dfnref" href="#dfn-regular-attribute">regular attributes</a>
              and <a class="dfnref" href="#dfn-regular-operation">regular operations</a>
              defined on that interface.  These properties are described in more detail in
              sections <a href="#es-attributes">4.4.6</a> and
              <a href="#es-operations">4.4.7</a> below.
            </p>
            <p>
              As with the <a class="dfnref" href="#dfn-interface-object">interface object</a>,
              the interface prototype object also has properties that correspond to the
              <a class="dfnref" href="#dfn-constant">constants</a> defined on that
              interface, described in <a href="#es-operations">section
                4.4.5</a> below.
            </p>
            <p>
              If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              extended attribute was not specified on the interface, then
              the interface prototype object <span class="rfc2119">MUST</span>
              also have a property named “constructor” with attributes
              <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span> whose value
              is a reference to the interface object for the interface.
            </p>

            <p>
              The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              for a given interface <var>A</var> <span class="rfc2119">MUST</span> have an internal
              <span class="prop">[[Prototype]]</span> property whose value is as follows:
            </p>
            <ol class="algorithm">
              <li>If <var>A</var> is declared with the <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then
              the value of the internal <span class="prop">[[Prototype]]</span> property of
              <var>A</var> is the <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
              for <var>A</var>, as defined in <a href="#named-properties-object">section 4.4.4</a>
              below.</li>
              <li>Otherwise, if <var>A</var> is not declared to inherit from another interface, then the
              value of the internal <span class="prop">[[Prototype]]</span> property
              of <var>A</var> is the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4.4"><span class="estype">Array</span> prototype object</a>
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4.4) if the interface
              was declared with <a class="xattr" href="#ArrayClass">[ArrayClass]</a>,
              or the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.2.4"><span class="estype">Object</span> prototype object</a> otherwise
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.2.4).</li>
              <li>Otherwise, the value of the internal <span class="prop">[[Prototype]]</span> property of <var>A</var> is the
              <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              for the inherited interface.</li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
                of an <a class="dfnref" href="#dfn-interface">interface</a> that is defined with
                the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                will be accessible if the interface is used as a
                <a class="dfnref" href="#dfn-supplemental-interface">non-supplemental interface</a>.
                For example, with the following IDL:
              </p>
              <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">[NoInterfaceObject]
interface Foo {
};

partial interface Window {
  attribute Foo foo;
};</code></pre></div></div>
              <p>
                it is not possible to access the interface prototype object through
                the <a class="dfnref" href="#dfn-interface-object">interface object</a>
                (since it does not exist as <code>window.Foo</code>).  However, an instance
                of <span class="idltype">Foo</span> can expose the interface prototype
                object by gettings its internal <span class="prop">[[Prototype]]</span>
                property value – <code>Object.getPrototypeOf(window.foo)</code> in
                this example.
              </p>
              <p>
                If the interface is used solely as a
                <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>,
                then there will be no way to access its interface prototype object, since no
                object will have the interface prototype object as its internal
                <span class="prop">[[Prototype]]</span> property value.  In such cases,
                it is an acceptable optimization for this object not to exist.
              </p>
            </div>

            <p>
              The <a class="dfnref" href="#dfn-class-string">class string</a> of an
              <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              is the concatenation of the <a class="dfnref" href="#dfn-interface">interface</a>’s
              <a class="dfnref" href="#dfn-identifier">identifier</a> and the string
              “Prototype”.
            </p>
          </div>

          <div id="named-properties-object" class="section">
            <h4>4.4.4. Named properties object</h4>

            <p>
              For every <a class="dfnref" href="#dfn-interface">interface</a> declared with the
              <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
              there <span class="rfc2119">MUST</span> exists an object known as the
              <dfn id="dfn-named-properties-object">named properties object</dfn> for that
              interface.
            </p>
            <p>
              A <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
              <span class="rfc2119">MUST</span> be a <a class="dfnref" href="#dfn-function-object">function object</a>.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
              for a given interface <var>A</var> <span class="rfc2119">MUST</span> have an internal
              <span class="prop">[[Prototype]]</span> property whose value is as follows:
            </p>
            <ol class="algorithm">
              <li>If <var>A</var> is not declared to inherit from another interface, then the
              value of the internal <span class="prop">[[Prototype]]</span> property
              of <var>A</var> is the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.4.4"><span class="estype">Array</span> prototype object</a>
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.4.4) if the interface
              was declared with <a class="xattr" href="#ArrayClass">[ArrayClass]</a>,
              or the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.2.4"><span class="estype">Object</span> prototype object</a> otherwise
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.2.4).</li>
              <li>Otherwise, <var>A</var> does <a class="dfnref" href="#dfn-inherit">inherit</a> from another
              interface.
              The value of the internal <span class="prop">[[Prototype]]</span> property of <var>A</var> is the
              <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              for the inherited interface.</li>
            </ol>
            <p>
              The <a class="dfnref" href="#dfn-class-string">class string</a> of a
              <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
              is the concatenation of the <a class="dfnref" href="#dfn-interface">interface</a>’s
              <a class="dfnref" href="#dfn-identifier">identifier</a> and the string
              “Properties”.
            </p>

            <div id="named-properties-object-getownproperty" class="section">
              <h5>4.4.4.1. Named properties object [[GetOwnProperty]] method</h5>

              <p>
                The internal <span class="prop">[[GetOwnProperty]]</span> method of every
                <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
                <span class="rfc2119">MUST</span> behave as follows when called with object <var>O</var>
                and property name <var>P</var>:
              </p>

              <ol class="algorithm">
                <li>Let <var>A</var> be the <a class="dfnref" href="#dfn-interface">interface</a> for the
                  <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> <var>O</var>.</li>
                <li>Let <var>object</var> be the sole object from <var>O</var>’s ECMAScript global environment that implements <var>A</var>.
                  <div class="note"><div class="noteHeader">Note</div>
                    <p>For example, if the <a class="dfnref" href="#dfn-interface">interface</a> is the <span class="idltype">Window</span>
                      interface as defined in HTML5 (<a href="#ref-HTML5">[HTML5]</a>, section 5.2), then the sole object
                      will be this global environment’s window object.</p>
                  </div>
                </li>
                <li>If the result of running the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> with
                  property name <var>P</var> and object <var>object</var> is true, then:
                  <ol>
                    <li>Let <var>operation</var> be the operation used to declare the named property getter.</li>

                    <li>Let <var>value</var> be an uninitialized variable.</li>
                    <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then
                      set <var>value</var> to the result of performing the steps listed in the interface description to
                      <a class="dfnref" href="#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a>
                      with <var>P</var> as the name.</li>
                    <li>Otherwise, <var>operation</var> was defined with an identifier.  Set <var>value</var> to the result
                      of performing the steps listed in the description of <var>operation</var> with <var>P</var> as the only argument value.</li>

                    <li>Let <var>desc</var> be a newly created <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10">property descriptor</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.10) with no fields.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                      <var>value</var> to an ECMAScript value.</li>
                    <li>Set <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">false</span>, and
                      <var>desc</var>.<span class="prop">[[Enumerable]]</span> &amp; <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                    <li>Return <var>desc</var>.</li>
                  </ol>
                </li>

                <li>Return the result of calling the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.12.1">default <span class="prop">[[GetOwnProperty]]</span> internal method</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.12.1) on <var>O</var> passing <var>P</var> as the argument.</li>
              </ol>
            </div>
          </div>

          <!--
          <div id='mixin-prototype' class='section'>
            <h4>Mixin prototype objects</h4>

            <p>
              If an object implements any interfaces other than those as declared in the IDL,
              then these interfaces are called <dfn id='dfn-mixin-interface'>mixin interfaces</dfn>
              for the object.  The <dfn id='dfn-mixin-prototype-object'>mixin prototype object</dfn>
              for a given object <var>O</var> is an object as follows:
            </p>
            <ul>
              <li>
                The object has properties that are the union of all properties that initially exist on <var>O</var>’s
                <a class='dfnref' href='#dfn-mixin-interface'>mixin interfaces</a>’
                <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype objects</a>.
                If there are multiple properties with the same name,
                then it is undefined which of those properties ends up on
                the mixin prototype object.
              </li>
              <li>
                The object’s internal <span class='prop'>[[Prototype]]</span> property
                value is a reference to the <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
                for the most derived non-mixin interface that <var>O</var> implements,
                or, if the object implements no non-mixin interfaces, a reference to the
                <span class='estype'>Object</span> prototype object
                (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.2.4).</li>
            </ul>
            <p>
              If two objects have the same set of <a class='dfnref' href='#dfn-mixin-interface'>mixin interfaces</a>,
              then their <a class='dfnref' href='#dfn-mixin-prototype-object'>mixin prototype objects</a>
              <span class='rfc2119'>MUST</span> be the same object.
            </p>

            XXX unfinished example
            <div class='example'>
              <p>
                The following example illustrates a case when a <a class='dfnref' href='#dfn-mixin-protoype-object'>mixin prototype object</a>
                will exist.  Consider the following IDL:
              </p>
              <x:codeblock language='idl'>interface Animal {
  DOMString latinName;
};

interface Human {
  DOMString name;
};

interface LivingHuman {
  unsigned short age;
};

interface 
            </div>
          </div>
          -->

          <div id="es-constants" class="section">
            <h4>4.4.5. Constants</h4>

            <p>
              For each <a class="dfnref" href="#dfn-constant">constant</a> defined on
              an <a class="dfnref" href="#dfn-interface">interface</a> <var>A</var>, there
              <span class="rfc2119">MUST</span> be a corresponding property on
              the <a class="dfnref" href="#dfn-interface-object">interface object</a>,
              if it exists.  The property has the following characteristics:
            </p>
            <ul>
              <li>The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-constant">constant</a>.</li>
              <li>The value of the property is that which is obtained by <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> the <a class="dfnref" href="#dfn-constant">constant</a>’s IDL value to an ECMAScript value.</li>
              <li>The property has attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>.</li>
            </ul>
            <p>
              In addition, a property with the same characteristics <span class="rfc2119">MUST</span>
              exist on the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.
            </p>
          </div>

          <div id="es-attributes" class="section">
            <h4>4.4.6. Attributes</h4>

            <p>
              For each <a class="dfnref" href="#dfn-attribute">attribute</a> defined on
              the <a class="dfnref" href="#dfn-interface">interface</a>, there
              <span class="rfc2119">MUST</span> exist one or more corresponding properties.
              The characteristics of these properties are as follows:
            </p>
            <ul>
              <li>
                The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-attribute">attribute</a>.
              </li>
              <li>
                If the attribute is a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>,
                then there is a single corresponding property and it exists on the interface’s <a class="dfnref" href="#dfn-interface-object">interface object</a>.
                Otherwise, if the attribute was declared with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                then there exists a corresponding property on every object that implements the 
                interface. Otherwise, there is a single corresponding property and it exists on the interface’s
                <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.
              </li>
              <li>
                The property has attributes <span class="descriptor">{ [[Get]]: <var>G</var>, [[Set]]: <var>S</var>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <var>configurable</var> }</span>,
                where:
                <ul>
                  <li><var>configurable</var> is <span class="esvalue">false</span> if the attribute was
                    declared with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a> extended attribute and <span class="esvalue">true</span> otherwise;</li>
                  <li><var>G</var> is the <a class="dfnref" href="#dfn-attribute-getter">attribute getter</a>, defined below; and</li>
                  <li><var>S</var> is the <a class="dfnref" href="#dfn-attribute-setter">attribute setter</a>, also defined below.</li>
                </ul>
              </li>
              <li>
                The <dfn id="dfn-attribute-getter">attribute getter</dfn> is a <span class="estype">Function</span>
                object whose behavior when invoked is as follows:
                <ol class="algorithm">
                  <li>Let <var>idlValue</var> be an IDL value determined as follows.</li>
                  <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> is a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, then:
                    <ol>
                      <li>Let <var>O</var> be the <strong>this</strong> value.</li>
                      <li>If <var>O</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements the <a class="dfnref" href="#dfn-interface">interface</a>
                        on which the attribute was declared, then:
                        <ol>
                          <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> was specified with the
                            <a class="xattr" href="#LenientThis">[LenientThis]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                            then return <span class="esvalue">undefined</span>.</li>
                          <li>Otherwise, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                        </ol></li>
                      <li>
                        Set <var>idlValue</var> to be the result of performing the actions listed in the description of the attribute that occur when getting
                        (or those listed in the description of the inherited attribute, if this attribute is declared to
                        <a class="dfnref" href="#dfn-inherit-getter">inherit its getter</a>),
                        with <var>O</var> as the object.
                      </li>
                    </ol>
                  </li>
                  <li>Otherwise, the attribute is a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
                    Set <var>idlValue</var> to be the result of performing the actions listed in the description of the attribute that occur when getting.</li>
                  <li>
                    Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>idlValue</var> to an ECMAScript value.
                  </li>
                  <li>
                    Return <var>V</var>.
                  </li>
                </ol>
                The value of the <span class="estype">Function</span> object’s “length”
                property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.
              </li>
              <li>
                The <dfn id="dfn-attribute-setter">attribute setter</dfn> is <span class="esvalue">undefined</span>
                if the attribute is declared <code>readonly</code> and has neither a
                <a class="xattr" href="#PutForwards">[PutForwards]</a> nor a <a class="xattr" href="#Replaceable">[Replaceable]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> declared on it.
                Otherwise, it is a <span class="estype">Function</span> object whose behavior when invoked is as follows:
                <ol>
                  <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> is a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, then:
                    <ol>
                      <li>Let <var>O</var> be the <strong>this</strong> value.</li>
                      <li>Let <var>validThis</var> be <span class="esvalue">true</span> if <var>O</var> is a
                        <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements the
                        <a class="dfnref" href="#dfn-interface">interface</a> on which the attribute was declared, or
                        <span class="esvalue">false</span> otherwise.</li>
                      <li>If <var>validThis</var> is <span class="esvalue">false</span> and the
                        <a class="dfnref" href="#dfn-attribute">attribute</a> was not specified with the
                        <a class="xattr" href="#LenientThis">[LenientThis]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                        then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                      <li>Let <var>V</var> be the value of the first argument passed to the <span class="estype">Function</span>,
                        or <span class="esvalue">undefined</span> if no arguments were passed.</li>
                      <li>If the attribute is declared with a <a class="xattr" href="#Replaceable">[Replaceable]</a>
                        extended attribute, then:
                        <ol>
                          <li>Let <var>P</var> be the identifier of the attribute.</li>
                          <li>Call the <span class="prop">[[DefineOwnProperty]]</span> method of <var>O</var>
                            passing property name <var>P</var>, Property Descriptor
                            <span class="desc">{ [[Value]]: <var>V</var>, [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>,
                            and <b>false</b>.</li>
                          <li>Return <span class="esvalue">undefined</span>.</li>
                        </ol>
                      </li>
                      <li>If <var>validThis</var> is <span class="esvalue">false</span>, then return.</li>
                      <li>If the attribute is declared with a <a class="xattr" href="#PutForwards">[PutForwards]</a>
                        extended attribute, then:
                        <ol>
                          <li>Let <var>Q</var> be the result of calling the <span class="prop">[[Get]]</span> method
                            on <var>O</var> using the identifier of the attribute as the property name.</li>
                          <li>If <var>Q</var> is not an object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                          <li>Let <var>A</var> be the attribute identified by the <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute.</li>
                          <li>Call the <span class="prop">[[Put]]</span> method on <var>Q</var>
                            using the identifier of <var>A</var> as the property name and <var>V</var> as the value.</li>
                          <li>Return.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                  <li>Let <var>idlValue</var> be an IDL value determined as follows:
                    <ul>
                      <li>If the type of the attribute is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then:
                        <ol>
                          <li>Let <var>S</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
                          <li>If <var>S</var> is not of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>, then return <span class="esvalue">undefined</span>.</li>
                          <li>The value of <var>idlValue</var> is the enumeration value equal to <var>S</var>.</li>
                        </ol>
                      </li>
                      <li>Otherwise, the type of the attribute is not an <a class="dfnref" href="#dfn-enumeration">enumeration</a>.
                        The value of <var>idlValue</var> is the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                        <var>V</var> to an IDL value.</li>
                    </ul></li>
                  <li>If the attribute is a regular attribute, then perform the actions listed in the description of the attribute that occur when setting,
                    with <var>O</var> as the object and <var>idlValue</var> as the value.</li>
                  <li>Otherwise, the attribute is a <a class="dfnref" href="#dfn-static-atttribute">static attribute</a>.
                    Perform the actions listed in the description of the attribute that occur when setting with <var>idlValue</var> as the value.</li>
                  <li>Return <span class="esvalue">undefined</span>.</li>
                </ol>
                The value of the <span class="estype">Function</span> object’s “length”
                property is the <span class="estype">Number</span> value <span class="esvalue">1</span>.
              </li>
            </ul>
            <p>
              Note that attempting to assign to a property corresponding to a
              <a class="dfnref" href="#dfn-read-only">read only</a> <a class="dfnref" href="#dfn-attribute">attribute</a>
              results in different behavior depending on whether the script doing so is in strict mode.
              When in strict mode, such an assignment will result in a <span class="estype">TypeError</span>
              being thrown.  When not in strict mode, the assignment attempt will be ignored.
            </p>
          </div>

          <div id="es-operations" class="section">
            <h4>4.4.7. Operations</h4>

            <p>
              For each unique <a class="dfnref" href="#dfn-identifier">identifier</a>
              of an <!--non-<a class='dfnref' href='#dfn-omittable'>omittable</a>-->
              <a class="dfnref" href="#dfn-operation">operation</a>
              defined on the <a class="dfnref" href="#dfn-interface">interface</a>, there
              <span class="rfc2119">MUST</span> be a corresponding property on
              the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              (if it is a <a class="dfnref" href="#dfn-regular-operation">regular operation</a>)
              or the <a class="dfnref" href="#dfn-interface-object">interface object</a>
              (if it is a <a class="dfnref" href="#dfn-static-operation">static operation</a>),
              unless the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
              for that <a class="dfnref" href="#dfn-identifier">identifier</a> and <a class="dfnref" href="#dfn-operation">operation</a>
              and with an argument count of 0 has no entries.
            </p>
            <p>
              The characteristics of such a corresponding property are as follows:
            </p>
            <ul>
              <li>The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a>.</li>
              <li>
                The property has attributes
                <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>.
              </li>
              <li>
                The value of the property is a <span class="estype">Function</span> object whose
                behavior is as follows,
                assuming <var>id</var> is the
                <a class="dfnref" href="#dfn-identifier">identifier</a>,
                <var>arg</var><sub>0..<var>n</var>−1</sub> is the list
                of argument values passed to the function
                and <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>:
                <ol>
                  <li>
                    Let <var>O</var> be a value determined as follows:
                    <ul>
                      <li>
                        If the operation is a static operation, then <var>O</var> is <span class="esvalue">null</span>.
                      </li>
                      <li>
                        Otherwise, if the <a class="dfnref" href="#dfn-interface">interface</a> on which the
                        <a class="dfnref" href="#dfn-operation">operation</a> appears has an
                        <a class="xattr" href="#ImplicitThis">[ImplicitThis]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
                        and the <span class="esvalue">this</span> value is <span class="esvalue">null</span>
                        or <span class="esvalue">undefined</span>, then <var>O</var> is
                        the ECMAScript global object associated with the <span class="estype">Function</span> object.
                      </li>
                      <li>
                        Otherwise, if the <span class="esvalue">this</span> value is not <span class="esvalue">null</span>,
                        then <var>O</var> is the <span class="esvalue">this</span> value.
                      </li>
                      <li>
                        Otherwise, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                      </li>
                    </ul>
                  </li>
                  <li>
                    If <var>O</var> is not <span class="esvalue">null</span> and is also not a <a class="dfnref" href="#dfn-platform-object">platform object</a>
                    that implements interface <var>I</var>, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                  </li>
                  <li>
                    Initialize <var>S</var> to the
                    <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                    for <a class="dfnref" href="#dfn-regular-operation">regular operations</a>
                    (if the operation is a regular operation) or for
                    <a class="dfnref" href="#dfn-static-operation">static operations</a>
                    (if the operation is a static operation) with
                    <a class="dfnref" href="#dfn-identifier">identifier</a>
                    <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                    <var>I</var> and with argument count <var>n</var>.
                  </li>
                  <li>
                    Let &lt;<var>operation</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
                    <var>arg</var><sub>0..<var>n</var>−1</sub> to the
                    <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
                  </li>
                  <li>
                    Let <var>R</var> be the result of performing (on <var>O</var>, if the operation
                    is not a static operation) the actions listed in the description of
                    <var>operation</var> with <var>values</var> as the argument values.
                  </li>
                  <li>
                    Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>R</var> to an ECMAScript value of
                    the type <var>op</var> is declared to return.
                  </li>
                </ol>
              </li>
              <li>
                The value of the <span class="estype">Function</span> object’s “length”
                property is a <span class="estype">Number</span> determined as follows:
                <ol>
                  <li>
                    Let <var>S</var> be the
                    <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                    for <a class="dfnref" href="#dfn-regular-operation">regular operations</a>
                    (if the operation is a regular operation) or for
                    <a class="dfnref" href="#dfn-static-operation">static operations</a>
                    (if the operation is a static operation) with
                    <a class="dfnref" href="#dfn-identifier">identifier</a>
                    <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                    <var>I</var> and with argument count 0.
                  </li>
                  <li>
                    Return the maximum argument list length of the functions in the entries of <var>S</var>.
                  </li>
                </ol>
              </li>
            </ul>

            <div id="es-stringifier" class="section">
              <h5>4.4.7.1. Stringifiers</h5>

              <p>
                If the <a class="dfnref" href="#dfn-interface">interface</a>
                has a <a class="dfnref" href="#dfn-stringifier">stringifier</a>, then
                a property <span class="rfc2119">MUST</span> exist on
                the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
                whose name is “toString”,
                with attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
                and whose value is a
                <span class="estype">Function</span> object.  If <code>stringifier</code>
                was specified on an <a class="dfnref" href="#dfn-attribute">attribute</a> <var>A</var>, then the
                function, when invoked,
                <span class="rfc2119">MUST</span> behave as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>O</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>If <var>O</var> is not an object that implements the <a class="dfnref" href="#dfn-interface">interface</a>
                  on which <var>A</var> was declared, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>
                  Let <var>V</var> be the result of invoking the <span class="prop">[[Get]]</span> method of <var>O</var>
                  with <var>P</var> as the argument.
                </li>
                <li>Return <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
              </ol>
              <p>
                If <code>stringifier</code>
                was specified on an <a class="dfnref" href="#dfn-operation">operation</a>
                with an identifier <var>P</var>, then
                the function, when invoked,
                <span class="rfc2119">MUST</span> behave as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>O</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>
                  Let <var>F</var> be the result of invoking the <span class="prop">[[Get]]</span> method of object
                  <var>O</var> with <var>P</var> as the argument.
                </li>
                <li>If <var>F</var> is not callable, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>Let <var>V</var> be the result of invoking the <span class="prop">[[Call]]</span> method of <var>F</var>,
                  using <var>O</var> as the <span class="esvalue">this</span> value
                  and passing no arguments.</li>
                <li>Return <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>V</var>).</li>
              </ol>
              <p>
                If <code>stringifier</code>
                was specified on an <a class="dfnref" href="#dfn-operation">operation</a>
                with no identifier,
                then the behavior of the function
                is the <a class="dfnref" href="#dfn-stringification-behavior">stringification behavior</a>
                of the interface, as described in the prose for the interface.
              </p>
            </div>

            <div id="es-serializer" class="section">
              <h5>4.4.7.2. Serializers</h5>

              <p>
                If the <a class="dfnref" href="#dfn-interface">interface</a>
                has a <a class="dfnref" href="#dfn-serializer">serializer</a>, then
                a property <span class="rfc2119">MUST</span> exist on
                the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
                whose name is “toJSON”,
                with attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
                and whose value is a
                <span class="estype">Function</span> object.  If <code>stringifier</code>
                was specified on an <a class="dfnref" href="#dfn-operation">operation</a>
                with an identifier <var>P</var>, then
                the function, when invoked,
                <span class="rfc2119">MUST</span> behave as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>O</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>
                  Let <var>F</var> be the result of invoking the <span class="prop">[[Get]]</span> method of object
                  <var>O</var> with <var>P</var> as the argument.
                </li>
                <li>If <var>F</var> is not callable, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>Let <var>V</var> be the result of invoking the <span class="prop">[[Call]]</span> method of <var>F</var>,
                  using <var>O</var> as the <span class="esvalue">this</span> value
                  and passing no arguments.</li>
                <li>Return <var>V</var>.</li>
              </ol>
              <p>
                If <code>stringifier</code> was specified as a keyword, either with
                or without a <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a>, then
                the function, when invoked, <span class="rfc2119">MUST</span> behave as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>O</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>Let <var>S</var> be the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> that is the result of invoking the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the
                  <a class="dfnref" href="#dfn-interface">interface</a> for object <var>O</var>.</li>
                <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a>
                  <var>S</var> to an ECMAScript value.</li>
                <li>Return <var>V</var>.</li>
              </ol>
              <p>
                The following steps define how to <dfn id="dfn-convert-serialized-value-to-ecmascript-value">convert a serialized value to an ECMAScript value</dfn>:
              </p>
              <ol class="algorithm">
                <li>Let <var>S</var> be the <a class="dfnref" href="#dfn-serialized-value">serialized value</a>.</li>
                <li>Depending on the type of <var>S</var>:
                  <dl class="switch">
                    <dt>a map</dt>
                    <dd>
                      <ol class="algorithm">
                        <li>Let <var>O</var> be a new object created as if by the expression <code>({})</code>.</li>
                        <li>For each entry in <var>S</var>, in the order they were added to the map:
                          <ol>
                            <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a>
                            the value of the entry to an ECMAScript value.</li>
                            <li>Let <var>P</var> be the entry’s key.</li>
                            <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing
                            property name <var>P</var>, Property Descriptor <span class="descriptor">{ [[Value]]: <var>V</var>,
                            [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>,
                            [[Configurable]]: <span class="esvalue">true</span> }</span>, and <span class="esvalue">false</span>
                            as arguments.</li>
                          </ol>
                        </li>
                        <li>Return <var>O</var>.</li>
                      </ol>
                    </dd>
                    <dt>a list</dt>
                    <dd>
                      <ol class="algorithm">
                        <li>Let <var>A</var> be a new <span class="estype">Array</span> object created as if by the expression <code>[]</code>.</li>
                        <li>Let <var>index</var> be 0.</li>
                        <li>While <var>index</var> is less than the number of elements in <var>S</var>:
                          <ol>
                            <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a>
                            the value of the element in <var>S</var> at index <var>index</var> to an ECMAScript value.</li>
                            <li>Let <var>P</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>index</var>).</li>
                            <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing
                            property name <var>P</var>, Property Descriptor <span class="descriptor">{ [[Value]]: <var>V</var>,
                            [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>,
                            [[Configurable]]: <span class="esvalue">true</span> }</span>, and <span class="esvalue">false</span>
                            as arguments.</li>
                          </ol>
                        </li>
                        <li>Return <var>A</var>.</li>
                      </ol>
                    </dd>
                    <dt>any other serialized value</dt>
                    <dd>
                      <ol class="algorithm">
                        <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                        <var>S</var> to an ECMAScript value.</li>
                        <li>Return <var>V</var>.</li>
                      </ol>
                    </dd>
                  </dl>
                </li>
              </ol>
            </div>
          </div>

          <div id="es-iterators" class="section">
            <h4>4.4.8. Iterators</h4>

            <p>
              If the <a class="dfnref" href="#dfn-interface">interface</a>
              has an <a class="dfnref" href="#dfn-iterator">iterator</a> or
              if the interface defines an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>, then
              a property <span class="rfc2119">MUST</span> exist on
              the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              whose name is “iterator”,
              with attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
              and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>.
            </p>
            <p>
              If the interface has an <a class="dfnref" href="#dfn-iterator">iterator</a>,
              then the <a class="dfnref" href="#dfn-function-object">function object</a>
              function, when invoked, <span class="rfc2119">MUST</span> behave as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>object</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
              <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a>
                on which the <a class="dfnref" href="#dfn-iterator">iterator</a> is declared.</li>
              <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a>
                that implements <var>interface</var>,
                then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Let <var>iterator</var> be an object determined depending on how the
                <a class="dfnref" href="#dfn-iterator">iterator</a> was declared:
                <dl class="switch">
                  <dt>identifying an <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a></dt>
                  <dd><var>iterator</var> is the result of following the definition of how to
                    <a class="dfnref" href="#dfn-create-iterator-object">create an iterator object</a>
                    for <var>object</var>.</dd>
                  <dt>otherwise</dt>
                  <dd><var>iterator</var> is a newly created <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a>
                    for <var>interface</var> with <var>object</var> as its target.</dd>
                </dl>
              </li>
              <li>Return <var>iterator</var>.</li>
            </ol>
            <p>
              If the interface does not have an <a class="dfnref" href="#dfn-iterator">iterator</a>
              but does define an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>,
              then <a class="dfnref" href="#dfn-function-object">function object</a> that is
              the value of the <code>iterator</code> property, when invoked, <span class="rfc2119">MUST</span>
              behave as follows:
            </p>
            <ol class="algorithm">
              <li>Let <var>object</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
              <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a>
                that implements the <a class="dfnref" href="#dfn-interface">interface</a>
                on which the <a class="dfnref" href="#dfn-iterator">iterator</a> is defined,
                then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Let <var>proto</var> be the [[ArrayIteratorPrototype]] object.</li>
              <li>Return a new object with internal properties <span class="descriptor">{ [[NativeBrand]]: NativeArrayIterator, [[Prototype]]: <var>proto</var>, [[Target]]: <var>object</var>, [[Index]]: 0 }</span>.</li>
            </ol>
            <div class="ednote"><div class="ednoteHeader">Editorial note</div>
              <p>
                Native array iterators are currently only defined in
                <a href="http://wiki.ecmascript.org/doku.php?id=harmony:iterators">a strawman wiki page</a>
                and this will need to updated once they have been added to the ES6 spec.
              </p>
            </div>
            <p>
              In either case, the value of the <span class="estype">Function</span> object’s “length”
              property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.
            </p>

            <div id="es-default-iterator-object" class="section">
              <h5>4.4.8.1. Default iterator objects</h5>

              <p>
                A <dfn id="dfn-default-iterator-object">default iterator object</dfn> for a given
                <a class="dfnref" href="#dfn-interface">interface</a> and target
                is an object whose internal [[Prototype]] property is the
                <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
                for the <a class="dfnref" href="#dfn-interface">interface</a>.
              </p>
              <p>
                A <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a>
                has two internal values:
              </p>
              <ol>
                <li>its <em>target</em>, which is an object whose values are to be iterated, and</li>
                <li>its <em>state</em>, which is an value that is used to track the state of the iterator.</li>
              </ol>
              <p>
                The state of a <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a>
                can be <a class="dfnref" href="#dfn-uninitialized-iterator-state">uninitialized</a>,
                or it can be any value that the <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a>
                of the <a class="dfnref" href="#dfn-interface">interface</a> specifies, 
                or it can be the special value <strong>finished</strong>.  When a
                <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> is first created,
                its state begins <a class="dfnref" href="#dfn-uninitialized-iterator-state">uninitialized</a>.
                Once it has iterated through all of the values of the target object, its state will be the
                special <strong>finished</strong> value.
              </p>
              <p>
                The <a class="dfnref" href="#dfn-class-string">class string</a> of a
                <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a>
                for a given <a class="dfnref" href="#dfn-interface">interface</a>
                is the result of concatenting the <a class="dfnref" href="#dfn-identifier">identifier</a>
                of the <a class="dfnref" href="#dfn-interface">interface</a> and
                the string “Iterator”.
              </p>
            </div>

            <div id="es-iterator-prototype-object" class="section">
              <h5>4.4.8.2. Iterator prototype object</h5>

              <p>
                The <dfn id="dfn-iterator-prototype-object">iterator prototype object</dfn>
                for a given <a class="dfnref" href="#dfn-interface">interface</a>
                is an object that exists for every interface that defines an
                <a class="dfnref" href="#dfn-iterator">iterator</a>.  It serves as the
                prototype for <a class="dfnref" href="#dfn-default-iterator-object">default iterator objects</a>
                for the interface.
              </p>
              <p>
                The internal [[Prototype]] property of an <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
                <span class="rfc2119">MUST</span> be the Object.prototype object.
              </p>
              <p>
                An <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
                <span class="rfc2119">MUST</span> have a property named “next” with
                attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
                and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>
                that behaves as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a> for which the
                  <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a> exists.</li>
                <li>Let <var>object</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for <var>interface</var>,
                  then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>Let <var>target</var> be <var>object</var>’s target.</li>
                <li>If <var>object</var>’s state is the special value <strong>finished</strong>, then <a href="#ecmascript-throw" class="dfnref external">throw <span class="estype">StopIteration</span></a>.</li>
                <li>Let <var>value</var> be the result of performing the steps listed as the <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a>
                  of the <a class="dfnref" href="#dfn-interface">interface</a> for the <var>target</var> object, with the <var>object</var>’s state as the <a class="dfnref" href="#dfn-iterator-state">iterator state</a>.</li>
                <li>If the <a class="dfnref" href="#dfn-iterator-behavior">iterator behavior</a> <a class="dfnref" href="#dfn-iteration-return-no-value">returned no value</a>,
                  then <a href="#ecmascript-throw" class="dfnref external">throw <span class="estype">StopIteration</span></a>.</li>
                <li>Return <var>value</var>.</li>
              </ol>
              <p>
                The <a class="dfnref" href="#dfn-class-string">class string</a> of an
                <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
                for a given <a class="dfnref" href="#dfn-interface">interface</a>
                is the result of concatenting the <a class="dfnref" href="#dfn-identifier">identifier</a>
                of the <a class="dfnref" href="#dfn-interface">interface</a> and
                the string “Iterator”.
              </p>
            </div>

            <div id="es-iterator-object-interfaces" class="section">
              <h5>4.4.8.3. Iterator object interfaces</h5>

              <p>
                The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
                for an <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>
                <span class="rfc211">MUST</span> have a property named “next” with
                attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
                and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>
                that behaves as follows:
              </p>
              <ol class="algorithm">
                <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-iterator-object-interface">iterator object interface</a>.</li>
                <li>Let <var>object</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>interface</var>,
                  then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>Let <var>value</var> be the result of performing the steps listed as the <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a>
                  of the <a class="dfnref" href="#dfn-interface">interface</a> for <var>object</var>.</li>
                <li>If the <a class="dfnref" href="#dfn-iterator-object-behavior">iterator object behavior</a> returned <a class="dfnref" href="#dfn-iteration-return-no-value">returned no value</a>,
                  then <a href="#ecmascript-throw" class="dfnref external">throw <span class="estype">StopIteration</span></a>.</li>
                <li>Return <var>value</var>.</li>
              </ol>
              <p>
                The value of the <span class="estype">Function</span> object’s “length”
                property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.
              </p>
            </div>
          </div>
        </div>

        <div id="es-implements-statements" class="section">
          <h3>4.5. Implements statements</h3>

          <p>
            The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
            of an interface <var>A</var> <span class="rfc2119">MUST</span> have a copy of
            each property that corresponds to one of the
            <a class="dfnref" href="#dfn-constant">constants</a>,
            <a class="dfnref" href="#dfn-attribute">attributes</a> or
            <a class="dfnref" href="#dfn-operation">operations</a> that exist on
            all of the interface prototype objects of <var>A</var>’s
            <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>.
          </p>
        </div>

        <div id="es-platform-objects" class="section">
          <h3>4.6. Platform objects implementing interfaces</h3>

          <p>
            Every <a class="dfnref" href="#dfn-platform-object">platform object</a> is associated with a global environment, just
            as the <a class="dfnref" href="#dfn-initial-object">initial objects</a> are.
            It is the responsibility of specifications using Web IDL to state
            which global environment (or, by proxy, which global object) each platform
            object is associated with.
          </p>
          <p>
            The <dfn id="dfn-primary-interface">primary interface</dfn> of a platform object
            that implements one or more interfaces is the most-derived <a class="dfnref" href="#dfn-supplemental-interface">non-supplemental interface</a>
            that it implements.  The value of the internal <span class="prop">[[Prototype]]</span>
            property of the platform object is the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
            of the <a class="dfnref" href="#dfn-primary-interface">primary interface</a>
            from the <a class="dfnref" href="#dfn-platform-object">platform object</a>’s associated global environment.
          </p>
          <!--
          <p>
            The value of the host object’s internal <span class='prop'>[[Prototype]]</span>
            property is determined as follows:
          </p>
          <ul>
            <li>
              If the host object implements no <a class='dfnref' href='#dfn-interface'>interfaces</a>,
              then its internal <span class='prop'>[[Prototype]]</span> property
              value is a reference to the <span class='estype'>Object</span>
              prototype object from the object’s associated global environment.
            </li>
            <li>
              If the host object implements a single
              <a class='dfnref' href='#dfn-interface'>interface</a>, then its
              internal <span class='prop'>[[Prototype]]</span> property is a
              reference to the
              <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
              from the object’s associated global environment for that interface.
            </li>
            <li>
              Otherwise, if the host object has a <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
              and implements no interfaces other than its primary
              prototype interface and all of its ancestors, then the value of
              the internal <span class='prop'>[[Prototype]]</span> property is
              a reference to the
              <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
              from the host object’s associated global environment
              for the host object’s primary prototype interface.
            </li>
            <li>
              Otherwise, the host object implements at least two
              <a class='dfnref' href='#dfn-interface'>interfaces</a>, and has no
              <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
              or implements some interfaces other than its primary prototype
              interface and all of its ancestors.  The value of the
              internal <span class='prop'>[[Prototype]]</span> property is
              a reference to the <a class='dfnref' href='#dfn-host-object-mixin-prototype-object'>host object mixin prototype object</a>
              for the host object (defined below).
            </li>
          </ul>
          -->
          <p>
            The <a class="dfnref" href="#dfn-class-string">class string</a> of 
            a platform object that implements one or more interfaces
            <span class="rfc2119">MUST</span> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of
            the <a class="dfnref" href="#dfn-primary-interface">primary interface</a>
            of the platform object.
          </p>
          <!--
              of that interface.
            determined as follows:
          </p>
          <ul>
            <li>
              If the host object implements a single
              <a class='dfnref' href='#dfn-interface'>interface</a>, then the
              value of the internal <span class='prop'>[[Class]]</span>
              property <span class='rfc2119'>MUST</span> be the
              <a class='dfnref' href='#dfn-identifier'>identifier</a>
              of that interface.
            </li>
            <li>
              Otherwise, if the host object has a
              <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>,
              then the value of the internal <span class='prop'>[[Class]]</span>
              property <span class='rfc2119'>MUST</span> be the
              identifier of that interface.
            </li>
            <li>
              Otherwise, no particular value is required to be used for the
              value of the internal <span class='prop'>[[Class]]</span>
              property.
            </li>
          </ul>
          <div class='ednote'>
            <p>Should there be more restrictions on the <span class='prop'>[[Class]]</span>?
              <a href='http://www.w3.org/mid/Pine.LNX.4.62.0903072358030.2690@hixie.dreamhostps.com'>(Mail.)</a></p>
          </div>

          <div id='host-object-mixin-prototype' class='section'>
            <h4>Host object mixin prototype object</h4>

            <p>
              The <dfn id='dfn-host-object-mixin-prototype-object'>host object mixin prototype object</dfn>
              for a given host object is an object as follows:
            </p>
            <ul>
              <li>The object has properties that are the union of all
                properties that exist on the <a class='dfnref' href='#dfn-interface'>interfaces</a>
                that the host object implements and which are not the host object’s
                <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
                or one of its ancestors.</li>
              <li>The object’s internal <span class='prop'>[[Prototype]]</span> property value
                is a reference to the <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
                for the host object’s <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>,
                or, if the host object has no primary prototype interface, a reference to the
                <span class='estype'>Object</span> prototype object.  The
                prototype object chosen for the <span class='prop'>[[Prototype]]</span> property
                value is the one from the host object’s associated global environment.</li>
            </ul>
            <p>
              If two host objects implement the same set of
              <a class='dfnref' href='#dfn-interface'>interfaces</a>,
              have references to <a class='dfnref' href='#dfn-host-object-mixin-prototype-object'>host object mixin prototype objects</a>
              as their internal <span class='prop'>[[Prototype]]</span> property values,
              and are both associated with the same global environment,
              then these host object mixin prototype objects
              <span class='rfc2119'>MUST</span> be the same object.
            </p>
          </div>
          -->

          <div id="indexed-and-named-properties" class="section">
            <h4>4.6.1. Indexed and named properties</h4>

            <p>
              If a <a class="dfnref" href="#dfn-platform-object">platform object</a> implements an <a class="dfnref" href="#dfn-interface">interface</a> that
              <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
              <a class="dfnref" href="#dfn-support-named-properties">named properties</a>,
              the object will appear to have additional properties that correspond to the
              object’s indexed and named properties.  These properties are not “real” own
              properties on the object, but are made to look like they are by being exposed
              by the <span class="prop">[[GetOwnProperty]]</span> internal method.
            </p>
            <p>
              However, when the <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> has been used,
              named properties are not exposed on the object but on the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              itself.
            </p>
            <p>
              It is permissible for an object to implement multiple interfaces that support indexed properties.
              However, if so, and there are conflicting definitions as to the object’s
              <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a>,
              or if one of the interfaces is a <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a> for the
              platform object, then it is undefined what additional properties the object will appear to
              have, or what its exact behavior will be with regard to its indexed properties.
              The same applies for named properties.
            </p>
            <p>
              The <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>
              that is defined on the derived-most interface that the
              platform object implements is the one that defines the behavior
              when indexing the object with an array index.  Similarly for
              <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setters</a>,
              <a class="dfnref" href="#dfn-indexed-property-deleter">deleters</a> and
              <a class="dfnref" href="#dfn-indexed-property-creator">creators</a>.
              This way, the definitions of these special operations from
              ancestor interfaces can be overridden.
            </p>

            <p>
              Platform objects implementing an interface that supports indexed or named properties cannot be fixed; if <code>Object.freeze</code>, <code>Object.seal</code>
              or <code>Object.preventExtensions</code> is called on one of these objects, these the function
              <span class="rfc2119">MUST</span> <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
              Similarly, an <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>
              that exposes named properties due to the use of <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
              also <span class="rfc2119">MUST</span> <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>
              if one of the three functions above is called on it.
            </p>

            <p>
              The name of each property that appears to exist due to an object supporting indexed properties
              is an <dfn id="dfn-array-index-property-name">array index property name</dfn>, which is a property
              name <var>P</var> for which the following algorithm returns <span class="esvalue">true</span>:
            </p>
            <ol class="algorithm">
              <li>Let <var>i</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
              <li>Let <var>s</var> be <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>i</var>).</li>
              <li>If <var>s</var> ≠ <var>P</var> or <var>i</var> = 2<sup>32</sup> − 1, then return <span class="esvalue">false</span>.</li>
              <li>Return <span class="esvalue">true</span>.</li>
            </ol>

            <!--
            <p>
              Specifications can state that certain named properties are <dfn id='dfn-resolved-before-prototype-properties'>resolved
              before prototype properties</dfn>.  This means that such named properties will be resolved after real own
              properties on the object (as with all non-<a class='xattr' href='#OverrideBuiltins'>[OverrideBuiltins]</a> named
              properties), but before properties from the prototype chain.  Specifications <span class='rfc2119'>SHOULD NOT</span>
              declare any named properties to be <a href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>
              unless this is required to specify the behavior of legacy APIs.
            </p>
            <div class='note'>
              <p>At the time of writing, the only known justifiable use of named properties that are
              <a href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>
              is the <span class='esvalue'>Window</span> interface defined in HTML5 (<a href='#ref-HTML5'>[HTML5]</a>, section 5.2).</p>
            </div>
            -->
            <p>
              The <dfn id="dfn-named-property-visibility">named property visibility algorithm</dfn> is used to determine if
              a given named property is exposed on an object.  Some named properties are not exposed on an object
              depending on whether the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> was used.  The algorithm
              operates as follows, with property name <var>P</var> and object <var>O</var>:
            </p>
            <ol class="algorithm">
              <li>If <var>O</var> implements an <a class="dfnref" href="#dfn-interface">interface</a> with
                an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated <a class="dfnref" href="#dfn-attribute">attribute</a>
                whose <a class="dfnref" href="#dfn-identifier">identifier</a> is <var>P</var>, then return false.</li>
              <li>If <var>P</var> is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>
                of <var>O</var>, then return false.</li>
              <li>If <var>O</var> implements an interface that has the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then return true.</li>
              <li>If <var>O</var> has an own property named <var>P</var>, then return false.</li>
              <!--
              <li>If <var>P</var> is to be <a class='dfnref' href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>, then return true.</li>
              -->
              <li>Let <var>prototype</var> be the value of the internal <span class="prop">[[Prototype]]</span> property of <var>O</var>.</li>
              <li>If <var>prototype</var> is <span class="esvalue">null</span>, then return true.</li>
              <li>If the result of calling the <span class="prop">[[HasProperty]]</span> internal method on <var>prototype</var> with property name <var>P</var> is <span class="esvalue">true</span>, then return false.</li>
              <li>Return true.</li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>This should ensure that for objects with named properties, property resolution is done in the following order:</p>
              <ol>
                <li>Indexed properties.</li>
                <li>Unforgeable attributes.</li>
                <li>Then, if <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>:
                  <ol>
                    <li>Named properties.</li>
                    <li>Own properties.</li>
                    <li>Properties from the prototype chain.</li>
                  </ol>
                </li>
                <li>Otherwise, if not <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>:
                  <ol>
                    <li>Own properties.</li>
                    <!--
                    <li>Any named properties to be <a class='dfnref' href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>.</li>
                    -->
                    <li>Properties from the prototype chain.</li>
                    <!--
                    <li>Any other named properties.</li>
                    -->
                    <li>Named properties.</li>
                  </ol>
                </li>
              </ol>
            </div>
            <p>
              Support for <a class="dfnref" href="#dfn-getter">getters</a> is
              handled by the <a href="#defineownproperty">platform object [[GetOwnProperty]] method</a>
              defined in section 4.6.2,
              for <a class="dfnref" href="#dfn-creator">creators</a> and
              <a class="dfnref" href="#dfn-setter">setters</a>
              by the <a href="#defineownproperty">platform object [[DefineOwnProperty]] method</a>
              defined in section 4.6.3, and
              for <a class="dfnref" href="#dfn-deleter">deleters</a>
              by the <a href="#delete">platform object [[Delete]] method</a>
              defined in section 4.6.4.
            </p>
          </div>

          <div id="getownproperty" class="section">
            <h4>4.6.2. Platform object [[GetOwnProperty]] method</h4>

            <p>
              The internal <span class="prop">[[GetOwnProperty]]</span> method of every
              <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a>
              which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
              <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
              <span class="rfc2119">MUST</span> behave as follows when called with property name <var>P</var>:
            </p>

            <ol class="algorithm">
              <li>Let <var>ignore</var> be false.</li>

              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>
                and <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
                <ol>
                  <li>Let <var>index</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                  <li>If <var>index</var> is a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, then:
                    <ol>
                      <li>Let <var>operation</var> be the operation used to declare the indexed property getter.</li>

                      <li>Let <var>value</var> be an uninitialized variable.</li>
                      <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then
                        set <var>value</var> to the result of performing the steps listed in the interface description to
                        <a class="dfnref" href="#dfn-determine-the-value-of-an-indexed-property">determine the value of an indexed property</a>
                        with <var>index</var> as the index.</li>
                      <li>Otherwise, <var>operation</var> was defined with an identifier.  Set <var>value</var> to the result
                        of performing the steps listed in the description of <var>operation</var> with <var>index</var> as the only argument value.</li>

                      <li>Let <var>desc</var> be a newly created <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10">property descriptor</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.10) with no fields.</li>
                      <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                        <var>value</var> to an ECMAScript value.</li>
                      <li>If <var>O</var> implements an interface with an <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a>, then set
                        <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">true</span>, otherwise set it to
                        <span class="esvalue">false</span>.</li>
                      <li>Set <var>desc</var>.<span class="prop">[[Enumerable]]</span> and <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                      <li>Return <var>desc</var>.</li>
                    </ol>
                  </li>
                  <li>Set <var>ignore</var> to true.</li>
                </ol>
              </li>

              <li>If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, <var>O</var> does not
                implement an <a class="dfnref" href="#dfn-interface">interface</a> with the <a class="xattr" href="#NamedPropertiesObject">[NamedPropertiesObject]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, the result of running the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> with
                property name <var>P</var> and object <var>O</var> is true, and <var>ignore</var> is false, then:
                <ol>
                  <li>Let <var>operation</var> be the operation used to declare the named property getter.</li>

                  <li>Let <var>value</var> be an uninitialized variable.</li>
                  <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then
                    set <var>value</var> to the result of performing the steps listed in the interface description to
                    <a class="dfnref" href="#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a>
                    with <var>P</var> as the name.</li>
                  <li>Otherwise, <var>operation</var> was defined with an identifier.  Set <var>value</var> to the result
                    of performing the steps listed in the description of <var>operation</var> with <var>P</var> as the only argument value.</li>

                  <li>Let <var>desc</var> be a newly created <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10">property descriptor</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.10) with no fields.</li>
                  <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>value</var> to an ECMAScript value.</li>
                  <li>If <var>O</var> implements an interface with a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a><!-- and
                    <var>O</var> does not implement an interface with the <a class='xattr' href='#NamedPropertiesObject'>[NamedPropertiesObject]</a>
                    <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>-->, then set
                    <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">true</span>, otherwise set it to
                    <span class="esvalue">false</span>.</li>
                  <li>Set <var>desc</var>.<span class="prop">[[Enumerable]]</span> and <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                  <li>Return <var>desc</var>.</li>
                </ol>
              </li>

              <li>Return the result of calling the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.12.1">default <span class="prop">[[GetOwnProperty]]</span> internal method</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.12.1) on <var>O</var> passing <var>P</var> as the argument.</li>
            </ol>
          </div>

          <div id="defineownproperty" class="section">
            <h4>4.6.3. Platform object [[DefineOwnProperty]] method</h4>

            <p>
              The internal <span class="prop">[[DefineOwnProperty]]</span> method of every
              <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a>
              which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
              <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
              <span class="rfc2119">MUST</span> behave as follows when called with property name <var>P</var>,
              property descriptor <var>Desc</var> and boolean flag <var>Throw</var>.
              The term “Reject” is used as defined in
              <a href="#platform-array-object-defineownproperty">section 4.2.25.2</a> above.
            </p>

            <ol class="algorithm">
              <li>Set <var>Desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and
                <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
                <ol>
                  <li>If the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.2" class="dfnref external">IsDataDescriptor</a>(<var>Desc</var>) is <span class="esvalue">false</span>, then Reject.</li>
                  <li>Let <var>index</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                  <li>Let <var>creating</var> be true if <var>index</var> is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, and false otherwise.</li>
                  <li>If <var>creating</var> is true and <var>O</var> does not implement an interface with an <a class="dfnref" href="#dfn-indexed-property-creator">indexed property creator</a>, then Reject.</li>
                  <li>If <var>creating</var> is false and <var>O</var> does not implement an interface with an <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a>, then Reject.</li>
                  <li>Let <var>operation</var> be the operation used to declare the indexed property creator if <var>creating</var> is true,
                    or the indexed property setter if <var>creating</var> is false.</li>
                  <li>Let <var>T</var> be the type of the second argument of <var>operation</var>.</li>
                  <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>Desc</var>.<span class="prop">[[Value]]</span> to an IDL value of type <var>T</var>.</li>
                  <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
                    <ol>
                      <li>If <var>creating</var> is true, then perform the steps listed in the interface description to
                        <a class="dfnref" href="#dfn-set-the-value-of-a-new-indexed-property">set the value of a new indexed property</a>
                        with <var>index</var> as the index and <var>value</var> as the value.</li>
                      <li>Otherwise, <var>creating</var> is false.  Perform the steps listed in the interface description to
                        <a class="dfnref" href="#dfn-set-the-value-of-an-existing-indexed-property">set the value of an existing indexed property</a>
                        with <var>index</var> as the index and <var>value</var> as the value.</li>
                    </ol>
                  </li>
                  <li>Otherwise, <var>operation</var> was defined with an identifier.  Perform the steps listed in the description of
                    <var>operation</var> with <var>index</var> and <var>value</var> as the two argument values.</li>
                  <li>Return <span class="esvalue">true</span>.</li>
                </ol>
              </li>

              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>,
                <var>O</var> does not implement an <a class="dfnref" href="#dfn-interface">interface</a> with the
                <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                and <var>P</var> is not the <a class="dfnref" href="#dfn-identifier">identifier</a> of an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated <a class="dfnref" href="#dfn-attribute">attribute</a>
                on an interface that <var>O</var> implements, then:
                <ol>
                  <li>Let <var>creating</var> be true if <var>P</var> is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>, and false otherwise.</li>
                  <!--
                  <li>If <var>creating</var> is false and <var>O</var> implements an interface with the <a class='xattr' href='#NamedPropertiesObject'>[NamedPropertiesObject]</a>
                    <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>, then:
                    <ol>
                      <li>If the result of calling <a href='http://es5.github.com/#x8.10.1' class='dfnref external'>IsAccessorDescriptor</a>(<var>Desc</var>) is <span class='esvalue'>true</span>, then:
                        <ol>
                          <li>Create an own accessor property named <var>P</var> on <var>O</var> whose <span class='prop'>[[Get]]</span>,
                            <span class='prop'>[[Set]]</span>, <span class='prop'>[[Enumerable]]</span> and <span class='prop'>[[Configurable]]</span>
                            attribute values are described by <var>Desc</var>.  If the value of an attribute field of <var>Desc</var> is absent,
                            the attribute of the newly created property is set to its default value (<a href='#ref-ECMA-262'>[ECMA-262]</a>, section 8.6.1).</li>
                        </ol>
                      </li>
                      <li>Otherwise:
                        <ol>
                          <li>Create an own data property named <var>P</var> on <var>O</var> whose <span class='prop'>[[Value]]</span>,
                            <span class='prop'>[[Writable]]</span>, <span class='prop'>[[Enumerable]]</span> and <span class='prop'>[[Configurable]]</span>
                            attribute values are described by <var>Desc</var>.  If the value of an attribute field of <var>Desc</var> is absent,
                            the attribute of the newly created property is set to its default value (<a href='#ref-ECMA-262'>[ECMA-262]</a>, section 8.6.1).</li>
                        </ol>
                      </li>
                      <li>Return <span class='esvalue'>true</span>.</li>
                    </ol>
                  </li>
                  -->
                  <li><!--Otherwise, i-->If <var>O</var> implements an interface with the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
                    <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> or <var>O</var> does not have an own property
                    named <var>P</var>, then:
                    <ol>
                      <li>If <var>creating</var> is false and <var>O</var> does not implement an interface with a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a>, then Reject.</li>
                      <li>If <var>creating</var> is false or <var>O</var> implements an interface with a <a class="dfnref" href="#dfn-named-property-creator">named property creator</a>, then:
                        <ol>
                          <li>If the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8.10.2" class="dfnref external">IsDataDescriptor</a>(<var>Desc</var>) is <span class="esvalue">false</span>, then Reject.</li>
                          <li>Let <var>operation</var> be the operation used to declare the named property creator if <var>creating</var> is true,
                            or the named property setter if <var>creating</var> is false.</li>
                          <li>Let <var>T</var> be the type of the second argument of <var>operation</var>.</li>
                          <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>Desc</var>.<span class="prop">[[Value]]</span> to an IDL value of type <var>T</var>.</li>
                          <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
                            <ol>
                              <li>If <var>creating</var> is true, then perform the steps listed in the interface description to
                                <a class="dfnref" href="#dfn-set-the-value-of-a-new-named-property">set the value of a new named property</a>
                                with <var>P</var> as the name and <var>value</var> as the value.</li>
                              <li>Otherwise, <var>creating</var> is false.  Perform the steps listed in the interface description to
                                <a class="dfnref" href="#dfn-set-the-value-of-an-existing-named-property">set the value of an existing named property</a>
                                with <var>P</var> as the name and <var>value</var> as the value.</li>
                            </ol>
                          </li>
                          <li>Otherwise, <var>operation</var> was defined with an identifier.  Perform the steps listed in the description of
                            <var>operation</var> with <var>index</var> and <var>value</var> as the two argument values.</li>
                          <li>Return <span class="esvalue">true</span>.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>

              <li>Call the <a class="external" href="http://people.mozilla.org/jorendorff/es6-draft.html#sec-8.12.9">default <span class="prop">[[DefineOwnProperty]]</span> internal method</a> (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 8.12.9) on <var>O</var> passing <var>P</var>, <var>Desc</var>, and <var>Throw</var> as arguments.</li>
            </ol>
          </div>

          <div id="delete" class="section">
            <h4>4.6.4. Platform object [[Delete]] method</h4>

            <p>
              The internal <span class="prop">[[Delete]]</span> method of every
              <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a>
              which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
              <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
              <span class="rfc2119">MUST</span> behave as follows when called with property name <var>P</var>
              and boolean flag <var>Throw</var>.  The term “Reject” is used as defined in
              <a href="#platform-array-object-defineownproperty">section 4.2.25.2</a> above.
            </p>

            <ol class="algorithm">
              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and
                <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
                <ol>
                  <li>Let <var>index</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6" class="dfnref external">ToUint32</a>(<var>P</var>).</li>
                  <li>If <var>index</var> is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, then return <span class="esvalue">true</span>.</li>
                  <li>If <var>O</var> does not implement an interface with an <a class="dfnref" href="#dfn-indexed-property-deleter">indexed property deleter</a>, then Reject.</li>
                  <li>Let <var>operation</var> be the operation used to declare the indexed property deleter.</li>
                  <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
                    <ol>
                      <li>Perform the steps listed in the interface description to
                        <a class="dfnref" href="#dfn-delete-an-existing-indexed-property">delete an existing indexed property</a>
                        with <var>index</var> as the index.</li>
                      <li>If the steps indicated that the deletion failed, then Reject.</li>
                    </ol>
                  </li>
                  <li>Otherwise, <var>operation</var> was defined with an identifier:
                    <ol>
                      <li>Perform the steps listed in description of <var>operation</var> with <var>index</var> as the only argument value.</li>
                      <li>If <var>operation</var> was declared with a <a class="dfnref" href="#dfn-return-type">return type</a> of <a class="idltype" href="#idl-boolean">boolean</a>
                        and the steps returned <span class="idlvalue">false</span>, then Reject.</li>
                    </ol>
                  </li>
                  <li>Return <span class="esvalue">true</span>.</li>
                </ol>
              </li>

              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>,
                <var>O</var> does not implement an <a class="dfnref" href="#dfn-interface">interface</a> with the
                <a href="#NamedPropertiesObject">[NamedPropertiesObject]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
                and the result of calling the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a>
                with property name <var>P</var> and object <var>O</var> is true, then:
                <ol>
                  <li>If <var>O</var> does not to implement an interface with a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a>, then Reject.</li>
                  <li>Let <var>operation</var> be the operation used to declare the named property deleter.</li>
                  <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
                    <ol>
                      <li>Perform the steps listed in the interface description to
                        <a class="dfnref" href="#dfn-delete-an-existing-named-property">delete an existing named property</a>
                        with <var>P</var> as the name.</li>
                      <li>If the steps indicated that the deletion failed, then Reject.</li>
                    </ol>
                  </li>
                  <li>Otherwise, <var>operation</var> was defined with an identifier:
                    <ol>
                      <li>Perform the steps listed in description of <var>operation</var> with <var>P</var> as the only argument value.</li>
                      <li>If <var>operation</var> was declared with a <a class="dfnref" href="#dfn-return-type">return type</a> of <a class="idltype" href="#idl-boolean">boolean</a>
                        and the steps returned <span class="idlvalue">false</span>, then Reject.</li>
                    </ol>
                  </li>
                  <li>Return <span class="esvalue">true</span>.</li>
                </ol>
              </li>

              <li>If <var>O</var> has an own property with name <var>P</var>, then:
                <ol>
                  <li>If the property is not configurable, then Reject.</li>
                  <li>Otherwise, remove the property from <var>O</var>.</li>
                </ol>
              </li>
              <li>Return <span class="esvalue">true</span>.</li>
            </ol>
          </div>

          <div id="call" class="section">
            <h4>4.6.5. Platform object [[Call]] method</h4>

            <p>
              The internal <span class="prop">[[Call]]</span> method of every
              <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a>
              <var>I</var> with at least one <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a>
              <span class="rfc2119">MUST</span> behave as follows, assuming
              <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument
              values passed to <span class="prop">[[Call]]</span>:
            </p>
            <ol class="algorithm">
              <li>Initialize <var>S</var> to the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>
                for legacy callers on <var>I</var> and with argument count <var>n</var>.</li>
              <li>
                Let &lt;<var>operation</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
                <var>arg</var><sub>0..<var>n</var>−1</sub> to the
                <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
              </li>
              <li>Perform the actions listed in the description of the legacy caller <var>operation</var> with
                <var>values</var> as the argument values.</li>
              <li>Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                the return value from those actions to an ECMAScript value of the type
                <var>operation</var> is declared to return (or <span class="esvalue">undefined</span>
                if <var>operation</var> is declared to return <a class="idltype" href="#idl-void">void</a>).</li>
            </ol>
          </div>

          <div id="property-enumeration" class="section">
            <h4>4.6.6. Property enumeration</h4>

            <p>
              This document does not define a complete property enumeration order
              for all <a class="dfnref" href="#dfn-platform-object">platform objects</a> implementing <a class="dfnref" href="#dfn-interface">interfaces</a>
              (or for <a href="#es-exception-objects">platform objects representing exceptions</a>).
              However, if a platform object implements an interface that
              <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
              <a class="dfnref" href="#dfn-support-named-properties">named properties</a>, then
              properties on the object <span class="rfc2119">MUST</span> be
              enumerated in the following order:
            </p>
            <ol>
              <li>If the object <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>, then
              the object’s <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a> are
              enumerated first, in numerical order.</li>
              <li>If the object <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, then
              the object’s <a class="dfnref" href="#dfn-supported-property-names">supported property names</a> are
              enumerated next, in the order given in the definition of the set of supported property names.</li>
              <li>Finally, any enumerable own properties or properties from the object’s prototype chain are then enumerated,
              in no defined order.</li>
            </ol>
            <div class="note"><div class="noteHeader">Note</div>
              <p>Future versions of the ECMAScript specification may define a total order for property enumeration.</p>
            </div>
          </div>
        </div>

        <div id="es-user-objects" class="section">
          <h3>4.7. User objects implementing callback interfaces</h3>

          <p>
            As described in <a href="#idl-objects">section 3.9 above</a>,
            <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> can be
            implemented in script by an ECMAScript object.
            The following cases determine whether and how a given object
            is considered to be a user object implementing a callback interface:
          </p>
          <ul>
            <li>
              If the interface is a <a class="dfnref" href="#dfn-single-operation-interface">single operation interface</a>
              (defined below)
              then any object whose internal <span class="prop">[[NativeBrand]]</span> property
              is “Function” is not present, and which is not a <a class="dfnref" href="#dfn-platform-object">platform object</a>,
              is considered to implement that interface.
              The implementation of the operation (or set of overloaded operations) is
              as follows:
              <ul>
                <li>If the object is a <span class="estype">Function</span> object,
                then the implementation of the operation (or set of overloaded operations) is
                the <span class="estype">Function</span> object itself.</li>
                <li>Otherwise, the object is not a <span class="estype">Function</span> object.
                The implementation of the operation (or set of overloaded operations) is
                the result of invoking the internal <span class="prop">[[Get]]</span> method
                on the object with a property name that is the <a class="dfnref" href="#dfn-identifier">identifier</a>
                of the operation.</li>
              </ul>
            </li>
            <li>
              Otherwise, the interface is not a <a class="dfnref" href="#dfn-single-operation-interface">single operation interface</a>.
              Any object whose internal <span class="prop">[[NativeBrand]]</span> property
              is “Function” or not present, and which is not a <a class="dfnref" href="#dfn-platform-object">platform object</a>,
              is considered to implement the interface.
              For each operation declared on the interface with a given <a class="dfnref" href="#dfn-identifier">identifier</a>, the implementation
              is the result of invoking <span class="prop">[[Get]]</span> on the object with a
              property name that is that identifier.
            </li>
          </ul>
          <p>
            A <dfn id="dfn-single-operation-interface">single operation interface</dfn> is one that:
          </p>
          <ul>
            <li>is not declared to <a class="dfnref" href="#dfn-inherit">inherit</a> from another interface,</li>
            <li>has no <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>,</li>
            <li>has no <a class="dfnref" href="#dfn-attribute">attributes</a>, and</li>
            <li>has one or more <a class="dfnref" href="#dfn-regular-operation">regular operations</a> that all have the same <a class="dfnref" href="#dfn-identifier">identifier</a>,
              and no others.</li>
          </ul>
          <p>
            A <a class="dfnref" href="#dfn-user-object">user object</a>’s
            <a class="dfnref" href="#dfn-operation">operation</a> is called
            with a list of IDL argument values <var>idlarg</var><sub>0..<var>n</var>−1</sub> by
            following the algorithm below.  The <dfn id="dfn-callback-this-value">callback this value</dfn>
            is the value to use as the <span class="esvalue">this</span> value
            when calling the object’s operation implementation internal
            <span class="prop">[[Call]]</span> method.  By default, the object
            itself is used as the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a>,
            however this <span class="rfc2119">MAY</span> be overridden by other
            specifications.
          </p>
          <ol class="algorithm">
            <li>Let <var>O</var> be the object that is the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
            <li>Let <var>X</var> be the implementation of the operation.  If <var>O</var> is a <span class="estype">Function</span> object that itself is
              considered to be the implementation of the operation, then <var>X</var> is <var>O</var>.  Otherwise, <var>X</var> is the result of calling
              the internal <span class="prop">[[Get]]</span> method of <var>O</var> with the identifier of the operation as the property name.</li>
            <li>If <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8" class="dfnref external">Type</a>(<var>X</var>) is not Object, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> exception.</li>
            <li>If <var>X</var> does not implement the internal <span class="prop">[[Call]]</span> method, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> exception.</li>
            <li>
              Let <var>arg</var><sub>0..<var>n</var>−1</sub> be a list of
              ECMAScript values, where <var>arg</var><sub><var>i</var></sub> is the result
              of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              <var>idlarg</var><sub><var>i</var></sub> to an ECMAScript value.
            </li>
            <li>Let <var>R</var> be the result of invoking the <span class="prop">[[Call]]</span> method of <var>X</var>, providing the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> as the <span class="esvalue">this</span> value and <var>arg</var><sub>0..<var>n</var>−1</sub> as the argument values.</li>
            <li>
              If the operation’s return type is <a class="idltype" href="#idl-void">void</a>, return.
            </li>
            <li>
              Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
              <var>R</var> to an IDL value of the same type as the operation’s return type.
            </li>
          </ol>
          <p>
            Note that ECMAScript objects need not have
            properties corresponding to <a class="dfnref" href="#dfn-constant">constants</a>
            on them to be considered as <a class="dfnref" href="#dfn-user-object">user objects</a>
            implementing <a class="dfnref" href="#dfn-interface">interfaces</a> that happen
            to have constants declared on them.
          </p>
          <p>
            The value of a <a class="dfnref" href="#dfn-user-object">user object</a>’s
            <a class="dfnref" href="#dfn-attribute">attribute</a> is retrieved using the
            following algorithm:
          </p>
          <ol class="algorithm">
            <li>Let <var>O</var> be the object that is the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
            <li>Let <var>P</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute.</li>
            <li>Let <var>R</var> be the result of invoking the <span class="prop">[[Get]]</span> method of <var>O</var> with property name <var>P</var>.</li>
            <li>Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>R</var> to an IDL value of the same type as the attribute’s type.</li>
          </ol>
          <p>
            The value of a <a class="dfnref" href="#dfn-user-object">user object</a>’s
            <a class="dfnref" href="#dfn-attribute">attribute</a> is set using the
            following algorithm:
          </p>
          <ol class="algorithm">
            <li>Let <var>O</var> be the object that is the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
            <li>Let <var>P</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute.</li>
            <li>Let <var>V</var> be the IDL value to be assigned to the attribute.</li>
            <li>Let <var>W</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>V</var> to an ECMAScript value.</li>
            <li>Invoke the <span class="prop">[[Put]]</span> method of <var>O</var> with property name <var>P</var> and value <var>W</var>.</li>
          </ol>
        </div>

        <div id="es-invoking-callback-functions" class="section">
          <h3>4.8. Invoking callback functions</h3>

          <p>
            An ECMAScript <span class="estype">Function</span> object that is being
            used as a <a class="dfnref" href="#dfn-callback-function">callback function</a> value is
            called in a manner similar to how <a class="dfnref" href="#dfn-operation">operations</a>
            on <a class="dfnref" href="#dfn-user-object">user objects</a> are called (as
            described in the previous section).  The <span class="estype">Function</span> object
            is called with a list of IDL argument values
            <var>idlarg</var><sub>0..<var>n</var>−1</sub> by
            following the algorithm below.  By default, the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a>
            when invoking a <a class="dfnref" href="#dfn-callback-function">callback function</a>
            is <span class="esvalue">null</span>, unless overridden by other specifications.
          </p>
          <ol class="algorithm">
            <li>Let <var>F</var> be the <span class="estype">Function</span> object that is the <a class="dfnref" href="#dfn-callback-function">callback function</a> value.</li>
            <li>
              Let <var>arg</var><sub>0..<var>n</var>−1</sub> be a list of
              ECMAScript values, where <var>arg</var><sub><var>i</var></sub> is the result
              of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              <var>idlarg</var><sub><var>i</var></sub> to an ECMAScript value.
            </li>
            <li>Let <var>R</var> be the result of invoking the <span class="prop">[[Call]]</span> method of <var>F</var>, providing the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> as the <span class="esvalue">this</span> value and <var>arg</var><sub>0..<var>n</var>−1</sub> as the argument values.</li>
            <li>
              If the callback function’s return type is <a class="idltype" href="#idl-void">void</a>, return.
            </li>
            <li>
              Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
              <var>R</var> to an IDL value of the same type as the operation’s return type.
            </li>
          </ol>
        </div>

        <div id="es-exceptions" class="section">
          <h3>4.9. Exceptions</h3>

          <p>
            For every <a class="dfnref" href="#dfn-exception">exception</a> that is not declared with the
            <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,
            a corresponding property <span class="rfc2119">MUST</span> exist on the 
            ECMAScript global object.
            The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the exception,
            and its value is an object called the
            <dfn id="dfn-exception-interface-object">exception interface object</dfn>,
            which provides access to any <a class="dfnref" href="#dfn-constant">constants</a> that
            have been associated with the exception.  The property has the
            attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>.
          </p>

          <div id="es-exception-interface-object" class="section">
            <h4>4.9.1. Exception interface object</h4>

            <p>
              The exception interface object for a given <a class="dfnref" href="#dfn-exception">exception</a>
              <span class="rfc2119">MUST</span> be a <a class="dfnref" href="#dfn-function-object">function object</a>.
            </p>
            <p>
              If any <a class="dfnref" href="#dfn-constant">constants</a> have been declared
              on the exception, then the exception interface object will have
              properties corresponding to these constants as described in
              <a href="#es-exception-constants">section 4.9.3</a>
              below.
            </p>
            <p>
              The exception interface object <span class="rfc2119">MUST</span> also have a property named
              “prototype” with attributes
              <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>
              whose value is an object called the <dfn id="dfn-exception-interface-prototype-object">exception interface prototype
                object</dfn>.  This object also provides access to the constants
              that are declared on the exception.
            </p>

            <div id="es-exception-call" class="section">
              <h5>4.9.1.1. Exception interface object [[Call]] method</h5>

              <p>
                The internal <span class="prop">[[Call]]</span> method of an
                <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a>
                <span class="rfc2119">MUST</span> behave as follows, assuming
                <var>arg</var><sub>0..<var>n</var>−1</sub> is the list
                of argument values passed to the function, and <var>E</var>
                is the <a class="dfnref" href="#dfn-interface">exception</a>
                corresponding to the exception interface object:
              </p>
              <ol class="algorithm">
                <li>Let <var>O</var> be a new object whose <span class="prop">[[Prototype]]</span>
                internal property is set to the <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a>
                and whose <a class="dfnref" href="#dfn-class-string">class string</a>
                is the <a class="dfnref" href="#dfn-identifier">identifier</a>
                of <var>E</var>.</li>
                <li>If <var>n</var> &gt; 0 and <var>arg</var><sub>0</sub> is not <span class="esvalue">undefined</span>, then:
                  <ol>
                    <li>Let <var>S</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8" class="dfnref external">ToString</a>(<var>arg</var><sub>0</sub>).</li>
                    <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing
                    “message”, Property Descriptor <span class="descriptor">{ [[Value]]: <var>S</var>,
                    [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>,
                    [[Configurable]]: <span class="esvalue">true</span> }</span>, and <span class="esvalue">false</span>
                    as arguments.
                    <div class="note"><div class="noteHeader">Note</div>
                      <p>This shadows the “message” property from Error.prototype, whose initial value is the empty string.</p>
                    </div></li>
                  </ol></li>
                <li>Return <var>O</var>.</li>
              </ol>
            </div>
          </div>

          <div id="es-exception-interface-prototype-object" class="section">
            <h4>4.9.2. Exception interface prototype object</h4>

            <p>
              There <span class="rfc2119">MUST</span> exist an
              <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>
              for every <a class="dfnref" href="#dfn-exception">exception</a>
              defined, regardless of whether the exception was declared with the
              <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.
              The exception interface prototype object for a particular exception has
              properties that correspond to the <a class="dfnref" href="#dfn-constant">constants</a>
              and <a class="dfnref" href="#dfn-exception-field">exception fields</a>
              defined on the exception.  These properties are described in more detail in
              sections <a href="#es-exception-constants">4.9.3</a> 
              and <a href="#es-exception-fields">4.9.4</a>,
              below.
            </p>
            <p>
              The exception interface prototype object for a given exception <span class="rfc2119">MUST</span>
              have an internal <span class="prop">[[Prototype]]</span> property whose value is as follows:
            </p>
            <ul>
              <li>If the <a class="dfnref" href="#dfn-exception">exception</a> is declared to
              <a class="dfnref" href="#dfn-inherit-exception">inherit</a> from another
              exception, then the value of the internal <span class="prop">[[Prototype]]</span> property is the
              <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>
              for the inherited exception.</li>
              <li>Otherwise, the exception is not declared to inherit from another exception. The
              value of the internal <span class="prop">[[Prototype]]</span> property
              is the <a class="external" href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.11.3.1"><span class="estype">Error</span> prototype object</a>
              (<a href="#ref-ECMA-262">[ECMA-262]</a>, section 15.11.3.1).</li>
            </ul>
            <div class="note"><div class="noteHeader">Note</div>
              <p>
                As with <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype objects</a>,
                <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype objects</a>
                can be accessible even if declared with <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
                since it is possible to get the internal <span class="prop">[[Prototype]]</span> property
                of an exception object.
              </p>
            </div>
            <p>
              The <a class="dfnref" href="#dfn-class-string">class string</a> of an
              <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>
              is the concatenation of the <a class="dfnref" href="#dfn-exception">exception</a>’s
              <a class="dfnref" href="#dfn-identifier">identifier</a> and the string
              “Prototype”.
            </p>
            <p>
              There <span class="rfc2119">MUST</span> be a property named “name”
              on the exception interface prototype object with attributes
              <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
              and whose value is the <a class="dfnref" href="#dfn-identifier">identifier</a> of
              the exception.
            </p>
            <div class="note"><div class="noteHeader">Note</div>
              <p>If an exception is thrown with a specific <a class="dfnref" href="#dfn-exception-name">name</a>,
                then the rules in <a href="#es-throwing-exceptions">section 4.11</a>
                below will create a shadowing “name” property on the
                exception object itself.</p>
            </div>
            <p>
              If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              extended attribute was not specified on the exception, then
              there <span class="rfc2119">MUST</span> also be a property named “constructor”
              on the exception interface prototype object with attributes
              <span class="descriptor">{ [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>
              and whose value is a reference to the exception interface object for the exception.
            </p>
          </div>

          <div id="es-exception-constants" class="section">
            <h4>4.9.3. Constants</h4>

            <p>
              For each <a class="dfnref" href="#dfn-constant">constant</a> defined on
              the <a class="dfnref" href="#dfn-exception">exception</a>, there
              <span class="rfc2119">MUST</span> be a corresponding property on
              the <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>.
              The property has the following characteristics:
            </p>
            <ul>
              <li>The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the constant.</li>
              <li>The value of the property is the ECMAScript value that is equivalent to the constant’s IDL value, according
                to the rules in <a href="#es-type-mapping">section 4.2</a> above.</li>
              <li>The property has attributes <span class="descriptor">{ [[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span> }</span>.</li>
            </ul>
            <p>
              If there exists an <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a> for
              the <a class="dfnref" href="#dfn-exception">exception</a>, then it <span class="rfc2119">MUST</span>
              also have a property with the same characteristics.
            </p>
          </div>

          <div id="es-exception-fields" class="section">
            <h4>4.9.4. Exception fields</h4>

            <p>
              For each <a class="dfnref" href="#dfn-exception-field">exception field</a>, there
              <span class="rfc2119">MUST</span> be a corresponding property on
              the <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>,
              whose characteristics are as follows:
            </p>
            <ul>
              <li>
                The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-exception-field">exception field</a>.
              </li>
              <li>
                The property has attributes <span class="descriptor">{ [[Get]]: <var>G</var>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span> }</span>,
                where <var>G</var> is the <a class="dfnref" href="#dfn-exception-field-getter">exception field getter</a>,
                defined below.
              </li>
              <li>
                The <dfn id="dfn-exception-field-getter">exception field getter</dfn> is a <span class="estype">Function</span>
                object whose behavior when invoked is as follows:
                <ol class="algorithm">
                  <li>Let <var>O</var> be the result of calling <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9" class="dfnref external">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                  <li>If <var>O</var> is not a <a href="#es-exception-objects">platform object representing an exception</a>
                    for the <a class="dfnref" href="#dfn-exception">exception</a>
                    on which the exception field was declared, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>
                    Let <var>idlValue</var> be the IDL value of <var>O</var>’s exception field.
                  </li>
                  <li>
                    Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    the <var>idlValue</var> to an ECMAScript value.
                  </li>
                  <li>
                    Return <var>V</var>.
                  </li>
                </ol>
                The value of the <span class="estype">Function</span> object’s “length”
                property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.
              </li>
            </ul>
          </div>
        </div>

        <div id="es-exception-objects" class="section">
          <h3>4.10. Exception objects</h3>

          <p>
            Objects representing particular IDL <a class="dfnref" href="#dfn-exception">exceptions</a>
            are <a class="dfnref" href="#dfn-platform-object">platform objects</a>.  Such objects
            can only represent a single exception, and also cannot simultaneously
            represent an exception and implement an <a class="dfnref" href="#dfn-interface">interface</a>.
          </p>
          <p>
            Every platform object representing an exception in ECMAScript is associated with a global environment, just
            as the <a class="dfnref" href="#dfn-initial-object">initial objects</a> are.
            When an exception object is created by calling an <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a>,
            either normally or as part of a <code>new</code> expression, then the global environment
            of the newly created object is associated with <span class="rfc2119">MUST</span> be the same as for the
            interface object itself.
          </p>
          <p>
            The value of the internal <span class="prop">[[Prototype]]</span>
            property of the exception object <span class="rfc2119">MUST</span> be the <a class="dfnref" href="#dfn-exception-interface-prototype-object">exception interface prototype object</a>
            from the global environment the exception object is associated with.
          </p>
          <p>
            The value of the internal <span class="prop">[[NativeBrand]]</span> property
            of the exception object <span class="rfc2119">MUST</span> be
            “Error”.
          </p>
          <p>
            The <a class="dfnref" href="#dfn-class-string">class string</a>
            of the exception object <span class="rfc2119">MUST</span>
            be the <a class="dfnref" href="#dfn-identifier">identifier</a>
            of the <a class="dfnref" href="#dfn-exception">exception</a>.
          </p>
          <div class="note"><div class="noteHeader">Note</div>
            <p>The intention is for exception objects to be just like the other
            various native <span class="estype">Error</span> objects that the
            ECMAScript specification defines, apart from responding differently
            to being passed to <a href="#toString">Object.prototype.toString</a>.
            If an implementation places non-standard properties on native
            <span class="estype">Error</span> objects, exposing for example
            stack traces or error line numbers, then these ought to be exposed
            on exception objects too.</p>
          </div>
          <p>
            Objects representing <a class="dfnref" href="#dfn-predefined-exception">predefined exceptions</a>
            are simply native ECMAScript objects of the corresponding type.
          </p>
        </div>

        <div id="es-throwing-exceptions" class="section">
          <h3>4.11. Throwing exceptions</h3>

          <p>
            First, we define the <dfn id="dfn-current-global-environment">current global environment</dfn>
            as the result of running the following algorithm:
          </p>
          <ol class="algorithm">
            <li>
              Let <var>F</var> be the <span class="estype">Function</span> object used
              as the <span class="esvalue">this</span> value in the top-most call
              on the ECMAScript call stack where <var>F</var> corresponds to an IDL
              <a class="dfnref" href="#dfn-attribute">attribute</a>,
              <a class="dfnref" href="#dfn-operation">operation</a>,
              <a href="#idl-indexed-properties">indexed property</a>,
              <a href="#idl-named-properties">named property</a>,
              <a href="#Constructor">constructor</a>,
              <a class="dfnref" href="#dfn-named-constructor">named constructor</a>,
              <a class="dfnref" href="#dfn-stringifier">stringifier</a>,
              <a href="#es-exception-call">exception constructor</a> or
              <a class="dfnref" href="#dfn-exception-field-getter">exception field getter</a>.
            </li>
            <li>
              If <var>F</var> corresponds to an attribute, operation or stringifier, then return
              the global environment associated with the
              <a class="dfnref" href="#dfn-interface">interface</a> that definition appears on.
            </li>
            <li>
              Otherwise, if <var>F</var> corresponds to an indexed or named property, then return
              the global environment associated with the interface that
              the index or named property getter, setter, creator or deleter was defined on.
            </li>
            <li>
              Otherwise, if <var>F</var> is a named constructor for an interface, or is
              an <a class="dfnref" href="#dfn-interface-object">interface object</a> for an
              interface that is a constructor, then return the global environment
              associated with that interface.
            </li>
            <li>
              Otherwise, if <var>F</var> is an exception field getter, then return
              the global environment associated with the exception on which the
              exception field was defined.
            </li>
            <li>
              Otherwise, <var>F</var> is an exception interface object that is a constructor.
              Return the global environment associated with that exception.
            </li>
          </ol>
          <p>
            When an IDL <a class="dfnref" href="#dfn-exception">exception</a> or
            <a class="dfnref" href="#dfn-predefined-exception">predefined exception</a>
            <var>E</var> is to be <a class="dfnref" href="#dfn-throw">thrown</a>,
            with optional name <var>N</var> and optional message <var>M</var>, the following steps
            <span class="rfc2119">MUST</span> be followed:
          </p>
          <ol class="algorithm">
            <li>Let <var>args</var> be a list of ECMAScript
            values.  If the optional message <var>M</var> was specified, then this list
            has a single element whose value is the result of
            <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
            <var>M</var> to a <span class="estype">String</span> value.
            Otherwise, the list is empty.</li>

            <li>Let <var>G</var> be the <a class="dfnref" href="#dfn-current-global-environment">current global environment</a>.</li>

            <li>Let <var>X</var> be an object determined based on the type of <var>E</var>:
              <dl class="switch">
                <dt><var>E</var> is an IDL <a class="dfnref" href="#dfn-exception">exception</a></dt>
                <dd><var>X</var> is the <a class="dfnref" href="#dfn-exception-interface-object">exception interface object</a> for
                  <var>E</var> from the global environment <var>G</var>.</dd>
                <dt><var>E</var> is a <a class="dfnref" href="#dfn-predefined-exception">predefined exception</a></dt>
                <dd><var>X</var> is the constructor for the corresponding ECMAScript error
                  from the global environment <var>G</var>.</dd>
              </dl>
            </li>

            <li>Let <var>O</var> be the result of calling <var>X</var> as a function
              with <var>args</var> as the argument list.</li>

            <li>If the optional name <var>N</var> was specified, then
            call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing
            “name”, Property Descriptor <span class="descriptor">{ [[Value]]: <var>N</var>,
            [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>,
            [[Configurable]]: <span class="esvalue">true</span> }</span>, and <span class="esvalue">false</span>
            as arguments.</li>

            <li>Throw <var>O</var>.</li>
          </ol>
          <div class="note"><div class="noteHeader">Note</div>
            <p>
              The above algorithm does not restrict <a class="dfnref" href="#es-exception-objects">platform objects representing exceptions</a>
              propagating out of a <span class="estype">Function</span> to be
              ones that are associated with the global environment
              where that <span class="estype">Function</span> object originated.
              For example, consider the IDL:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">exception NumberError { };

interface A {

  <span class="comment">/**
   * Calls computeSquareRoot on m, passing x as its argument.
   */</span>
  float doComputation(MathUtils m, float x);
};

interface MathUtils {
  <span class="comment">/**
   * If x is negative, throws a NumberError exception.  Otherwise, returns
   * the square root of x.
   */</span>
  float computeSquareRoot(float x);
};</code></pre></div></div>
            <p>
              If we pass a <span class="idltype">MathUtils</span> object from
              a different global environment to doComputation, then the exception
              thrown will be from that global environment:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var a = getA();                          // An A object from this global environment.
var m = otherWindow.getMathUtils();      // A MathUtils object from a different global environment.

a instanceof Object;                     // Evaluates to true.
m instanceof Object;                     // Evaluates to false.
m instanceof otherWindow.Object;         // Evaluates to true.

try {
  a.doComputation(m, -1);
} catch (e) {
  e instanceof NumberError;              // Evaluates to false.
  e instanceof otherWindow.NumberError;  // Evaluates to true.
}</code></pre></div></div>
          </div>
          <p>
            Any requirements in this document to throw an instance of an ECMAScript built-in
            <span class="estype">Error</span> <span class="rfc2119">MUST</span> use
            the built-in from the <a class="dfnref" href="#dfn-current-global-environment">current global environment</a>.
          </p>
        </div>

        <div id="es-handling-exceptions" class="section">
          <h3>4.12. Handling exceptions</h3>

          <p>
            None of the algorithms or processing requirements in the
            ECMAScript language binding catch ECMAScript exceptions.  Whenever
            an ECMAScript <span class="esvalue">Function</span> is invoked due
            to requirements in this section and that <span class="esvalue">Function</span>
            ends due to an exception being thrown, that exception
            <span class="rfc2119">MUST</span> propagate to the caller, and if
            not caught there, to its caller, and so on.
          </p>
          <div class="example"><div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>
              defines two <a class="dfnref" href="#dfn-interface">interfaces</a>
              and an <a class="dfnref" href="#dfn-exception">exception</a>.
              The <code>valueOf</code> attribute on <span class="idltype">ExceptionThrower</span>
              is defined to throw an exception whenever an attempt is made
              to get its value.
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">interface Dahut {
  attribute DOMString type;
};

exception SomeException {
};

interface ExceptionThrower {
  <span class="comment">// This attribute always throws a SomeException and never returns a value.</span>
  attribute long valueOf<!-- getraises(SomeException)-->;
};</code></pre></div></div>
            <p>
              Assuming an ECMAScript implementation supporting this interface,
              the following code demonstrates how exceptions are handled:
            </p>
            <div class="block"><div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div><div class="blockContent"><pre class="code"><code class="es-code">var d = getDahut();              <span class="comment">// Obtain an instance of Dahut.</span>
var et = getExceptionThrower();  <span class="comment">// Obtain an instance of ExceptionThrower.</span>

try {
  d.type = { toString: function() { throw "abc"; } };
} catch (e) {
  <span class="comment">// The string "abc" is caught here, since as part of the conversion</span>
  <span class="comment">// from the native object to a string, the anonymous function</span>
  <span class="comment">// was invoked, and none of the [[DefaultValue]], ToPrimitive or</span>
  <span class="comment">// ToString algorithms are defined to catch the exception.</span>
}

try {
  d.type = { toString: { } };
} catch (e) {
  <span class="comment">// An exception is caught here, since an attempt is made to invoke</span>
  <span class="comment">// [[Call]] on the native object that is the value of toString</span>
  <span class="comment">// property.</span>
}

d.type = et;
<span class="comment">// An uncaught SomeException exception is thrown here, since the</span>
<span class="comment">// [[DefaultValue]] algorithm attempts to get the value of the</span>
<span class="comment">// "valueOf" property on the ExceptionThrower object.  The exception</span>
<span class="comment">// propagates out of this block of code.</span></code></pre></div></div>
          </div>
        </div>
      </div>

      <div id="common" class="section">
        <h2>5. Common definitions</h2>

        <p>
          This section specifies some common definitions that all
          <a class="dfnref" href="#dfn-conforming-implementation">conforming implementations</a>
          <span class="rfc2119">MUST</span> support.
        </p>

        <div id="common-DOMTimeStamp" class="section">
          <h3>5.1. DOMTimeStamp</h3>

          <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">typedef unsigned long long DOMTimeStamp;</code></pre></div></div>
          <p>
            The <span class="idltype">DOMTimeStamp</span> type is used for representing
            a number of milliseconds, either as an absolute time (relative to some epoch)
            or as a relative amount of time.  Specifications that use this type will need
            to define how the number of milliseconds is to be interpreted.
          </p>
        </div>

        <div id="common-Function" class="section">
          <h3>5.2. Function</h3>

          <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">callback Function = any (any... arguments);</code></pre></div></div>
          <p>
            The <span class="idltype">Function</span> <a class="dfnref" href="#dfn-callback-function">callback function</a>
            type is used for representing function values with no restriction on what arguments
            are passed to it or what kind of value is returned from it.
          </p>
        </div>

        <div id="common-VoidFunction" class="section">
          <h3>5.3. VoidFunction</h3>

          <div class="block"><div class="blockTitleDiv"><span class="blockTitle">IDL</span></div><div class="blockContent"><pre class="code"><code class="idl-code">callback VoidFunction = void ();</code></pre></div></div>
          <p>
            The <span class="idltype">VoidFunction</span> <a class="dfnref" href="#dfn-callback-function">callback function</a>
            type is used for representing function values that take no arguments and do not
            return any value.
          </p>
        </div>
      </div>

      <div id="extensibility" class="section">
        <h2>6. Extensibility</h2>

        <p class="norm">This section is informative.</p>

        <p>
          Extensions to language binding requirements can be specified
          using <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
          that do not conflict with those defined in this document.  Extensions for
          private, project-specific use should not be included in
          <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>
          appearing in other specifications.  It is recommended that extensions
          that are required for use in other specifications be coordinated
          with the group responsible for work on <cite>Web IDL</cite>, which
          at the time of writing is the
          <a href="http://www.w3.org/2008/webapps/">W3C Web Applications Working Group</a>,
          for possible inclusion in a future version of this document.
        </p>
        <p>
          Extensions to any other aspect of the IDL language are
          strongly discouraged.
        </p>
      </div>

      <div id="referencing" class="section">
        <h2>7. Referencing this specification</h2>

        <p class="norm">This section is informative.</p>

        <p>
          It is expected that other specifications that define Web platform interfaces
          using a <a class="dfnref" href="#dfn-conforming-idl-fragment">conforming
            IDL fragment</a> will reference this specification.  It is suggested
          that those specifications include a sentence such as the following,
          to indicate that the IDL is to be interpreted as described in this
          specification:
        </p>
        <blockquote>
          <p>
            The IDL fragment in Appendix A of this specification must be interpreted
            as required for <em>conforming IDL fragments</em>, as described in the
            “Web IDL” specification. <a class="placeholder">[WEBIDL]</a>
          </p>
        </blockquote>
        <p>
          In addition, it is suggested that the conformance class for user
          agents in referencing specifications be linked to the
          <a class="dfnref" href="#dfn-conforming-implementation">conforming
            implementation</a> class from this specification:
        </p>
        <blockquote>
          <p>
            A conforming FooML user agent must also be a
            <em>conforming implementation</em> of the IDL fragment in Appendix A
            of this specification, as described in the
            “Web IDL” specification. <a class="placeholder">[WEBIDL]</a>
          </p>
        </blockquote>
      </div>

      <div id="acknowledgements" class="section">
        <h2>8. Acknowledgements</h2>

        <p class="norm">This section is informative.</p>

        <p>
          The editor would like to thank the following people for contributing
          to this specification:
          Glenn Adams,
          David Andersson,
          L. David Baron,
          Art Barstow,
          Robin Berjon,
          David Bruant,
          Marcos Cáceres,
          Giovanni Campagna,
          Brendan Eich,
          Gorm Haug Eriksen,
          David Flanagan,
          Aryeh Gregor,
          Dimitry Golubovsky,
          James Graham,
          Aryeh Gregor,
          Kartikaya Gupta,
          Marcin Hanclik,
          Jed Hartman,
          Dominique Hazaël-Massieux,
          Ian Hickson,
          Björn Höhrmann,
          Kyle Huey,
          Lachlan Hunt,
          Oliver Hunt,
          Jim Jewett,
          Wolfgang Keller,
          Anne van Kesteren,
          Olav Junker Kjær,
          Magnus Kristiansen,
          Travis Leithead,
          Jim Ley,
          Kevin Lindsey,
          呂康豪 (Kang-Hao Lu),
          Mark Miller,
          Ms2ger,
          Andrew Oakley,
          岡坂 史紀 (Shiki Okasaka),
          Jason Orendorff,
          Olli Pettay,
          Simon Pieters,
          Andrei Popescu,
          Tim Renouf,
          Alex Russell,
          Doug Schepers,
          Jonas Sicking,
          Garrett Smith,
          Geoffrey Sneddon,
          Josh Soref,
          Maciej Stachowiak,
          Anton Tayanovskyy,
          Jeff Walden,
          Allen Wirfs-Brock,
          Collin Xu and
          Boris Zbarsky.
        </p>
        <p>
          Special thanks also go to Sam Weinig for maintaining this document
          while the editor was unavailable to do so.
        </p>
      </div>
    </div>

    <div id="appendices">
      <div id="idl-grammar" class="section">
        <h2>A. IDL grammar</h2>

        <p>
          This section defines an LL(1) grammar whose start symbol,
          <a class="sym" href="#prod-Definitions">Definitions</a>, matches an
          entire <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>.
        </p>

        <p>
          Each production in the grammar has on its right hand side either a
          non-zero sequence of terminal and non-terminal symbols, or an
          epsilon (ε) which indicates no symbols.  Symbols that begin with
          an uppercase letter are non-terminal symbols.  Symbols within quotes
          are terminal symbols that are matched with the exact text between
          the quotes.  Symbols that begin with a lowercase letter are terminal
          symbols that are matched by the regular expressions (using Perl 5 regular
          expression syntax <a href="#ref-PERLRE">[PERLRE]</a>) as follows:
        </p>
        <table class="grammar">
          <tr>
            <td id="prod-integer" class="sym">integer</td>
            <td class="regex">=</td>
            <td class="regex">-?(0([0-7]*|[Xx][0-9A-Fa-f]+)|[1-9][0-9]*)</td>
          </tr>
          <tr>
            <td id="prod-float" class="sym">float</td>
            <td class="regex">=</td>
            <td class="regex">-?(([0-9]+\.[0-9]*|[0-9]*\.[0-9]+)([Ee][+-]?[0-9]+)?|[0-9]+[Ee][+-]?[0-9]+)</td>
          </tr>
          <tr>
            <td id="prod-identifier" class="sym">identifier</td>
            <td class="regex">=</td>
            <td class="regex">[A-Z_a-z][0-9A-Z_a-z]*</td>
          </tr>
          <tr>
            <td id="prod-string" class="sym">string</td>
            <td class="regex">=</td>
            <td class="regex">"[^"]*"</td>
          </tr>
          <tr>
            <td id="prod-whitespace" class="sym">whitespace</td>
            <td class="regex">=</td>
            <td class="regex">[\t\n\r ]+|[\t\n\r ]*((//.*|/\*(.|\n)*?\*/)[\t\n\r ]*)+</td>
          </tr>
          <tr>
            <td id="prod-other" class="sym">other</td>
            <td class="regex">=</td>
            <td class="regex">[^\t\n\r 0-9A-Z_a-z]</td>
          </tr>
        </table>

        <p>
          The tokenizer operates on a sequence of Unicode characters
          <a href="#ref-UNICODE">[UNICODE]</a>.
          When tokenizing, the longest possible match <span class="rfc2119">MUST</span> be used.  For example, if the input
          text is “<span class="input">a1</span>”, it is tokenized as a single <span class="sym">identifier</span>,
          and not as a separate <span class="sym">identifier</span> and <span class="sym">integer</span>.
          If the longest possible match could match both an <span class="sym">identifier</span> and
          one of the quoted terminal symbols from the grammar, it <span class="rfc2119">MUST</span> be tokenized as the quoted
          terminal symbol.  Thus, the input text “<span class="input">long</span>” is tokenized as the quoted terminal symbol
          <span class="sym">"long"</span> rather than an <span class="sym">identifier</span> called “long”.
        </p>
        <p>
          The IDL syntax is case sensitive, both for the quoted terminal symbols
          used in the grammar and the values used for
          <span class="sym">identifier</span> terminals.  Thus, for
          example, the input text “<span class="input">Const</span>” is tokenized as
          an <span class="sym">identifier</span> rather than the quoted
          terminal symbol <span class="sym">"const"</span>, an
          <a class="dfnref" href="#dfn-interface">interface</a> with
          <a class="dfnref" href="#dfn-identifier">identifier</a>
          “A” is distinct from one named “a”, and an
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
          <span class="xattr">[constructor]</span> will not be recognized as
          the <a class="xattr" href="#Constructor">[Constructor]</a>
          extended attribute.
        </p>
        <p>
          Implicitly, the <span class="sym">whitespace</span> terminal is allowed between every terminal
          in the input text being parsed.  Such <span class="sym">whitespace</span> terminals, which
          actually encompass both whitespace and comments, are ignored while parsing.
        </p>

        <p>
          The following LL(1) grammar, starting with <a class="sym" href="#prod-Definitions">Definitions</a>,
          matches an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>:
        </p>

        <table class="grammar"><tr id="prod-Definitions"><td><span class="prod-number">[1]</span></td><td><a class="sym" href="#proddef-Definitions">Definitions</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Definition">Definition</a> <a class="sym" href="#prod-Definitions">Definitions</a> <br /> |
             ε</span></td></tr><tr id="prod-Definition"><td><span class="prod-number">[2]</span></td><td><a class="sym" href="#proddef-Definition">Definition</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a> <br /> |
             <a class="sym" href="#prod-Partial">Partial</a> <br /> |
             <a class="sym" href="#prod-Dictionary">Dictionary</a> <br /> |
             <a class="sym" href="#prod-Exception">Exception</a> <br /> |
             <a class="sym" href="#prod-Enum">Enum</a> <br /> |
             <a class="sym" href="#prod-Typedef">Typedef</a> <br /> |
             <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></span></td></tr><tr id="prod-CallbackOrInterface"><td><span class="prod-number">[3]</span></td><td><a class="sym" href="#proddef-CallbackOrInterface">CallbackOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr id="prod-CallbackRestOrInterface"><td><span class="prod-number">[4]</span></td><td><a class="sym" href="#proddef-CallbackRestOrInterface">CallbackRestOrInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br /> |
             <a class="sym" href="#prod-Interface">Interface</a></span></td></tr><tr id="prod-Interface"><td><span class="prod-number">[5]</span></td><td><a class="sym" href="#proddef-Interface">Interface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td></tr><tr id="prod-Partial"><td><span class="prod-number">[6]</span></td><td><a class="sym" href="#proddef-Partial">Partial</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td></tr><tr id="prod-PartialDefinition"><td><span class="prod-number">[7]</span></td><td><a class="sym" href="#proddef-PartialDefinition">PartialDefinition</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br /> |
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td></tr><tr id="prod-PartialInterface"><td><span class="prod-number">[8]</span></td><td><a class="sym" href="#proddef-PartialInterface">PartialInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td></tr><tr id="prod-InterfaceMembers"><td><span class="prod-number">[9]</span></td><td><a class="sym" href="#proddef-InterfaceMembers">InterfaceMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-InterfaceMember">InterfaceMember</a> <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> <br /> |
             ε</span></td></tr><tr id="prod-InterfaceMember"><td><span class="prod-number">[10]</span></td><td><a class="sym" href="#proddef-InterfaceMember">InterfaceMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br /> |
             <a class="sym" href="#prod-AttributeOrOperationOrIterator">AttributeOrOperationOrIterator</a></span></td></tr><tr id="prod-Dictionary"><td><span class="prod-number">[11]</span></td><td><a class="sym" href="#proddef-Dictionary">Dictionary</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td></tr><tr id="prod-DictionaryMembers"><td><span class="prod-number">[12]</span></td><td><a class="sym" href="#proddef-DictionaryMembers">DictionaryMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a> <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> <br /> |
             ε</span></td></tr><tr id="prod-DictionaryMember"><td><span class="prod-number">[13]</span></td><td><a class="sym" href="#proddef-DictionaryMember">DictionaryMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Default">Default</a> ";"</span></td></tr><tr id="prod-PartialDictionary"><td><span class="prod-number">[14]</span></td><td><a class="sym" href="#proddef-PartialDictionary">PartialDictionary</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td></tr><tr id="prod-Default"><td><span class="prod-number">[15]</span></td><td><a class="sym" href="#proddef-Default">Default</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-DefaultValue">DefaultValue</a> <br /> |
             ε</span></td></tr><tr id="prod-DefaultValue"><td><span class="prod-number">[16]</span></td><td><a class="sym" href="#proddef-DefaultValue">DefaultValue</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br /> |
             <a class="sym" href="#prod-string">string</a></span></td></tr><tr id="prod-Exception"><td><span class="prod-number">[17]</span></td><td><a class="sym" href="#proddef-Exception">Exception</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"exception" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-ExceptionMembers">ExceptionMembers</a> "}" ";"</span></td></tr><tr id="prod-ExceptionMembers"><td><span class="prod-number">[18]</span></td><td><a class="sym" href="#proddef-ExceptionMembers">ExceptionMembers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-ExceptionMember">ExceptionMember</a> <a class="sym" href="#prod-ExceptionMembers">ExceptionMembers</a> <br /> |
             ε</span></td></tr><tr id="prod-Inheritance"><td><span class="prod-number">[19]</span></td><td><a class="sym" href="#proddef-Inheritance">Inheritance</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr><tr id="prod-Enum"><td><span class="prod-number">[20]</span></td><td><a class="sym" href="#proddef-Enum">Enum</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"enum" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-EnumValueList">EnumValueList</a> "}" ";"</span></td></tr><tr id="prod-EnumValueList"><td><span class="prod-number">[21]</span></td><td><a class="sym" href="#proddef-EnumValueList">EnumValueList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValues">EnumValues</a></span></td></tr><tr id="prod-EnumValues"><td><span class="prod-number">[22]</span></td><td><a class="sym" href="#proddef-EnumValues">EnumValues</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValues">EnumValues</a> <br /> |
             ε</span></td></tr><tr id="prod-CallbackRest"><td><span class="prod-number">[23]</span></td><td><a class="sym" href="#proddef-CallbackRest">CallbackRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ReturnType">ReturnType</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td></tr><tr id="prod-Typedef"><td><span class="prod-number">[24]</span></td><td><a class="sym" href="#proddef-Typedef">Typedef</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"typedef" <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr><tr id="prod-ImplementsStatement"><td><span class="prod-number">[25]</span></td><td><a class="sym" href="#proddef-ImplementsStatement">ImplementsStatement</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "implements" <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr><tr id="prod-Const"><td><span class="prod-number">[26]</span></td><td><a class="sym" href="#proddef-Const">Const</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"const" <a class="sym" href="#prod-ConstType">ConstType</a> <a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ConstValue">ConstValue</a> ";"</span></td></tr><tr id="prod-ConstValue"><td><span class="prod-number">[27]</span></td><td><a class="sym" href="#proddef-ConstValue">ConstValue</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a> <br /> |
             <a class="sym" href="#prod-FloatLiteral">FloatLiteral</a> <br /> |
             <a class="sym" href="#prod-integer">integer</a> <br /> |
             "null"</span></td></tr><tr id="prod-BooleanLiteral"><td><span class="prod-number">[28]</span></td><td><a class="sym" href="#proddef-BooleanLiteral">BooleanLiteral</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"true" <br /> |
             "false"</span></td></tr><tr id="prod-FloatLiteral"><td><span class="prod-number">[29]</span></td><td><a class="sym" href="#proddef-FloatLiteral">FloatLiteral</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-float">float</a> <br /> |
             "-" "Infinity" <br /> |
             "Infinity" <br /> |
             "NaN"</span></td></tr><tr id="prod-AttributeOrOperationOrIterator"><td><span class="prod-number">[30]</span></td><td><a class="sym" href="#proddef-AttributeOrOperationOrIterator">AttributeOrOperationOrIterator</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Serializer">Serializer</a> <br /> |
             <a class="sym" href="#prod-Qualifier">Qualifier</a> <a class="sym" href="#prod-AttributeOrOperationRest">AttributeOrOperationRest</a> <br /> |
             <a class="sym" href="#prod-Attribute">Attribute</a> <br /> |
             <a class="sym" href="#prod-OperationOrIterator">OperationOrIterator</a></span></td></tr><tr id="prod-Serializer"><td><span class="prod-number">[31]</span></td><td><a class="sym" href="#proddef-Serializer">Serializer</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"serializer" <a class="sym" href="#prod-SerializerRest">SerializerRest</a></span></td></tr><tr id="prod-SerializerRest"><td><span class="prod-number">[32]</span></td><td><a class="sym" href="#proddef-SerializerRest">SerializerRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OperationRest">OperationRest</a> <br /> |
             "=" <a class="sym" href="#prod-SerializationPattern">SerializationPattern</a> <br /> |
             ε</span></td></tr><tr id="prod-SerializationPattern"><td><span class="prod-number">[33]</span></td><td><a class="sym" href="#proddef-SerializationPattern">SerializationPattern</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"{" <a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a> "}" <br /> |
             "[" <a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a> "]" <br /> |
             <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="prod-SerializationPatternMap"><td><span class="prod-number">[34]</span></td><td><a class="sym" href="#proddef-SerializationPatternMap">SerializationPatternMap</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             "inherit" <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr><tr id="prod-SerializationPatternList"><td><span class="prod-number">[35]</span></td><td><a class="sym" href="#proddef-SerializationPatternList">SerializationPatternList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr><tr id="prod-Identifiers"><td><span class="prod-number">[36]</span></td><td><a class="sym" href="#proddef-Identifiers">Identifiers</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br /> |
             ε</span></td></tr><tr id="prod-Qualifier"><td><span class="prod-number">[37]</span></td><td><a class="sym" href="#proddef-Qualifier">Qualifier</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"static" <br /> |
             "stringifier"</span></td></tr><tr id="prod-AttributeOrOperationRest"><td><span class="prod-number">[38]</span></td><td><a class="sym" href="#proddef-AttributeOrOperationRest">AttributeOrOperationRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br /> |
             <a class="sym" href="#prod-OperationRest">OperationRest</a> <br /> |
             ";"</span></td></tr><tr id="prod-Attribute"><td><span class="prod-number">[39]</span></td><td><a class="sym" href="#proddef-Attribute">Attribute</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Inherit">Inherit</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a></span></td></tr><tr id="prod-AttributeRest"><td><span class="prod-number">[40]</span></td><td><a class="sym" href="#proddef-AttributeRest">AttributeRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> "attribute" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr><tr id="prod-Inherit"><td><span class="prod-number">[41]</span></td><td><a class="sym" href="#proddef-Inherit">Inherit</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"inherit" <br /> |
             ε</span></td></tr><tr id="prod-ReadOnly"><td><span class="prod-number">[42]</span></td><td><a class="sym" href="#proddef-ReadOnly">ReadOnly</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"readonly" <br /> |
             ε</span></td></tr><tr id="prod-OperationOrIterator"><td><span class="prod-number">[43]</span></td><td><a class="sym" href="#proddef-OperationOrIterator">OperationOrIterator</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationOrIteratorRest">OperationOrIteratorRest</a> <br /> |
             <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></span></td></tr><tr id="prod-SpecialOperation"><td><span class="prod-number">[44]</span></td><td><a class="sym" href="#proddef-SpecialOperation">SpecialOperation</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td></tr><tr id="prod-Specials"><td><span class="prod-number">[45]</span></td><td><a class="sym" href="#proddef-Specials">Specials</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <br /> |
             ε</span></td></tr><tr id="prod-Special"><td><span class="prod-number">[46]</span></td><td><a class="sym" href="#proddef-Special">Special</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"getter" <br /> |
             "setter" <br /> |
             "creator" <br /> |
             "deleter" <br /> |
             "legacycaller"</span></td></tr><tr id="prod-OperationOrIteratorRest"><td><span class="prod-number">[47]</span></td><td><a class="sym" href="#proddef-OperationOrIteratorRest">OperationOrIteratorRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-IteratorRest">IteratorRest</a> <br /> |
             <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td></tr><tr id="prod-IteratorRest"><td><span class="prod-number">[48]</span></td><td><a class="sym" href="#proddef-IteratorRest">IteratorRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"iterator" <a class="sym" href="#prod-OptionalIteratorInterfaceOrObject">OptionalIteratorInterfaceOrObject</a> ";"</span></td></tr><tr id="prod-OptionalIteratorInterfaceOrObject"><td><span class="prod-number">[49]</span></td><td><a class="sym" href="#proddef-OptionalIteratorInterfaceOrObject">OptionalIteratorInterfaceOrObject</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIteratorInterface">OptionalIteratorInterface</a> <br /> |
             "object"</span></td></tr><tr id="prod-OptionalIteratorInterface"><td><span class="prod-number">[50]</span></td><td><a class="sym" href="#proddef-OptionalIteratorInterface">OptionalIteratorInterface</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr><tr id="prod-OperationRest"><td><span class="prod-number">[51]</span></td><td><a class="sym" href="#proddef-OperationRest">OperationRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td></tr><tr id="prod-OptionalIdentifier"><td><span class="prod-number">[52]</span></td><td><a class="sym" href="#proddef-OptionalIdentifier">OptionalIdentifier</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <br /> |
             ε</span></td></tr><tr id="prod-ArgumentList"><td><span class="prod-number">[53]</span></td><td><a class="sym" href="#proddef-ArgumentList">ArgumentList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br /> |
             ε</span></td></tr><tr id="prod-Arguments"><td><span class="prod-number">[54]</span></td><td><a class="sym" href="#proddef-Arguments">Arguments</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br /> |
             ε</span></td></tr><tr id="prod-Argument"><td><span class="prod-number">[55]</span></td><td><a class="sym" href="#proddef-Argument">Argument</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></span></td></tr><tr id="prod-OptionalOrRequiredArgument"><td><span class="prod-number">[56]</span></td><td><a class="sym" href="#proddef-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"optional" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a> <a class="sym" href="#prod-Default">Default</a> <br /> |
             <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-Ellipsis">Ellipsis</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a></span></td></tr><tr id="prod-ArgumentName"><td><span class="prod-number">[57]</span></td><td><a class="sym" href="#proddef-ArgumentName">ArgumentName</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="prod-Ellipsis"><td><span class="prod-number">[58]</span></td><td><a class="sym" href="#proddef-Ellipsis">Ellipsis</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"..." <br /> |
             ε</span></td></tr><tr id="prod-ExceptionMember"><td><span class="prod-number">[59]</span></td><td><a class="sym" href="#proddef-ExceptionMember">ExceptionMember</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br /> |
             <a class="sym" href="#prod-ExceptionField">ExceptionField</a></span></td></tr><tr id="prod-ExceptionField"><td><span class="prod-number">[60]</span></td><td><a class="sym" href="#proddef-ExceptionField">ExceptionField</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td></tr><tr id="prod-ExtendedAttributeList"><td><span class="prod-number">[61]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeList">ExtendedAttributeList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> "]" <br /> |
             ε</span></td></tr><tr id="prod-ExtendedAttributes"><td><span class="prod-number">[62]</span></td><td><a class="sym" href="#proddef-ExtendedAttributes">ExtendedAttributes</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> <br /> |
             ε</span></td></tr><tr id="prod-ExtendedAttribute"><td><span class="prod-number">[63]</span></td><td><a class="sym" href="#proddef-ExtendedAttribute">ExtendedAttribute</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br /> |
             <a class="sym" href="#prod-Other">Other</a> <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
          </span></td></tr><tr id="prod-ExtendedAttributeRest"><td><span class="prod-number">[64]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeRest">ExtendedAttributeRest</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <br /> |
             ε</span></td></tr><tr id="prod-ExtendedAttributeInner"><td><span class="prod-number">[65]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeInner">ExtendedAttributeInner</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             <a class="sym" href="#prod-OtherOrComma">OtherOrComma</a> <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br /> |
             ε
          </span></td></tr><tr id="prod-Other"><td><span class="prod-number">[66]</span></td><td><a class="sym" href="#proddef-Other">Other</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              <a class="sym" href="#prod-integer">integer</a> <br /> |
             <a class="sym" href="#prod-float">float</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <br /> |
             <a class="sym" href="#prod-string">string</a>  <br /> |
             <a class="sym" href="#prod-other">other</a>
            <br /> |
             "-" <br /> |
             "." <br /> |
             "..." <br /> |
             ":" <br /> |
             ";" <br /> |
             "&lt;" <br /> |
             "=" <br /> |
             "&gt;" <br /> |
             "?"
            <br /> |
             "ByteString" <br /> |
             "Date" <br /> |
             "DOMString" <br /> |
             "Infinity" <br /> |
             "NaN" <br /> |
             "any" <br /> |
             "boolean" <br /> |
             "byte" <br /> |
             "double" <br /> |
             "false" <br /> |
             "float" 
            <br /> |
             "long" <br /> |
             "null" <br /> |
             "object" <br /> |
             "octet" <br /> |
             "or" <br /> |
             "optional" <br /> |
             "sequence"
            <br /> |
             "short" <br /> |
             "true" <br /> |
             "unsigned" <br /> |
             "void"
            <br /> |
             <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
          </span></td></tr><tr id="prod-ArgumentNameKeyword"><td><span class="prod-number">[67]</span></td><td><a class="sym" href="#proddef-ArgumentNameKeyword">ArgumentNameKeyword</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">
              "attribute" <br /> |
             "callback" <br /> |
             "const" <br /> |
             "creator" <br /> |
             "deleter" <br /> |
             "dictionary"
            <br /> |
             "enum" <br /> |
             "exception" <br /> |
             "getter" <br /> |
             "implements" <br /> |
             "inherit" <br /> |
             "interface"
            <br /> |
             "legacycaller" <br /> |
             "partial" <br /> |
             "serializer" <br /> |
             "setter" <br /> |
             "static" <br /> |
             "stringifier" <br /> |
             "typedef"
            <br /> |
             "unrestricted"
          </span></td></tr><tr id="prod-OtherOrComma"><td><span class="prod-number">[68]</span></td><td><a class="sym" href="#proddef-OtherOrComma">OtherOrComma</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Other">Other</a> <br /> |
             ","</span></td></tr><tr id="prod-Type"><td><span class="prod-number">[69]</span></td><td><a class="sym" href="#proddef-Type">Type</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-SingleType">SingleType</a> <br /> |
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr id="prod-SingleType"><td><span class="prod-number">[70]</span></td><td><a class="sym" href="#proddef-SingleType">SingleType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br /> |
             "any" <a class="sym" href="#prod-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a></span></td></tr><tr id="prod-UnionType"><td><span class="prod-number">[71]</span></td><td><a class="sym" href="#proddef-UnionType">UnionType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td></tr><tr id="prod-UnionMemberType"><td><span class="prod-number">[72]</span></td><td><a class="sym" href="#proddef-UnionMemberType">UnionMemberType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br /> |
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "any" "[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr id="prod-UnionMemberTypes"><td><span class="prod-number">[73]</span></td><td><a class="sym" href="#proddef-UnionMemberTypes">UnionMemberTypes</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br /> |
             ε</span></td></tr><tr id="prod-NonAnyType"><td><span class="prod-number">[74]</span></td><td><a class="sym" href="#proddef-NonAnyType">NonAnyType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "ByteString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "DOMString" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br /> |
             "object" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "Date" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a></span></td></tr><tr id="prod-ConstType"><td><span class="prod-number">[75]</span></td><td><a class="sym" href="#proddef-ConstType">ConstType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br /> |
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td></tr><tr id="prod-PrimitiveType"><td><span class="prod-number">[76]</span></td><td><a class="sym" href="#proddef-PrimitiveType">PrimitiveType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a> <br /> |
             <a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a> <br /> |
             "boolean" <br /> |
             "byte" <br /> |
             "octet"</span></td></tr><tr id="prod-UnrestrictedFloatType"><td><span class="prod-number">[77]</span></td><td><a class="sym" href="#proddef-UnrestrictedFloatType">UnrestrictedFloatType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"unrestricted" <a class="sym" href="#prod-FloatType">FloatType</a> <br /> |
             <a class="sym" href="#prod-FloatType">FloatType</a></span></td></tr><tr id="prod-FloatType"><td><span class="prod-number">[78]</span></td><td><a class="sym" href="#proddef-FloatType">FloatType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"float" <br /> |
             "double"</span></td></tr><tr id="prod-UnsignedIntegerType"><td><span class="prod-number">[79]</span></td><td><a class="sym" href="#proddef-UnsignedIntegerType">UnsignedIntegerType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"unsigned" <a class="sym" href="#prod-IntegerType">IntegerType</a> <br /> |
             <a class="sym" href="#prod-IntegerType">IntegerType</a></span></td></tr><tr id="prod-IntegerType"><td><span class="prod-number">[80]</span></td><td><a class="sym" href="#proddef-IntegerType">IntegerType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"short" <br /> |
             "long" <a class="sym" href="#prod-OptionalLong">OptionalLong</a></span></td></tr><tr id="prod-OptionalLong"><td><span class="prod-number">[81]</span></td><td><a class="sym" href="#proddef-OptionalLong">OptionalLong</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"long" <br /> |
             ε</span></td></tr><tr id="prod-TypeSuffix"><td><span class="prod-number">[82]</span></td><td><a class="sym" href="#proddef-TypeSuffix">TypeSuffix</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             "?" <a class="sym" href="#prod-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a> <br /> |
             ε</span></td></tr><tr id="prod-TypeSuffixStartingWithArray"><td><span class="prod-number">[83]</span></td><td><a class="sym" href="#proddef-TypeSuffixStartingWithArray">TypeSuffixStartingWithArray</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"[" "]" <a class="sym" href="#prod-TypeSuffix">TypeSuffix</a> <br /> |
             ε</span></td></tr><tr id="prod-Null"><td><span class="prod-number">[84]</span></td><td><a class="sym" href="#proddef-Null">Null</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines">"?" <br /> |
             ε</span></td></tr><tr id="prod-ReturnType"><td><span class="prod-number">[85]</span></td><td><a class="sym" href="#proddef-ReturnType">ReturnType</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <br /> |
             "void"</span></td></tr><tr id="prod-ExtendedAttributeNoArgs"><td><span class="prod-number">[86]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="prod-ExtendedAttributeArgList"><td><span class="prod-number">[87]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeArgList">ExtendedAttributeArgList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td></tr><tr id="prod-ExtendedAttributeIdent"><td><span class="prod-number">[88]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeIdent">ExtendedAttributeIdent</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a></span></td></tr><tr id="prod-ExtendedAttributeNamedArgList"><td><span class="prod-number">[89]</span></td><td><a class="sym" href="#proddef-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a></td><td class="prod-mid">→</td><td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td></tr></table>
        <div class="note"><div class="noteHeader">Note</div>
          <p>
            The <a class="sym" href="#prod-Other">Other</a>
            non-terminal matches any single terminal symbol except for
            <span class="sym">"("</span>, <span class="sym">")"</span>,
            <span class="sym">"["</span>, <span class="sym">"]"</span>,
            <span class="sym">"{"</span>, <span class="sym">"}"</span>
            and <span class="sym">","</span>.
          </p>
        </div>
        <p>
          While the <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a>
          non-terminal matches any non-empty sequence of terminal symbols (as long as any
          parentheses, square brackets or braces are balanced, and the
          <span class="sym">","</span> token appears only within those balanced brackets),
          only a subset of those
          possible sequences are used by the <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
          defined in this specification — see
          <a href="#idl-extended-attributes">section 3.11</a>
          for the syntaxes that are used by these extended attributes.
        </p>
      </div>

      <div id="references" class="section">
        <h2>B. References</h2>

        <div id="normative-references" class="section">
          <h3>B.1. Normative references</h3>

          <dl>
            <dt id="ref-ECMA-262">[ECMA-262]</dt>
            <dd>
              <cite><a href="http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts">ECMAScript Language Specification, 6th Edition</a></cite>,
              A. Wirfs-Brock, Editor. Ecma International, 27 February 2012 (Working Draft).
              <span class="print"><br />Available at http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts</span>
              <br />Unofficial HTML version available at <a href="http://people.mozilla.org/~jorendorff/es6-draft.html">http://people.mozilla.org/~jorendorff/es6-draft.html</a>.
            </dd>
            <dt id="ref-IEEE-754">[IEEE-754]</dt>
            <dd>
              <cite>IEEE Standard for Binary Floating-Point Arithmetic (ANSI/IEEE Std 754-1985)</cite>.
              Institute of Electrical and Electronics Engineers, 1985.
            </dd>
            <dt id="ref-PERLRE">[PERLRE]</dt>
            <dd>
              <cite><a href="http://search.cpan.org/dist/perl/pod/perlre.pod">Perl regular expressions (Perl 5.8.8)</a></cite>.
              The Perl Foundation, February 2006.
              <span class="print"><br />Available at http://www.perl.com/doc/manual/html/pod/perlre.html.</span>
            </dd>
            <dt id="ref-RFC2119">[RFC2119]</dt>
            <dd>
              <cite><a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
              S. Bradner.  IETF, March 1997.
              <span class="print"><br />Available at http://tools.ietf.org/html/rfc2119.</span>
            </dd>
            <dt id="ref-RFC2781">[RFC2781]</dt>
            <dd>
              <cite><a href="http://tools.ietf.org/html/rfc2781">UTF-16, an encoding of ISO 10646</a></cite>,
              P. Hoffmann and F. Yergeau.  IETF, February 2000.
              <span class="print"><br />Available at http://tools.ietf.org/html/rfc2781.</span>
            </dd>
            <dt id="ref-RFC3629">[RFC3629]</dt>
            <dd>
              <cite><a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a></cite>,
              F. Yergeau.  IETF, November 2003.
              <span class="print"><br />Available at http://tools.ietf.org/html/rfc3629.</span>
            </dd>
            <dt id="ref-TYPEDARRAYS">[TYPEDARRAYS]</dt>
            <dd>
              <cite><a href="https://www.khronos.org/registry/typedarray/specs/1.0/">Typed Array Specification</a></cite>,
              V. Vukicevic and K. Russell, eds.  The Khronos Group, 08 February 2011.
              <span class="print"><br />Available at https://www.khronos.org/registry/typedarray/specs/1.0/.</span>
            </dd>
            <dt id="ref-UNICODE">[UNICODE]</dt>
            <dd>
              <cite><a href="http://www.unicode.org/standard/versions/">The Unicode Standard</a></cite>,
              Version 6.0 or later.  The Unicode Consortium.  Mountain View, California, 2011.
              ISBN 978-1-936213-01-6.
              <span class="print"><br />Available at http://www.unicode.org/versions/Unicode6.0.0/.</span>
            </dd>
          </dl>
        </div>

        <div id="informative-references" class="section">
          <h3>B.2. Informative references</h3>

          <dl>
            <dt id="ref-DOM3CORE">[DOM3CORE]</dt>
            <dd>
              <cite><a href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/">Document Object Model (DOM) Level 3 Core Specification</a></cite>.
              A. Le Hors, et al., Editors.  World Wide Web Consortium, April 2004.
              <span class="print"><br />Available at http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/.</span>
            </dd>
            <dt id="ref-HTML5">[HTML5]</dt>
            <dd>
              <cite><a href="http://www.w3.org/TR/2011/WD-html5-20110525/">HTML5</a></cite>.
              I. Hickson, Editor.  World Wide Web Consortium, May 2011.
              <span class="print"><br />Available at http://www.w3.org/TR/2011/WD-html5-20110525/.</span>
            </dd>
            <dt id="ref-OMGIDL">[OMGIDL]</dt>
            <dd>
              <cite><a href="http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf">CORBA 3.1 – OMG IDL Syntax and Semantics chapter</a></cite>.
              Object Management Group, January 2008.
              <span class="print"><br />Available at http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf.</span>
            </dd>
            <dt id="ref-WEBIDL-JAVA">[WEBIDL-JAVA]</dt>
            <dd>
              <cite><a href="http://dev.w3.org/2006/webapi/WebIDL/java.html">Java langage binding for Web IDL</a></cite>.
              World Wide Consortium, work in progress.
              <span class="print"><br />Available at http://dev.w3.org/2006/webapi/WebIDL/java.html.</span>
            </dd>
          </dl>
        </div>
      </div>

      <!--
      <div id='cr-exit' class='section'>
        <h2>Candidate Recommendation exit criteria</h2>

        <p class='norm'>This section is informative.</p>

        <p>
          In order for this document to progress along the W3C Recommendation track
          to the next stage, Proposed Recommendation, a minimum of three months
          must have elapsed since the publication of the Candidate Recommendation,
          and there must be at least two independent, interoperable
          implementations of each feature.  Each feature may be implemented by a different
          set of products; there is no requirement that all features be implemented by
          a single product.  We define independent, interopable and implementation,
          similarly to the CSS Working Group’s definitions, as follows:
        </p>
        <dl>
          <dt>independent</dt>
          <dd>each implementation must be developed by a different
          party and cannot share, reuse, or derive from code used by another
          qualifying implementation. Sections of code that have no bearing
          on the implementation of this specification are exempt from this
          requirement.</dd>
          <dt>interoperable</dt>
          <dd>passing the respective test case(s) in the official Web IDL test suite.</dd>
          <dt>implementation</dt>
          <dd>a Web browser which:
            <b>(1)</b> implements the specification as a <a href='#dfn-conforming-ecmascript-implementation'>conforming ECMAScript implementation</a>
            of the set of IDL fragments from the official Web IDL test suite.
            <b>(2)</b> is available to the general public. The implementation may be a
            shipping product or other publicly available version (i.e., beta version,
            preview release, or nightly build). Non-shipping product releases must have
            implemented the feature(s) for a period of at least one month in order
            to demonstrate stability.
            <b>(3)</b> is not experimental (i.e., a version specifically designed to
            pass the test suite and is not intended for normal usage going forward).</dd>
        </dl>
        <p>
          The official Web IDL test suite will be based on IDL fragments from existing
          Web specifications.  The Working Group will select this set of IDL fragments
          as follows:
        </p>
        <ul>
          <li>The set of IDL fragments must include at least two different uses of a given feature,
            unless the feature exists to describe legacy features of the Web platform and there
            is only one such use of the feature in Web specifications, in which case that single
            use of the feature is sufficient.</li>
          <li>If there is choice regarding which Web specifications to select an IDL
            fragment from, the one that is considered more stable and more widely implemented
            should be chosen.</li>
          <li>The IDL fragments selected must be <a href='#dfn-conforming-idl-fragment'>conforming IDL fragments</a>.</li>
        </ul>
        <p>
          The term <em>feature</em> is used loosely to enable the Working Group to judge how
          detailed the test suite ought to be.
        </p>
        <p>
          The following features of Web IDL are considered <em>at risk</em> and may be
          dropped if they are not in use by any Web specification by the time the test
          suite is otherwise complete:
        </p>
        <ul>
          <li><a class='dfnref' href='#dfn-partial-dictionary'>partial dictionary definitions</a></li>
          <li><a class='dfnref' href='#dfn-inherit-exception'>exception inheritance</a></li>
          <li>the distinction between restricted and <a href='#idl-unrestricted-float'>unrestricted</a> floating point types</li>
          <li>the <a class='xattr' href='#Clamp'>[Clamp]</a> extended attribute</li>
          <li>the <a class='xattr' href='#EnforceRange'>[EnforceRange]</a> extended attribute</li>
          <li>the <a class='xattr' href='#ImplicitThis'>[ImplicitThis]</a> extended attribute</li>
          <li>the <a class='xattr' href='#TreatUndefinedAs'>[TreatUndefinedAs]</a> extended attribute</li>
        </ul>
      </div>
      -->

      <div id="changes" class="section">
        <h2>C. Changes</h2>

        <p class="norm">This section is informative.</p>

        <p>
          The following is a list of substantial changes to the document on each publication.
          For the list of changes during the development of the First Edition of this
          specification, see
          <a href="http://dev.w3.org/2006/webapi/WebIDL/v1.html#changes">that document's
            Changes appendix</a>.
        </p>
        <dl class="changes">
          <dt>Current editor’s draft</dt>
          <dd>
            <ul>
              <li>
                <p>
                  Added iterators that can be declared on interfaces.
                </p>
              </li>
              <li>
                <p>
                  Added an <code>iterator</code> method to objects with indexed
                  properties.
                </p>
              </li>
              <li>
                <p>
                  Updated to ECMAScript 6th Edition.
                </p>
              </li>
              <li>
                <p>
                  Added serializers.
                </p>
              </li>
              <li>
                <p>
                  Added a <a class="idltype" href="#idl-ByteString">ByteString</a> type, for representing
                  8 bit strings without a particular encoding as ECMAScript
                  <span class="estype">String</span> values.
                </p>
              </li>
              <li>
                <p>
                  Added static attributes.
                </p>
              </li>
              <li>
                <p>
                  Specify the value of the “length” property on interface objects
                  that do not have constructors.
                </p>
              </li>
              <li>
                <p>
                  Do not treat array index properties as named properties if an object supports
                  both indexed and named properties.
                </p>
              </li>
              <li>
                <p>
                  Require that dictionary type arguments followed by optional arguments
                  must also be optional, and that such optional arguments always are
                  assumed to have a default value of an empty dictionary.  Also disallow
                  dictionary types from being used inside nullable types and from being
                  considered distinguishable from nullable types.
                </p>
              </li>
              <li>
                <p>
                  Always consider dictionary members with default values as present.
                </p>
              </li>
              <li>
                <p>
                  Tweak <span class="xattr">[Clamp]</span> algorithms for clarity.
                </p>
              </li>
              <li>
                <p>
                  Require exception objects to have [[Class]] “Error” and suggest that they
                  have any non-standard properties that native Error objects do.
                </p>
              </li>
              <li>
                <p>
                  Fixed a bug in the whitespace token regular expression.
                </p>
              </li>
              <li>
                <p>
                  Explicitly disallow dictionaries from being used inside union types
                  as the type of an attribute or exception field.
                </p>
              </li>
              <li>
                <p>
                  Fixed a bug in the definition of distinguishability where a nullable
                  union type and a non-nullable union type that has a nullable member type
                  were considered distinguishable.
                </p>
              </li>
              <li>
                <p>
                  Disallowed callback interfaces from being used in implements statements.
                </p>
              </li>
              <li>
                <p>
                  Renamed “exception types” to “exception names”.
                </p>
              </li>
              <li>
                <p>
                  Disallowed non-callback interfaces from inheriting from callback interfaces.
                </p>
              </li>
              <li>
                <p>
                  Changed the algorithm for conversion from a platform object with indexed
                  properties to a sequence type to use its internal knowledge of the
                  set of property indexes rather than getting the "length" property, which
                  may not even exist.
                </p>
              </li>
              <li>
                <p>
                  Added a warning to prefer the use of <a class="idltype" href="#idl-double">double</a>
                  to <a class="idltype" href="#idl-float">float</a>, unless there are good
                  reasons to choose the 32 bit type.
                </p>
              </li>
              <li>
                <p>
                  Changed the restriction on operation argument default values
                  so that all optional arguments to the left of one with a
                  default value must also have default values.  (Previously,
                  this was to the right.)
                </p>
              </li>
            </ul>
          </dd>
        </dl>
      </div>
    </div>
  </body>
</html>
